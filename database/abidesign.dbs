<?xml version="1.0" encoding="UTF-8" ?>
<project name="abidesign" version="42" database="MySql" >
	<schema name="abipuglia" catalogname="abipuglia" defo="y" >
		<table name="accesso_modalita" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_accesso_modalita" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="PK_Table" unique="PRIMARY_KEY" >
				<column name="id_accesso_modalita" />
			</index>
		</table>
		<table name="bibliografia" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_bibliografia" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="descrizione" type="TEXT" length="65535" jt="-1" />
			<index name="pk_bibliografia" unique="PRIMARY_KEY" >
				<column name="id_bibliografia" />
			</index>
			<index name="bibliografia_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
		</table>
		<table name="biblioteca" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="isil_stato" type="VARCHAR" length="2" jt="12" mandatory="y" >
				<defo>'IT'</defo>
			</column>
			<column name="isil_provincia" type="VARCHAR" length="2" jt="12" mandatory="y" />
			<column name="isil_numero" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="denominazione_ufficiale" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<column name="indirizzo" type="VARCHAR" length="255" jt="12" />
			<column name="frazione" type="VARCHAR" length="255" jt="12" />
			<column name="cap" type="VARCHAR" length="5" jt="12" />
			<column name="id_comune" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="codice_fiscale" type="VARCHAR" length="16" jt="12" />
			<column name="partita_iva" type="VARCHAR" length="11" jt="12" />
			<column name="data_fondazione" type="VARCHAR" length="20" jt="12" />
			<column name="data_istituzione" type="VARCHAR" length="255" jt="12" />
			<column name="edificio_denominazione" type="VARCHAR" length="255" jt="12" />
			<column name="edificio_monumentale" type="BOOL" length="1" jt="-6" />
			<column name="edificio_data_costruzione" type="VARCHAR" length="255" jt="12" />
			<column name="edificio_appositamente_costruito" type="BOOL" length="1" jt="-6" />
			<column name="autonomia_amministrativa" type="BOOL" length="1" jt="-6" />
			<column name="struttura_gerarchica_sovraordinata" type="VARCHAR" length="255" jt="12" />
			<column name="accesso_riservato" type="BOOL" jt="-6" />
			<column name="accesso_handicap" type="BOOL" length="1" jt="-6" />
			<column name="attivo_accesso_internet" type="BOOL" jt="-6" />
			<column name="accesso_internet_pagamento" type="BOOL" jt="-6" />
			<column name="accesso_internet_tempo" type="BOOL" jt="-6" />
			<column name="accesso_internet_proxy" type="BOOL" jt="-6" />
			<column name="inventario_cartaceo" type="BOOL" jt="-6" />
			<column name="inventario_informatizzato" type="BOOL" length="1" jt="-6" />
			<column name="catalogo_topografico_cartaceo" type="BOOL" jt="-6" />
			<column name="catalogo_topografico_informatizzato" type="BOOL" length="1" jt="-6" />
			<column name="id_fondi_antichi_consistenza" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="id_ente" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_tipologia_funzionale" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="procedure_ill_automatizzate" type="BOOL" length="1" jt="-6" />
			<column name="id_biblioteca_padre" type="INT" length="10" jt="4" unsigned="y" />
			<column name="mq_totali" type="INT" length="10" jt="4" unsigned="y" />
			<column name="mq_pubblici" type="INT" length="10" jt="4" unsigned="y" />
			<column name="ml_magazzini" type="INT" length="10" jt="4" unsigned="y" />
			<column name="ml_aperti" type="INT" length="10" jt="4" unsigned="y" />
			<column name="posti_lettura" type="INT" length="10" jt="4" unsigned="y" />
			<column name="posti_video" type="INT" length="10" jt="4" unsigned="y" />
			<column name="posti_audio" type="INT" length="10" jt="4" unsigned="y" />
			<column name="posti_internet" type="INT" length="10" jt="4" unsigned="y" />
			<column name="utenti" type="INT" jt="4" unsigned="y" />
			<column name="utenti_under14" type="INT" length="10" jt="4" unsigned="y" >
				<defo>0</defo>
			</column>
			<column name="utenti_iscritti" type="INT" jt="4" unsigned="y" />
			<column name="utenti_iscritti_prestito_anno" type="INT" length="10" jt="4" unsigned="y" />
			<column name="personale_temporaneo" type="INT" length="10" jt="4" unsigned="y" />
			<column name="personale_esterno" type="INT" length="10" jt="4" unsigned="y" />
			<column name="personale_part_time" type="INT" jt="4" unsigned="y" />
			<column name="personale_totale" type="INT" jt="4" unsigned="y" />
			<column name="bilancio_entrate" type="INT" length="10" jt="4" unsigned="y" />
			<column name="bilancio_uscite" type="INT" jt="4" unsigned="y" />
			<column name="bilancio_uscite_personale" type="INT" length="10" jt="4" unsigned="y" />
			<column name="bilancio_uscite_funzionamento" type="INT" length="10" jt="4" unsigned="y" />
			<column name="bilancio_uscite_incremento_patrimonio" type="INT" length="10" jt="4" unsigned="y" />
			<column name="bilancio_uscite_automazione" type="INT" length="10" jt="4" unsigned="y" />
			<column name="bilancio_uscite_acquisti_anno" type="INT" length="10" jt="4" unsigned="y" >
				<defo>0</defo>
			</column>
			<column name="bilancio_uscite_acquisti_ultimi15" type="INT" length="10" jt="4" unsigned="y" >
				<defo>0</defo>
			</column>
			<column name="bilancio_uscite_varie" type="INT" length="10" jt="4" unsigned="y" />
			<column name="bilancio_patrimoniale_posseduto" type="INT" jt="4" />
			<column name="bilancio_patrimoniale_posseduto_under14" type="INT" jt="4" />
			<column name="n_ore_settimanali" type="INT" length="10" jt="4" unsigned="y" >
				<defo>0</defo>
			</column>
			<column name="n_ore_settimanali_pom" type="INT" length="10" jt="4" unsigned="y" >
				<defo>0</defo>
			</column>
			<column name="n_settim_apertura" type="INT" length="10" jt="4" unsigned="y" >
				<defo>0</defo>
			</column>
			<column name="prestito_interbiblio_nazionale" type="BOOL" length="1" jt="-6" />
			<column name="prestito_interbiblio_internazionale" type="BOOL" length="1" jt="-6" />
			<column name="attivo_informazioni_bibliografiche" type="BOOL" jt="-6" />
			<column name="gestisce_servizio_bibliografico_interno" type="BOOL" length="1" jt="-6" />
			<column name="gestisce_servizio_bibliografico_esterno" type="BOOL" length="1" jt="-6" />
			<column name="n_prestiti_interbibliotecari_annuo" type="INT" jt="4" unsigned="y" />
			<column name="n_prestiti_locali_annuo" type="INT" jt="4" unsigned="y" />
			<column name="catalogazione_data_modifica" type="DATETIME" jt="93" />
			<column name="id_utenti" type="INT" jt="4" unsigned="y" />
			<column name="id_stato_biblioteca_workflow" type="INT" length="100" jt="4" mandatory="y" />
			<column name="catalogazione_data_import" type="DATETIME" jt="93" />
			<column name="catalogazione_data_modifica_remota" type="DATETIME" jt="93" />
			<column name="catalogazione_note" type="TEXT" jt="-1" />
			<column name="catalogazione_data_censimento" type="DATETIME" jt="93" />
			<column name="attivo_riproduzioni" type="BOOL" jt="-6" />
			<column name="attivo_prestito_locale" type="BOOL" jt="-6" />
			<column name="attivo_reference" type="BOOL" jt="-6" />
			<column name="reference_locale" type="BOOL" jt="-6" />
			<column name="reference_online" type="BOOL" jt="-6" />
			<column name="attivo_document_delivery" type="BOOL" jt="-6" />
			<column name="attivo_deposito_legale" type="BOOL" jt="-6" />
			<column name="fonte" type="VARCHAR" length="255" jt="12" />
			<index name="biblioteca_FKIndex1" unique="NORMAL" >
				<column name="id_ente" />
			</index>
			<index name="biblioteca_FKIndex2" unique="NORMAL" >
				<column name="id_comune" />
			</index>
			<index name="biblioteca_FKIndex3" unique="NORMAL" >
				<column name="id_biblioteca_padre" />
			</index>
			<index name="biblioteca_FKIndex4" unique="NORMAL" >
				<column name="id_tipologia_funzionale" />
			</index>
			<index name="idx_1_fondi_antichi" unique="NORMAL" >
				<column name="id_fondi_antichi_consistenza" />
			</index>
			<index name="PK_biblioteca" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
			</index>
			<index name="idx_1_utentemod" unique="NORMAL" >
				<column name="id_utenti" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="comune" >
				<fk_column name="id_comune" pk="id_comune" />
			</fk>
			<fk name="fk_2" to_schema="abipuglia" to_table="tipologia_funzionale" >
				<fk_column name="id_tipologia_funzionale" pk="id_tipologia_funzionale" />
			</fk>
			<fk name="fk_3" to_schema="abipuglia" to_table="ente" >
				<fk_column name="id_ente" pk="id_ente" />
			</fk>
			<fk name="fk_4" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca_padre" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="fondi_antichi_consistenza" >
				<fk_column name="id_fondi_antichi_consistenza" pk="id_fondi_antichi_consistenza" />
			</fk>
			<fk name="fk_5" to_schema="abipuglia" to_table="utenti" >
				<fk_column name="id_utenti" pk="id_utenti" />
			</fk>
			<fk name="fk_6" to_schema="abipuglia" to_table="stato_biblioteca_workflow" >
				<fk_column name="id_stato_biblioteca_workflow" pk="id_stato" />
			</fk>
		</table>
		<table name="biblioteca_has_accesso_modalita" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="id_accesso_modalita" type="INT" jt="4" mandatory="y" unsigned="y" />
			<index name="idx_biblioteca_has_accesso_utenti_ammessi" unique="NORMAL" >
				<column name="id_accesso_modalita" />
			</index>
			<index name="chiave_accessomod" unique="PRIMARY_KEY" >
				<column name="id_accesso_modalita" />
				<column name="id_biblioteca" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="accesso_modalita" >
				<fk_column name="id_accesso_modalita" pk="id_accesso_modalita" />
			</fk>
		</table>
		<table name="biblioteca_has_dewey" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_dewey" type="VARCHAR" length="6" jt="12" mandatory="y" />
			<index name="pk_special" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
				<column name="id_dewey" />
			</index>
			<index name="biblioteca_has_dewey_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<index name="biblioteca_has_dewey_FKIndex2" unique="NORMAL" >
				<column name="id_dewey" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="dewey" >
				<fk_column name="id_dewey" pk="id_dewey" />
			</fk>
		</table>
		<table name="biblioteca_has_document_delivery" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="id_riproduzioni_tipo" type="INT" jt="4" mandatory="y" unsigned="y" />
			<index name="pk_bib_has_doc_del" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
				<column name="id_riproduzioni_tipo" />
			</index>
			<index name="idx_bib_has_doc_del1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<index name="idx_bib_has_doc_del2" unique="NORMAL" >
				<column name="id_riproduzioni_tipo" />
			</index>
			<fk name="fk_ripro_tipo" to_schema="abipuglia" to_table="riproduzioni_tipo" >
				<fk_column name="id_riproduzioni_tipo" pk="id_riproduzioni_tipo" />
			</fk>
			<fk name="fk_biblioteca" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
		</table>
		<table name="biblioteca_has_fondi_speciali" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_fondi_speciali" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<index name="pk_biblioteca_has_fondi_speciali" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
				<column name="id_fondi_speciali" />
			</index>
			<index name="biblioteca_has_fondi_speciali_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<index name="biblioteca_has_fondi_speciali_FKIndex2" unique="NORMAL" >
				<column name="id_fondi_speciali" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="fondi_speciali" >
				<fk_column name="id_fondi_speciali" pk="id_fondi_speciali" />
			</fk>
		</table>
		<table name="biblioteca_has_indicizzazione_classificata" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_indicizzazione_classificata" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<index name="pk_biblioteca_has_indic_classificata" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
				<column name="id_indicizzazione_classificata" />
			</index>
			<index name="biblioteca_has_indic_classificata_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<index name="biblioteca_has_indic_classificata_FKIndex2" unique="NORMAL" >
				<column name="id_indicizzazione_classificata" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="indicizzazione_classificata" >
				<fk_column name="id_indicizzazione_classificata" pk="id_indicizzazione_classificata" />
			</fk>
		</table>
		<table name="biblioteca_has_indicizzazione_soggetto" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_indicizzazione_soggetto" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<index name="pk_biblioteca_has_indic_soggetto" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
				<column name="id_indicizzazione_soggetto" />
			</index>
			<index name="biblioteca_has_indic_soggetto_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<index name="biblioteca_has_indic_soggetto_FKIndex2" unique="NORMAL" >
				<column name="id_indicizzazione_soggetto" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="indicizzazione_soggetto" >
				<fk_column name="id_indicizzazione_soggetto" pk="id_indicizzazione_soggetto" />
			</fk>
		</table>
		<table name="biblioteca_has_norme_catalogazione" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_norme_catalogazione" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<index name="pk_biblioteca_has_norme_catalogazione" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
				<column name="id_norme_catalogazione" />
			</index>
			<index name="biblioteca_has_norme_catalogazione_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<index name="biblioteca_has_norme_catalogazione_FKIndex2" unique="NORMAL" >
				<column name="id_norme_catalogazione" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="norme_catalogazione" >
				<fk_column name="id_norme_catalogazione" pk="id_norme_catalogazione" />
			</fk>
		</table>
		<table name="biblioteca_has_prestito_interbibliotecario" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_prestito_interbibliotecario" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<index name="pk_biblioteca_has_pre_pos_dsc" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
				<column name="id_prestito_interbibliotecario" />
			</index>
			<index name="biblioteca_has_pre_pos_dsc_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<index name="biblioteca_has_pre_pos_dsc_FKIndex2" unique="NORMAL" >
				<column name="id_prestito_interbibliotecario" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="prestito_interbibliotecario" >
				<fk_column name="id_prestito_interbibliotecario" pk="id_prestito_interbibliotecario" />
			</fk>
		</table>
		<table name="biblioteca_has_servizi_bibliotecari_carta" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id__servizi_bibliotecari_carta" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<index name="pk_servizi_biblio" unique="PRIMARY_KEY" >
				<column name="id__servizi_bibliotecari_carta" />
				<column name="id_biblioteca" />
			</index>
			<index name="servizi_biblio_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<index name="idx_biblioteca_has_servizi_bibliotecari" unique="NORMAL" >
				<column name="id__servizi_bibliotecari_carta" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="servizi_bibliotecari_carta" >
				<fk_column name="id__servizi_bibliotecari_carta" pk="id__servizi_bibliotecari_carta" />
			</fk>
		</table>
		<table name="biblioteca_has_servizi_informazioni_bibliografiche" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_servizi_informazioni_bibliografiche_modalita" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<index name="pk_servizi_biblio" unique="PRIMARY_KEY" >
				<column name="id_servizi_informazioni_bibliografiche_modalita" />
				<column name="id_biblioteca" />
			</index>
			<index name="servizi_biblio_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<index name="idx_biblioteca_has_servizi_bibliotecari" unique="NORMAL" >
				<column name="id_servizi_informazioni_bibliografiche_modalita" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="servizi_informazioni_bibliografiche_modalita" >
				<fk_column name="id_servizi_informazioni_bibliografiche_modalita" pk="id_servizi_informazioni_bibliografiche_modalita" />
			</fk>
		</table>
		<table name="biblioteca_has_sezioni_speciali" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_sezioni_speciali" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<index name="pk_biblioteca_has_sezioni_speciali" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
				<column name="id_sezioni_speciali" />
			</index>
			<index name="biblioteca_has_sezioni_speciali_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<index name="biblioteca_has_sezioni_speciali_FKIndex2" unique="NORMAL" >
				<column name="id_sezioni_speciali" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="sezioni_speciali" >
				<fk_column name="id_sezioni_speciali" pk="id_sezioni_speciali" />
			</fk>
		</table>
		<table name="biblioteca_has_sistemi_biblioteche" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_sistemi_biblioteche" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<index name="pk_biblioteca_has_partec_sist_biblio" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
				<column name="id_sistemi_biblioteche" />
			</index>
			<index name="biblioteca_has_partec_sist_biblio_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<index name="biblioteca_has_partec_sist_biblio_FKIndex2" unique="NORMAL" >
				<column name="id_sistemi_biblioteche" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="sistemi_biblioteche" >
				<fk_column name="id_sistemi_biblioteche" pk="id_sistemi_biblioteche" />
			</fk>
		</table>
		<table name="biblioteca_has_sistemi_prestito_interbibliotecario" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_sistemi_prestito_interbibliotecario" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<index name="pk_biblioteca_has_sist_pr_interbiblio" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
				<column name="id_sistemi_prestito_interbibliotecario" />
			</index>
			<index name="biblioteca_has_sist_pr_interbiblio_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<index name="biblioteca_has_sist_pr_interbiblio_FKIndex2" unique="NORMAL" >
				<column name="id_sistemi_prestito_interbibliotecario" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="sistemi_prestito_interbibliotecario" >
				<fk_column name="id_sistemi_prestito_interbibliotecario" pk="id_sistemi_prestito_interbibliotecario" />
			</fk>
		</table>
		<table name="biblioteca_has_utenti" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_utenti" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="id_biblioteca" type="INT" jt="4" mandatory="y" unsigned="y" />
			<index name="idx_bibliotecahasutenti" unique="PRIMARY_KEY" >
				<column name="id_utenti" />
				<column name="id_biblioteca" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="utenti" >
				<fk_column name="id_utenti" pk="id_utenti" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
		</table>
		<table name="cataloghi_collettivi" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_cataloghi_collettivi" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" />
			<column name="id_cataloghi_collettivi_zona_tipo" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="dettaglio_zona" type="VARCHAR" length="50" jt="12" />
			<index name="pk_catal_coll_estens" unique="PRIMARY_KEY" >
				<column name="id_cataloghi_collettivi" />
			</index>
			<index name="idx_cataloghi_collettivi_estensione" unique="NORMAL" >
				<column name="id_cataloghi_collettivi_zona_tipo" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="cataloghi_collettivi_zona_tipo" >
				<fk_column name="id_cataloghi_collettivi_zona_tipo" pk="id_cataloghi_collettivi_zona_tipo" />
			</fk>
		</table>
		<table name="cataloghi_collettivi_materiale_url" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_cataloghi_collettivi_materiale_url" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_cataloghi_collettivi_materiale" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="url" type="VARCHAR" length="255" jt="12" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" />
			<index name="pk_catal_coll_url" unique="PRIMARY_KEY" >
				<column name="id_cataloghi_collettivi_materiale_url" />
			</index>
			<index name="idx_cataloghi_collettivi_url" unique="NORMAL" >
				<column name="id_cataloghi_collettivi_materiale" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="partecipa_cataloghi_collettivi_materiale" >
				<fk_column name="id_cataloghi_collettivi_materiale" pk="id_cataloghi_collettivi_materiale" />
			</fk>
		</table>
		<table name="cataloghi_collettivi_zona_tipo" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_cataloghi_collettivi_zona_tipo" type="INT" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="PK_Table_3" unique="PRIMARY_KEY" >
				<column name="id_cataloghi_collettivi_zona_tipo" />
			</index>
		</table>
		<table name="cataloghi_generali_url" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_cataloghi_generali_url" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_cataloghi_generali" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="url" type="VARCHAR" length="255" jt="12" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" />
			<index name="pk_catal_gener_url" unique="PRIMARY_KEY" >
				<column name="id_cataloghi_generali_url" />
			</index>
			<index name="idx_id_cataloghi_generali" unique="NORMAL" >
				<column name="id_cataloghi_generali" />
			</index>
			<fk name="fk_cataloghi_generali_url" to_schema="abipuglia" to_table="partecipa_cataloghi_generali" >
				<fk_column name="id_cataloghi_generali" pk="id_cataloghi_generali" />
			</fk>
		</table>
		<table name="cataloghi_speciali_materiale_url" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_cataloghi_speciali_materiale_url" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_cataloghi_speciali_materiale" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="url" type="VARCHAR" length="255" jt="12" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" />
			<index name="pk_catal_spec_url" unique="PRIMARY_KEY" >
				<column name="id_cataloghi_speciali_materiale_url" />
			</index>
			<index name="idx_cataloghi_speciali_url" unique="NORMAL" >
				<column name="id_cataloghi_speciali_materiale" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="partecipa_cataloghi_speciali_materiale" >
				<fk_column name="id_cataloghi_speciali_materiale" pk="id_cataloghi_speciali_materiale" />
			</fk>
		</table>
		<table name="cataloghi_supporto_digitale_tipo" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_cataloghi_supporto_digitale_tipo" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="PK_Table_3" unique="PRIMARY_KEY" >
				<column name="id_cataloghi_supporto_digitale_tipo" />
			</index>
		</table>
		<table name="catalogo_generale_tipo" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_catalogo_generale_tipo" type="INT" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="PK_Table_4" unique="PRIMARY_KEY" >
				<column name="id_catalogo_generale_tipo" />
			</index>
		</table>
		<table name="codici" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="id_codici" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="valore" type="VARCHAR" length="100" jt="12" mandatory="y" />
			<index name="idx_pk_bibliotecacodici" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
				<column name="id_codici" />
			</index>
			<index name="idx_biblioteca_has_codice" unique="NORMAL" >
				<column name="id_codici" />
			</index>
			<index name="idx_codici" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="codici_tipo" >
				<fk_column name="id_codici" pk="id_codici" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
		</table>
		<table name="codici_tipo" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_codici" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="PK_Table_4" unique="PRIMARY_KEY" >
				<column name="id_codici" />
			</index>
		</table>
		<table name="comune" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_comune" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_provincia" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="denominazione" type="VARCHAR" length="100" jt="12" mandatory="y" />
			<column name="codice_istat" type="VARCHAR" length="6" jt="12" />
			<column name="codice_finanze" type="VARCHAR" length="6" jt="12" />
			<index name="pk_comune" unique="PRIMARY_KEY" >
				<column name="id_comune" />
			</index>
			<index name="comune_FKIndex1" unique="NORMAL" >
				<column name="id_provincia" />
			</index>
			<fk name="fk_comune_provincia1" to_schema="abipuglia" to_table="provincia" >
				<fk_column name="id_provincia" pk="id_provincia" />
			</fk>
		</table>
		<table name="comunicazioni" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_comunicazioni" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="descrizione" type="TEXT" length="65535" jt="-1" />
			<index name="pk_comunicazioni" unique="PRIMARY_KEY" >
				<column name="id_comunicazioni" />
			</index>
			<index name="comunicazioni_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
		</table>
		<table name="contatti" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_contatti" type="INT" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_contatti_tipi" type="INT" length="6" jt="4" mandatory="y" unsigned="y" />
			<column name="valore" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<column name="note" type="VARCHAR" length="100" jt="12" />
			<index name="PK_contatti" unique="PRIMARY_KEY" >
				<column name="id_contatti" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="contatti_tipo" >
				<fk_column name="id_contatti_tipi" pk="id_contatti_tipo" />
			</fk>
		</table>
		<table name="contatti_tipo" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_contatti_tipo" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="PK_Table_1" unique="PRIMARY_KEY" >
				<column name="id_contatti_tipo" />
			</index>
		</table>
		<table name="dati_province_istat" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_provincia" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="totale_abitanti" type="INT" jt="4" mandatory="y" unsigned="y" >
				<defo>0</defo>
			</column>
			<index name="pk_dati_province_istat" unique="PRIMARY_KEY" >
				<column name="id_provincia" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="provincia" >
				<fk_column name="id_provincia" pk="id_provincia" />
			</fk>
		</table>
		<table name="dati_regioni_istat" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_regione" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="totale_abitanti" type="INT" jt="4" mandatory="y" unsigned="y" >
				<defo>0</defo>
			</column>
			<column name="descrizione_zona" type="VARCHAR" length="20" jt="12" />
			<column name="id_sort" type="INT" length="10" jt="4" unsigned="y" />
			<index name="pk_dati_regioni_istat" unique="PRIMARY_KEY" >
				<column name="id_regione" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="regione" >
				<fk_column name="id_regione" pk="id_regione" />
			</fk>
		</table>
		<table name="denominazioni_alternative" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_denominazioni_alternative" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="denominazione" type="VARCHAR" length="255" jt="12" />
			<index name="pk_denominata_anche" unique="PRIMARY_KEY" >
				<column name="id_denominazioni_alternative" />
			</index>
			<index name="denominata_anche_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
		</table>
		<table name="denominazioni_precedenti" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_denominazioni_precedenti" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="denominazione" type="VARCHAR" length="255" jt="12" />
			<index name="pk_denominata_gia" unique="PRIMARY_KEY" >
				<column name="id_denominazioni_precedenti" />
			</index>
			<index name="denominata_gia_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
		</table>
		<table name="depositi_legali" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_depositi_legali_tipo" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="da_anno" type="VARCHAR" length="10" jt="12" />
			<index name="pk_biblioteca_has_deposito_legale" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
				<column name="id_depositi_legali_tipo" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="depositi_legali_tipo" >
				<fk_column name="id_depositi_legali_tipo" pk="id_depositi_legali_tipo" />
			</fk>
		</table>
		<table name="depositi_legali_tipo" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_depositi_legali_tipo" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="pk_deposito_legale" unique="PRIMARY_KEY" >
				<column name="id_depositi_legali_tipo" />
			</index>
		</table>
		<table name="destinazioni_sociali" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_destinazioni_sociali_tipo" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="note" type="VARCHAR" length="255" jt="12" />
			<index name="pk_biblioteca_has_destinaz_sociale" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
				<column name="id_destinazioni_sociali_tipo" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="destinazioni_sociali_tipo" >
				<fk_column name="id_destinazioni_sociali_tipo" pk="id_destinazioni_sociali" />
			</fk>
		</table>
		<table name="destinazioni_sociali_tipo" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_destinazioni_sociali" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="pk_destinaz_sociale" unique="PRIMARY_KEY" >
				<column name="id_destinazioni_sociali" />
			</index>
		</table>
		<table name="dewey" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_dewey" type="VARCHAR" length="6" jt="12" mandatory="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="pk_dewey" unique="PRIMARY_KEY" >
				<column name="id_dewey" />
			</index>
		</table>
		<table name="dewey_libero" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_dewey" type="VARCHAR" length="6" jt="12" mandatory="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" />
			<index name="pk_biblioteca_has_dewey_lib" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
				<column name="id_dewey" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="dewey" >
				<fk_column name="id_dewey" pk="id_dewey" />
			</fk>
		</table>
		<table name="ente" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_ente" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_stato" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_ente_tipologia_amministrativa" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="denominazione" type="VARCHAR" length="255" jt="12" />
			<column name="partita_iva" type="VARCHAR" length="11" jt="12" />
			<column name="codice_fiscale" type="VARCHAR" length="16" jt="12" />
			<column name="asia_asip" type="VARCHAR" length="11" jt="12" />
			<index name="pk_ente" unique="PRIMARY_KEY" >
				<column name="id_ente" />
			</index>
			<index name="ente_FKIndex2" unique="NORMAL" >
				<column name="id_ente_tipologia_amministrativa" />
			</index>
			<index name="ente_FKIndex3" unique="NORMAL" >
				<column name="id_stato" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="ente_tipologia_amministrativa" >
				<fk_column name="id_ente_tipologia_amministrativa" pk="id_ente_tipologia_amministrativa" />
			</fk>
			<fk name="fk_2" to_schema="abipuglia" to_table="stato" >
				<fk_column name="id_stato" pk="id_stato" />
			</fk>
		</table>
		<table name="ente_tipologia_amministrativa" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_ente_tipologia_amministrativa" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="pk_tipologia_ente" unique="PRIMARY_KEY" >
				<column name="id_ente_tipologia_amministrativa" />
			</index>
		</table>
		<table name="fondi_antichi_consistenza" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_fondi_antichi_consistenza" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="pk_tipologia_funzionale" unique="PRIMARY_KEY" >
				<column name="id_fondi_antichi_consistenza" />
			</index>
		</table>
		<table name="fondi_speciali" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_fondi_speciali" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_dewey" type="VARCHAR" length="6" jt="12" />
			<column name="denominazione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<column name="fondo_depositato" type="BOOL" length="1" jt="-6" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" />
			<column name="id_fondi_speciali_catalogazione_inventario" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="catalogazione_inventario_url" type="VARCHAR" length="255" jt="12" />
			<column name="citazione_bibliografica" type="TEXT" jt="-1" />
			<index name="pk_fondi_speciali" unique="PRIMARY_KEY" >
				<column name="id_fondi_speciali" />
			</index>
			<index name="fondi_speciali_FKIndex1" unique="NORMAL" >
				<column name="id_dewey" />
			</index>
			<index name="idx_fondi_speciali" unique="NORMAL" >
				<column name="id_fondi_speciali_catalogazione_inventario" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="dewey" >
				<fk_column name="id_dewey" pk="id_dewey" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="fondi_speciali_catalogazione_inventario" >
				<fk_column name="id_fondi_speciali_catalogazione_inventario" pk="id_fondi_speciali_catalogazione_inventario" />
			</fk>
		</table>
		<table name="fondi_speciali_catalogazione_inventario" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_fondi_speciali_catalogazione_inventario" type="INT" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="PK_Table_3" unique="PRIMARY_KEY" >
				<column name="id_fondi_speciali_catalogazione_inventario" />
			</index>
		</table>
		<table name="geolocalizzazione" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="latitudine" type="DOUBLE" jt="8" />
			<column name="longitudine" type="DOUBLE" jt="8" />
			<column name="precisione" type="VARCHAR" length="50" jt="12" />
			<column name="warning" type="TEXT" jt="-1" />
			<column name="error" type="TEXT" jt="-1" />
			<index name="pk_id_bib" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
		</table>
		<table name="indicizzazione_classificata" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_indicizzazione_classificata" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" />
			<index name="pk_indic_classificata" unique="PRIMARY_KEY" >
				<column name="id_indicizzazione_classificata" />
			</index>
		</table>
		<table name="indicizzazione_soggetto" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_indicizzazione_soggetto" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" />
			<index name="pk_indic_soggetto" unique="PRIMARY_KEY" >
				<column name="id_indicizzazione_soggetto" />
			</index>
		</table>
		<table name="norme_catalogazione" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_norme_catalogazione" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="pk_norme_catalogazione" unique="PRIMARY_KEY" >
				<column name="id_norme_catalogazione" />
			</index>
		</table>
		<table name="nuova_biblioteca" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="isil_stato" type="VARCHAR" length="2" jt="12" mandatory="y" >
				<defo>'IT'</defo>
			</column>
			<column name="isil_provincia" type="VARCHAR" length="2" jt="12" mandatory="y" />
			<column name="isil_numero" type="INT" jt="4" unsigned="y" />
			<column name="denominazione_ufficiale" type="VARCHAR" length="255" jt="12" />
			<column name="id_comune" type="INT" jt="4" unsigned="y" />
			<column name="data_fondazione" type="VARCHAR" length="20" jt="12" />
			<column name="edificio_monumentale" type="BOOL" length="1" jt="-6" />
			<column name="edificio_data_costruzione" type="VARCHAR" length="255" jt="12" />
			<column name="edificio_appositamente_costruito" type="BOOL" length="1" jt="-6" />
			<column name="autonomia_amministrativa" type="BOOL" length="1" jt="-6" />
			<column name="accesso_riservato" type="BOOL" jt="-6" />
			<column name="accesso_handicap" type="BOOL" length="1" jt="-6" />
			<column name="accesso_internet_pagamento" type="BOOL" jt="-6" />
			<column name="accesso_internet_tempo" type="BOOL" jt="-6" />
			<column name="accesso_internet_proxy" type="BOOL" jt="-6" />
			<column name="inventario_cartaceo" type="BOOL" jt="-6" />
			<column name="inventario_informatizzato" type="BOOL" length="1" jt="-6" />
			<column name="catalogo_topografico_cartaceo" type="BOOL" jt="-6" />
			<column name="catalogo_topografico_informatizzato" type="BOOL" length="1" jt="-6" />
			<column name="id_tipologia_funzionale" type="INT" jt="4" unsigned="y" />
			<column name="gestisce_servizio_bibliografico_interno" type="BOOL" jt="-6" />
			<column name="gestisce_servizio_bibliografico_esterno" type="BOOL" length="1" jt="-6" />
			<column name="login_creatore" type="INT" jt="4" unsigned="y" />
			<column name="login_gestore" type="INT" jt="4" unsigned="y" />
			<column name="id_stato_biblioteca_workflow" type="INT" jt="4" mandatory="y" />
			<column name="ente_denominazione" type="VARCHAR" length="255" jt="12" />
			<column name="ente_tipologia_amministrativa" type="VARCHAR" length="255" jt="12" />
			<column name="ente_stato" type="VARCHAR" length="255" jt="12" />
			<index name="biblioteca_FKIndex2" unique="NORMAL" >
				<column name="id_comune" />
			</index>
			<index name="biblioteca_FKIndex4" unique="NORMAL" >
				<column name="id_tipologia_funzionale" />
			</index>
			<index name="PK_biblioteca" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
			</index>
			<index name="idx_login_creatore" unique="NORMAL" >
				<column name="login_creatore" />
			</index>
			<index name="idx_login_gestore" unique="NORMAL" >
				<column name="login_gestore" />
			</index>
			<index name="idx_nuova_biblioteca" unique="NORMAL" >
				<column name="id_stato_biblioteca_workflow" />
			</index>
			<fk name="fk_comune" to_schema="abipuglia" to_table="comune" >
				<fk_column name="id_comune" pk="id_comune" />
			</fk>
			<fk name="fk_tipologia_funzionale" to_schema="abipuglia" to_table="tipologia_funzionale" >
				<fk_column name="id_tipologia_funzionale" pk="id_tipologia_funzionale" />
			</fk>
			<fk name="fk_login_creatore" to_schema="abipuglia" to_table="utenti" >
				<fk_column name="login_creatore" pk="id_utenti" />
			</fk>
			<fk name="fk_login_gestore" to_schema="abipuglia" to_table="utenti" >
				<fk_column name="login_gestore" pk="id_utenti" />
			</fk>
			<fk name="fk_id_stato_biblioteca_workflow" to_schema="abipuglia" to_table="stato_biblioteca_workflow" >
				<fk_column name="id_stato_biblioteca_workflow" pk="id_stato" />
			</fk>
		</table>
		<table name="orario_chiusure" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_orario_chiusure" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" />
			<index name="pk_periodo_chiusura" unique="PRIMARY_KEY" >
				<column name="id_orario_chiusure" />
			</index>
			<index name="periodo_chiusura_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
		</table>
		<table name="orario_ufficiali" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_orario_ufficiali" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="giorno" type="INT" jt="4" mandatory="y" />
			<column name="dalle" type="TIME" jt="92" mandatory="y" />
			<column name="alle" type="TIME" jt="92" mandatory="y" />
			<index name="pk_orario_ufficiale" unique="PRIMARY_KEY" >
				<column name="id_orario_ufficiali" />
			</index>
			<index name="orario_ufficiale_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
		</table>
		<table name="orario_variazioni" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_orario_variazioni" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<column name="giorno" type="INT" jt="4" />
			<column name="dalle" type="TIME" jt="92" />
			<column name="alle" type="TIME" jt="92" />
			<index name="pk_orari_variazioni" unique="PRIMARY_KEY" >
				<column name="id_orario_variazioni" />
			</index>
			<index name="orari_variazioni_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
		</table>
		<table name="partecipa_cataloghi_collettivi_materiale" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_cataloghi_collettivi_materiale" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_cataloghi_collettivi" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_patrimonio_specializzazione" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="schede" type="BOOL" length="1" jt="-6" />
			<column name="volume" type="BOOL" length="1" jt="-6" />
			<column name="microforme" type="BOOL" length="1" jt="-6" />
			<column name="id_cataloghi_supporto_digitale_tipo" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="descrizione_volume" type="VARCHAR" length="255" jt="12" />
			<column name="percentuale_schede" type="INT" jt="4" unsigned="y" />
			<column name="percentuale_volume" type="INT" jt="4" unsigned="y" />
			<column name="percentuale_microforme" type="INT" jt="4" unsigned="y" />
			<column name="percentuale_informatizzata" type="INT" jt="4" unsigned="y" />
			<column name="da_anno" type="INT" jt="4" unsigned="y" />
			<column name="a_anno" type="INT" jt="4" unsigned="y" />
			<index name="pk_catal_coll" unique="PRIMARY_KEY" >
				<column name="id_cataloghi_collettivi_materiale" />
			</index>
			<index name="catal_coll_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<index name="catal_coll_FKIndex2" unique="NORMAL" >
				<column name="id_patrimonio_specializzazione" />
			</index>
			<index name="catal_coll_FKIndex3" unique="NORMAL" >
				<column name="id_cataloghi_collettivi" />
			</index>
			<index name="idx_cataloghi_collettivi" unique="NORMAL" >
				<column name="id_cataloghi_supporto_digitale_tipo" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="cataloghi_collettivi" >
				<fk_column name="id_cataloghi_collettivi" pk="id_cataloghi_collettivi" />
			</fk>
			<fk name="fk_2" to_schema="abipuglia" to_table="patrimonio_specializzazione" >
				<fk_column name="id_patrimonio_specializzazione" pk="id_patrimonio_specializzazione" />
			</fk>
			<fk name="fk_4" to_schema="abipuglia" to_table="cataloghi_supporto_digitale_tipo" >
				<fk_column name="id_cataloghi_supporto_digitale_tipo" pk="id_cataloghi_supporto_digitale_tipo" />
			</fk>
		</table>
		<table name="partecipa_cataloghi_generali" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_cataloghi_generali" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="schede" type="BOOL" length="1" jt="-6" />
			<column name="volume" type="BOOL" length="1" jt="-6" />
			<column name="microforme" type="BOOL" length="1" jt="-6" />
			<column name="id_cataloghi_supporto_digitale_tipo" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="descrizione_volume" type="VARCHAR" length="255" jt="12" />
			<column name="percentuale_schede" type="INT" jt="4" unsigned="y" />
			<column name="percentuale_volume" type="INT" jt="4" unsigned="y" />
			<column name="percentuale_microforme" type="INT" jt="4" unsigned="y" />
			<column name="percentuale_informatizzata" type="INT" jt="4" unsigned="y" />
			<column name="da_anno" type="INT" jt="4" unsigned="y" />
			<column name="a_anno" type="INT" jt="4" unsigned="y" />
			<column name="id_catalogo_generale_tipo" type="INT" jt="4" mandatory="y" unsigned="y" />
			<index name="pk_catal_gener" unique="PRIMARY_KEY" >
				<column name="id_cataloghi_generali" />
			</index>
			<index name="cataloghi_gener_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<index name="idx_cataloghi_generali" unique="NORMAL" >
				<column name="id_cataloghi_supporto_digitale_tipo" />
			</index>
			<index name="idx_1_cataloghi_generali_tipo" unique="NORMAL" >
				<column name="id_catalogo_generale_tipo" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_2" to_schema="abipuglia" to_table="cataloghi_supporto_digitale_tipo" >
				<fk_column name="id_cataloghi_supporto_digitale_tipo" pk="id_cataloghi_supporto_digitale_tipo" />
			</fk>
			<fk name="fk_3" to_schema="abipuglia" to_table="catalogo_generale_tipo" >
				<fk_column name="id_catalogo_generale_tipo" pk="id_catalogo_generale_tipo" />
			</fk>
		</table>
		<table name="partecipa_cataloghi_speciali_materiale" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_cataloghi_speciali_materiale" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_patrimonio_specializzazione" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="schede" type="BOOL" length="1" jt="-6" />
			<column name="volume" type="BOOL" length="1" jt="-6" />
			<column name="microforme" type="BOOL" length="1" jt="-6" />
			<column name="id_cataloghi_supporto_digitale_tipo" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="descrizione_volume" type="VARCHAR" length="255" jt="12" />
			<column name="percentuale_schede" type="INT" jt="4" unsigned="y" />
			<column name="percentuale_volume" type="INT" jt="4" unsigned="y" />
			<column name="percentuale_microforme" type="INT" jt="4" unsigned="y" />
			<column name="percentuale_informatizzata" type="INT" jt="4" unsigned="y" />
			<column name="da_anno" type="INT" jt="4" unsigned="y" />
			<column name="a_anno" type="INT" jt="4" unsigned="y" />
			<column name="denominazione" type="VARCHAR" length="255" jt="12" />
			<index name="pk_catal_spec" unique="PRIMARY_KEY" >
				<column name="id_cataloghi_speciali_materiale" />
			</index>
			<index name="catal_spec_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<index name="catal_spec_FKIndex2" unique="NORMAL" >
				<column name="id_patrimonio_specializzazione" />
			</index>
			<index name="idx_cataloghi_speciali" unique="NORMAL" >
				<column name="id_cataloghi_supporto_digitale_tipo" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_2" to_schema="abipuglia" to_table="patrimonio_specializzazione" >
				<fk_column name="id_patrimonio_specializzazione" pk="id_patrimonio_specializzazione" />
			</fk>
			<fk name="fk_3" to_schema="abipuglia" to_table="cataloghi_supporto_digitale_tipo" >
				<fk_column name="id_cataloghi_supporto_digitale_tipo" pk="id_cataloghi_supporto_digitale_tipo" />
			</fk>
		</table>
		<table name="patrimonio" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="id_patrimonio_specializzazione" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="quantita" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="quantita_ultimo_anno" type="INT" jt="4" mandatory="y" unsigned="y" />
			<index name="idx_1" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
				<column name="id_patrimonio_specializzazione" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="patrimonio_specializzazione" >
				<fk_column name="id_patrimonio_specializzazione" pk="id_patrimonio_specializzazione" />
			</fk>
		</table>
		<table name="patrimonio_specializzazione" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_patrimonio_specializzazione" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_patrimonio_specializzazione_categoria" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="descrizione" type="TEXT" length="65535" jt="-1" />
			<column name="id_sort" type="INT" length="10" jt="4" unsigned="y" />
			<index name="pk_patr_spec" unique="PRIMARY_KEY" >
				<column name="id_patrimonio_specializzazione" />
			</index>
			<index name="patr_spec_FKIndex1" unique="NORMAL" >
				<column name="id_patrimonio_specializzazione_categoria" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="patrimonio_specializzazione_categoria" >
				<fk_column name="id_patrimonio_specializzazione_categoria" pk="id_patrimonio_specializzazione_categoria" />
			</fk>
		</table>
		<table name="patrimonio_specializzazione_categoria" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_patrimonio_specializzazione_categoria" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_patrimonio_specializzazione_categoria_madre" type="INT" jt="4" unsigned="y" />
			<column name="descrizione" type="TEXT" length="65535" jt="-1" />
			<column name="id_sort" type="INT" length="10" jt="4" unsigned="y" />
			<index name="pk_patr_spec_cat" unique="PRIMARY_KEY" >
				<column name="id_patrimonio_specializzazione_categoria" />
			</index>
			<index name="patr_spec_cat_FKIndex1" unique="NORMAL" >
				<column name="id_patrimonio_specializzazione_categoria_madre" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="patrimonio_specializzazione_categoria" >
				<fk_column name="id_patrimonio_specializzazione_categoria_madre" pk="id_patrimonio_specializzazione_categoria" />
			</fk>
		</table>
		<table name="prestito_interbibliotecario" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_prestito_interbibliotecario" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="nazionale" type="BOOL" length="1" jt="-6" />
			<column name="internazionale" type="BOOL" length="1" jt="-6" />
			<column name="id_prestito_interbibliotecario_modo" type="INT" jt="4" mandatory="y" unsigned="y" />
			<index name="pk_pre_pos_dsc" unique="PRIMARY_KEY" >
				<column name="id_prestito_interbibliotecario" />
			</index>
			<index name="idx_prestito_interbibliotecario" unique="NORMAL" >
				<column name="id_prestito_interbibliotecario_modo" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="prestito_interbibliotecario_modo" >
				<fk_column name="id_prestito_interbibliotecario_modo" pk="id_prestito_interbibliotecario_modo" />
			</fk>
		</table>
		<table name="prestito_interbibliotecario_modo" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_prestito_interbibliotecario_modo" type="INT" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="PK_Table_4" unique="PRIMARY_KEY" >
				<column name="id_prestito_interbibliotecario_modo" />
			</index>
		</table>
		<table name="prestito_locale" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_prestito_locale" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="automatizzato" type="BOOL" length="1" jt="-6" />
			<column name="durata_giorni" type="INT" length="10" jt="4" unsigned="y" />
			<index name="pk_prestito_locale" unique="PRIMARY_KEY" >
				<column name="id_prestito_locale" />
			</index>
			<index name="prestito_locale_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
		</table>
		<table name="prestito_locale_has_materiale_escluso" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_prestito_locale" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_prestito_locale_materiale_escluso" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<index name="pk_prestito_locale_has_prest_escluso" unique="PRIMARY_KEY" >
				<column name="id_prestito_locale" />
				<column name="id_prestito_locale_materiale_escluso" />
			</index>
			<index name="prestito_locale_has_prest_escluso_FKIndex1" unique="NORMAL" >
				<column name="id_prestito_locale" />
			</index>
			<index name="prestito_locale_has_prest_escluso_FKIndex2" unique="NORMAL" >
				<column name="id_prestito_locale_materiale_escluso" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="prestito_locale" >
				<fk_column name="id_prestito_locale" pk="id_prestito_locale" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="prestito_locale_materiale_escluso" >
				<fk_column name="id_prestito_locale_materiale_escluso" pk="id_prestito_locale_materiale_escluso" />
			</fk>
		</table>
		<table name="prestito_locale_has_utenti_ammessi" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_prestito_locale" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_prestito_locale_utenti_ammessi" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<index name="pk_prestito_locale_has_prest_zona" unique="PRIMARY_KEY" >
				<column name="id_prestito_locale" />
				<column name="id_prestito_locale_utenti_ammessi" />
			</index>
			<index name="prestito_locale_has_prest_zona_FKIndex1" unique="NORMAL" >
				<column name="id_prestito_locale" />
			</index>
			<index name="prestito_locale_has_prest_zona_FKIndex2" unique="NORMAL" >
				<column name="id_prestito_locale_utenti_ammessi" />
			</index>
			<fk name="fk_1" to_schema="abipuglia" to_table="prestito_locale" >
				<fk_column name="id_prestito_locale" pk="id_prestito_locale" />
			</fk>
			<fk name="fk_0" to_schema="abipuglia" to_table="prestito_locale_utenti_ammessi" >
				<fk_column name="id_prestito_locale_utenti_ammessi" pk="id_prestito_locale_utenti_ammessi" />
			</fk>
		</table>
		<table name="prestito_locale_materiale_escluso" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_prestito_locale_materiale_escluso" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="pk_prest_escluso" unique="PRIMARY_KEY" >
				<column name="id_prestito_locale_materiale_escluso" />
			</index>
		</table>
		<table name="prestito_locale_utenti_ammessi" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_prestito_locale_utenti_ammessi" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="pk_prest_zona" unique="PRIMARY_KEY" >
				<column name="id_prestito_locale_utenti_ammessi" />
			</index>
		</table>
		<table name="profili" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_profili" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="denominazione" type="VARCHAR" length="255" jt="12" />
			<index name="pk_profili" unique="PRIMARY_KEY" >
				<column name="id_profili" />
			</index>
		</table>
		<table name="provincia" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_provincia" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_regione" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="denominazione" type="VARCHAR" length="100" jt="12" mandatory="y" />
			<column name="codice_istat" type="VARCHAR" length="10" jt="12" />
			<column name="sigla" type="VARCHAR" length="2" jt="12" />
			<index name="pk_provincia" unique="PRIMARY_KEY" >
				<column name="id_provincia" />
			</index>
			<index name="provincia_FKIndex1" unique="NORMAL" >
				<column name="id_regione" />
			</index>
			<fk name="fk_provincia_regione1" to_schema="abipuglia" to_table="regione" >
				<fk_column name="id_regione" pk="id_regione" />
			</fk>
		</table>
		<table name="pubblicazioni" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_pubblicazioni" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="biblioteca_has_pubblicazioni_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<index name="PK_biblioteca_has_pubblicazioni" unique="PRIMARY_KEY" >
				<column name="id_pubblicazioni" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
		</table>
		<table name="regione" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_regione" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_stato" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="denominazione" type="VARCHAR" length="100" jt="12" mandatory="y" />
			<column name="sigla" type="VARCHAR" length="2" jt="12" />
			<index name="pk_regione" unique="PRIMARY_KEY" >
				<column name="id_regione" />
			</index>
			<index name="regione_FKIndex1" unique="NORMAL" >
				<column name="id_stato" />
			</index>
			<fk name="fk_regione_stato1" to_schema="abipuglia" to_table="stato" >
				<fk_column name="id_stato" pk="id_stato" />
			</fk>
		</table>
		<table name="regolamento" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_regolamento" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="riferimento_normativa" type="VARCHAR" length="255" jt="12" />
			<column name="url" type="VARCHAR" length="255" jt="12" />
			<index name="pk_regolamento" unique="PRIMARY_KEY" >
				<column name="id_regolamento" />
			</index>
			<index name="regolamento_FKIndex1" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
		</table>
		<table name="riproduzioni" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="id_riproduzioni_tipo" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="locale" type="BOOL" length="1" jt="-6" />
			<column name="nazionale" type="BOOL" length="1" jt="-6" />
			<column name="internazionale" type="BOOL" length="1" jt="-6" />
			<index name="idx" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
				<column name="id_riproduzioni_tipo" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="riproduzioni_tipo" >
				<fk_column name="id_riproduzioni_tipo" pk="id_riproduzioni_tipo" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
		</table>
		<table name="riproduzioni_tipo" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_riproduzioni_tipo" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" />
			<index name="pk_tipo_riproduzioni" unique="PRIMARY_KEY" >
				<column name="id_riproduzioni_tipo" />
			</index>
		</table>
		<table name="servizi_bibliotecari_carta" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id__servizi_bibliotecari_carta" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="PK_Table_2" unique="PRIMARY_KEY" >
				<column name="id__servizi_bibliotecari_carta" />
			</index>
		</table>
		<table name="servizi_informazioni_bibliografiche_modalita" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_servizi_informazioni_bibliografiche_modalita" type="INT" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="PK_Table_2" unique="PRIMARY_KEY" >
				<column name="id_servizi_informazioni_bibliografiche_modalita" />
			</index>
		</table>
		<table name="sezioni_speciali" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_sezioni_speciali" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" />
			<index name="pk_sezioni_speciali" unique="PRIMARY_KEY" >
				<column name="id_sezioni_speciali" />
			</index>
		</table>
		<table name="sistemi_biblioteche" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_sistemi_biblioteche" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" />
			<index name="pk_partec_sist_biblio" unique="PRIMARY_KEY" >
				<column name="id_sistemi_biblioteche" />
			</index>
		</table>
		<table name="sistemi_prestito_interbibliotecario" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_sistemi_prestito_interbibliotecario" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<column name="url" type="VARCHAR" length="255" jt="12" />
			<index name="pk_sist_pr_interbiblio" unique="PRIMARY_KEY" >
				<column name="id_sistemi_prestito_interbibliotecario" />
			</index>
		</table>
		<table name="spogli_bibliografici" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_spogli_bibliografici" type="INT" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="id_biblioteca" type="INT" jt="4" mandatory="y" unsigned="y" />
			<column name="descrizione_bibliografica" type="TEXT" jt="-1" mandatory="y" />
			<index name="PK_Table_3" unique="PRIMARY_KEY" >
				<column name="id_spogli_bibliografici" />
			</index>
			<index name="idx_spogli_bibliografici" unique="NORMAL" >
				<column name="id_biblioteca" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
		</table>
		<table name="stato" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_stato" type="INT" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="denominazione" type="VARCHAR" length="100" jt="12" mandatory="y" />
			<column name="sigla" type="VARCHAR" length="2" jt="12" />
			<index name="pk_stato" unique="PRIMARY_KEY" >
				<column name="id_stato" />
			</index>
		</table>
		<table name="stato_biblioteca_workflow" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_stato" type="INT" jt="4" mandatory="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" />
			<column name="label" type="VARCHAR" length="64" jt="12" mandatory="y" />
			<index name="PK_Table_4" unique="PRIMARY_KEY" >
				<column name="id_stato" />
			</index>
		</table>
		<table name="stato_catalogazione" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_biblioteca" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_stato_catalogazione" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_biblioteca_target" type="INT" jt="4" unsigned="y" />
			<index name="pk_biblioteca_has_stato_catalogazione" unique="PRIMARY_KEY" >
				<column name="id_biblioteca" />
				<column name="id_stato_catalogazione" />
			</index>
			<index name="idx_stato_catalogazione" unique="NORMAL" >
				<column name="id_biblioteca_target" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca" pk="id_biblioteca" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="stato_catalogazione_tipo" >
				<fk_column name="id_stato_catalogazione" pk="id_stato_catalogazione_tipo" />
			</fk>
			<fk name="fk_2" to_schema="abipuglia" to_table="biblioteca" >
				<fk_column name="id_biblioteca_target" pk="id_biblioteca" />
			</fk>
		</table>
		<table name="stato_catalogazione_tipo" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_stato_catalogazione_tipo" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="100" jt="12" />
			<index name="pk_stato_catalogazione" unique="PRIMARY_KEY" >
				<column name="id_stato_catalogazione_tipo" />
			</index>
		</table>
		<table name="tipologia_funzionale" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_tipologia_funzionale" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="descrizione" type="VARCHAR" length="255" jt="12" mandatory="y" />
			<index name="pk_tipologia_funzionale" unique="PRIMARY_KEY" >
				<column name="id_tipologia_funzionale" />
			</index>
		</table>
		<table name="utenti" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_utenti" type="INT" length="10" jt="4" mandatory="y" unsigned="y" autoincrement="y" />
			<column name="login" type="VARCHAR" length="20" jt="12" mandatory="y" />
			<column name="password" type="VARCHAR" length="50" jt="12" mandatory="y" />
			<column name="nome" type="VARCHAR" length="255" jt="12" />
			<column name="cognome" type="VARCHAR" length="255" jt="12" />
			<column name="tel" type="VARCHAR" length="50" jt="12" />
			<column name="fax" type="VARCHAR" length="50" jt="12" />
			<column name="email" type="VARCHAR" length="50" jt="12" />
			<column name="incarico" type="VARCHAR" length="50" jt="12" />
			<column name="note" type="VARCHAR" length="255" jt="12" />
			<column name="data_modifica_password" type="DATETIME" jt="93" >
				<comment> <![CDATA[data di ultima generazione della password]]> </comment>
			</column>
			<column name="enabled" type="BOOL" jt="-6" mandatory="y" >
				<defo>1</defo>
			</column>
			<column name="codice_validazione" type="VARCHAR" length="50" jt="12" />
			<index name="PK_utenti" unique="PRIMARY_KEY" >
				<column name="id_utenti" />
			</index>
			<index name="login" unique="UNIQUE" >
				<column name="login" />
			</index>
		</table>
		<table name="utenti_has_profili" storage="engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci" >
			<column name="id_utenti" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<column name="id_profili" type="INT" length="10" jt="4" mandatory="y" unsigned="y" />
			<index name="pk_utenti_has_profili" unique="PRIMARY_KEY" >
				<column name="id_utenti" />
				<column name="id_profili" />
			</index>
			<index name="utenti_has_profili_FKIndex1" unique="NORMAL" >
				<column name="id_utenti" />
			</index>
			<index name="utenti_has_profili_FKIndex2" unique="NORMAL" >
				<column name="id_profili" />
			</index>
			<fk name="fk_0" to_schema="abipuglia" to_table="utenti" >
				<fk_column name="id_utenti" pk="id_utenti" />
			</fk>
			<fk name="fk_1" to_schema="abipuglia" to_table="profili" >
				<fk_column name="id_profili" pk="id_profili" />
			</fk>
		</table>
	</schema>
	<connector name="Con_0" database="MySql" driver_class="com.mysql.jdbc.Driver" driver_jar="mysql-connector-java-5.1.12-bin.jar" host="localhost" port="3306" instance="abipuglia" user="root" />
	<layout name="abi" tab_index="1" >
		<entity schema="abipuglia" name="bibliografia" x="663" y="611" />
		<entity schema="abipuglia" name="biblioteca" x="845" y="351" />
		<entity schema="abipuglia" name="cataloghi_collettivi" x="1586" y="624" />
		<entity schema="abipuglia" name="cataloghi_collettivi_materiale_url" x="1599" y="728" />
		<entity schema="abipuglia" name="cataloghi_collettivi_zona_tipo" x="1898" y="624" />
		<entity schema="abipuglia" name="cataloghi_generali_url" x="1573" y="1365" />
		<entity schema="abipuglia" name="cataloghi_speciali_materiale_url" x="1443" y="1170" />
		<entity schema="abipuglia" name="cataloghi_supporto_digitale_tipo" x="1950" y="832" />
		<entity schema="abipuglia" name="catalogo_generale_tipo" x="1443" y="1508" />
		<entity schema="abipuglia" name="codici" x="1274" y="91" />
		<entity schema="abipuglia" name="codici_tipo" x="1430" y="104" />
		<entity schema="abipuglia" name="comune" x="650" y="247" />
		<entity schema="abipuglia" name="comunicazioni" x="663" y="520" />
		<entity schema="abipuglia" name="contatti" x="962" y="39" />
		<entity schema="abipuglia" name="contatti_tipo" x="1105" y="52" />
		<entity schema="abipuglia" name="dati_province_istat" x="455" y="78" />
		<entity schema="abipuglia" name="dati_regioni_istat" x="312" y="65" />
		<entity schema="abipuglia" name="denominazioni_alternative" x="702" y="52" />
		<entity schema="abipuglia" name="denominazioni_precedenti" x="702" y="143" />
		<entity schema="abipuglia" name="depositi_legali" x="650" y="1287" />
		<entity schema="abipuglia" name="depositi_legali_tipo" x="442" y="1287" />
		<entity schema="abipuglia" name="destinazioni_sociali" x="520" y="1482" />
		<entity schema="abipuglia" name="destinazioni_sociali_tipo" x="260" y="1495" />
		<entity schema="abipuglia" name="dewey" x="442" y="1157" />
		<entity schema="abipuglia" name="dewey_libero" x="650" y="1157" />
		<entity schema="abipuglia" name="ente" x="260" y="377" />
		<entity schema="abipuglia" name="ente_tipologia_amministrativa" x="39" y="377" />
		<entity schema="abipuglia" name="fondi_antichi_consistenza" x="416" y="585" />
		<entity schema="abipuglia" name="geolocalizzazione" x="1261" y="1599" />
		<entity schema="abipuglia" name="nuova_biblioteca" x="91" y="572" />
		<entity schema="abipuglia" name="orario_chiusure" x="1183" y="299" />
		<entity schema="abipuglia" name="orario_ufficiali" x="1508" y="299" />
		<entity schema="abipuglia" name="orario_variazioni" x="1352" y="299" />
		<entity schema="abipuglia" name="partecipa_cataloghi_collettivi_materiale" x="1157" y="611" />
		<entity schema="abipuglia" name="partecipa_cataloghi_generali" x="1183" y="1352" />
		<entity schema="abipuglia" name="partecipa_cataloghi_speciali_materiale" x="1157" y="1092" />
		<entity schema="abipuglia" name="patrimonio" x="1183" y="923" />
		<entity schema="abipuglia" name="patrimonio_specializzazione" x="1430" y="923" />
		<entity schema="abipuglia" name="patrimonio_specializzazione_categoria" x="1742" y="923" />
		<entity schema="abipuglia" name="prestito_locale" x="1170" y="442" />
		<entity schema="abipuglia" name="prestito_locale_has_materiale_escluso" x="1339" y="429" />
		<entity schema="abipuglia" name="prestito_locale_has_utenti_ammessi" x="1339" y="507" />
		<entity schema="abipuglia" name="prestito_locale_materiale_escluso" x="1625" y="416" />
		<entity schema="abipuglia" name="prestito_locale_utenti_ammessi" x="1625" y="507" />
		<entity schema="abipuglia" name="profili" x="546" y="1742" />
		<entity schema="abipuglia" name="provincia" x="481" y="221" />
		<entity schema="abipuglia" name="pubblicazioni" x="650" y="975" />
		<entity schema="abipuglia" name="regione" x="325" y="221" />
		<entity schema="abipuglia" name="regolamento" x="637" y="702" />
		<entity schema="abipuglia" name="riproduzioni" x="650" y="832" />
		<entity schema="abipuglia" name="riproduzioni_tipo" x="429" y="845" />
		<entity schema="abipuglia" name="spogli_bibliografici" x="494" y="1066" />
		<entity schema="abipuglia" name="stato" x="169" y="221" />
		<entity schema="abipuglia" name="stato_biblioteca_workflow" x="390" y="975" />
		<entity schema="abipuglia" name="stato_catalogazione" x="1144" y="182" />
		<entity schema="abipuglia" name="stato_catalogazione_tipo" x="1352" y="182" />
		<entity schema="abipuglia" name="tipologia_funzionale" x="546" y="442" />
		<entity schema="abipuglia" name="utenti" x="910" y="1755" />
		<entity schema="abipuglia" name="utenti_has_profili" x="715" y="1742" />
		<query name="Sql_000" tab_index="-1" >
			<string> <![CDATA[CREATE SCHEMA abi;

CREATE TABLE abi.tipo_riproduzioni ( 
	id_tipo_riproduzioni INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_tipo_riproduzioni PRIMARY KEY ( id_tipo_riproduzioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

]]> </string>
		</query>
		<query name="Sql_001" tab_index="-1" >
			<string> <![CDATA[CREATE SCHEMA abi;

CREATE TABLE abi.nuova_biblioteca ( 
    id_biblioteca INT UNSIGNED NOT NULL,
    isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
    isil_provincia VARCHAR( 2 ) NOT NULL,
    isil_numero INT UNSIGNED NULL,
    denominazione_ufficiale VARCHAR( 255 ) NULL,
    id_comune INT UNSIGNED NULL,
    data_fondazione VARCHAR( 20 ) NULL,
    data_istituzione VARCHAR( 255 ) NULL,
    edificio_denominazione VARCHAR( 255 ) NULL,
    edificio_monumentale BOOL NULL,
    edificio_data_costruzione VARCHAR( 255 ) NULL,
    edificio_appositamente_costruito BOOL NULL,
    autonomia_amministrativa BOOL NULL,
    accesso_riservato BOOL NULL,
    accesso_handicap BOOL NULL,
    accesso_internet_pagamento BOOL NULL,
    accesso_internet_tempo BOOL NULL,
    accesso_internet_proxy BOOL NULL,
    inventario_cartaceo BOOL NULL,
    inventario_informatizzato BOOL NULL,
    catalogo_topografico_cartaceo BOOL NULL,
    catalogo_topografico_informatizzato BOOL NULL,
    id_ente INT UNSIGNED NULL,
    id_tipologia_funzionale INT UNSIGNED NULL,
    gestisce_servizio_bibliografico_interno BOOL NULL,
    gestisce_servizio_bibliografico_esterno BOOL NULL,
    login_creatore INT UNSIGNED NULL,
    login_gestore INT UNSIGNED NULL,
    id_stato_biblioteca_workflow INT UNSIGNED NOT NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex1 ON abi.nuova_biblioteca ( id_ente );

CREATE INDEX biblioteca_FKIndex2 ON abi.nuova_biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex4 ON abi.nuova_biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_login_creatore ON abi.nuova_biblioteca ( login_creatore );

CREATE INDEX idx_login_gestore ON abi.nuova_biblioteca ( login_gestore );

CREATE INDEX idx_nuova_biblioteca ON abi.nuova_biblioteca ( id_stato_biblioteca_workflow );

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_ente ( id_ente ) REFERENCES abi.ente( id_ente ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_comune ( id_comune ) REFERENCES abi.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_tipologia_funzionale ( id_tipologia_funzionale ) REFERENCES abi.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_login_creatore ( login_creatore ) REFERENCES abi.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_login_gestore ( login_gestore ) REFERENCES abi.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_id_stato_biblioteca_workflow ( id_stato_biblioteca_workflow ) REFERENCES abi.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]> </string>
		</query>
		<query name="Sql_002" tab_index="-1" >
			<string> <![CDATA[CREATE SCHEMA abi;

CREATE TABLE abi.nuova_biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NULL,
	denominazione_ufficiale VARCHAR( 255 ) NULL,
	id_comune INT UNSIGNED NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	data_istituzione VARCHAR( 255 ) NULL,
	edificio_denominazione VARCHAR( 255 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_ente INT UNSIGNED NULL,
	id_tipologia_funzionale INT UNSIGNED NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	login_creatore INT NOT NULL,
	login_gestore INT NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex1 ON abi.nuova_biblioteca ( id_ente );

CREATE INDEX biblioteca_FKIndex2 ON abi.nuova_biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex4 ON abi.nuova_biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_nuova_biblioteca ON abi.nuova_biblioteca ( login_creatore );

CREATE INDEX idx_nuova_biblioteca ON abi.nuova_biblioteca ( login_gestore );

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_ente ( id_ente ) REFERENCES abi.ente( id_ente ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_comune ( id_comune ) REFERENCES abi.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_tipologia_funzionale ( id_tipologia_funzionale ) REFERENCES abi.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_login_creatore ( login_creatore ) REFERENCES abi.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_login_gestore ( login_gestore ) REFERENCES abi.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]> </string>
		</query>
		<query name="Sql_003" tab_index="-1" >
			<string> <![CDATA[CREATE SCHEMA abi;

CREATE TABLE abi.ente ( 
	id_ente INT UNSIGNED NOT NULL,
	id_stato INT UNSIGNED NOT NULL,
	id_tip_ente INT UNSIGNED NOT NULL,
	id_obiettivo INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	asia_asip VARCHAR( 11 ) NULL,
CONSTRAINT pk_ente PRIMARY KEY ( id_ente )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX ente_FKIndex1 ON abi.ente ( id_obiettivo );

CREATE INDEX ente_FKIndex2 ON abi.ente ( id_tip_ente );

CREATE INDEX ente_FKIndex3 ON abi.ente ( id_stato );

CREATE TABLE abi.tipologia_ente ( 
	id_tip_ente INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_ente PRIMARY KEY ( id_tip_ente )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

ALTER TABLE abi.ente ADD FOREIGN KEY fk_0 ( id_tip_ente ) REFERENCES abi.tipologia_ente( id_tip_ente ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.ente ADD FOREIGN KEY fk_1 ( id_obiettivo ) REFERENCES abi.obiettivo( id_obiettivo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.ente ADD FOREIGN KEY fk_2 ( id_stato ) REFERENCES abi.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]> </string>
		</query>
		<query name="Sql_004" tab_index="-1" >
			<string> <![CDATA[CREATE SCHEMA abi;

CREATE TABLE abi.nuova_biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NULL,
	denominazione_ufficiale VARCHAR( 255 ) NULL,
	id_comune INT UNSIGNED NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	data_istituzione VARCHAR( 255 ) NULL,
	edificio_denominazione VARCHAR( 255 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_ente INT UNSIGNED NULL,
	id_tipologia_funzionale INT UNSIGNED NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	login_creatore INT NOT NULL,
	login_gestore INT NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex1 ON abi.nuova_biblioteca ( id_ente );

CREATE INDEX biblioteca_FKIndex2 ON abi.nuova_biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex4 ON abi.nuova_biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_login_gestore ON abi.nuova_biblioteca ( login_gestore );

CREATE INDEX idx_login_creatore ON abi.nuova_biblioteca ( login_creatore );

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_ente ( id_ente ) REFERENCES abi.ente( id_ente ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_comune ( id_comune ) REFERENCES abi.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_tipologia_funzionale ( id_tipologia_funzionale ) REFERENCES abi.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_login_creatore ( login_creatore ) REFERENCES abi.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_login_gestore ( login_gestore ) REFERENCES abi.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]> </string>
		</query>
		<query name="Sql_005" tab_index="-1" >
			<string> <![CDATA[CREATE SCHEMA abi;

CREATE TABLE abi.nuova_biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NULL,
	denominazione_ufficiale VARCHAR( 255 ) NULL,
	id_comune INT UNSIGNED NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	data_istituzione VARCHAR( 255 ) NULL,
	edificio_denominazione VARCHAR( 255 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_ente INT UNSIGNED NULL,
	id_tipologia_funzionale INT UNSIGNED NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	login_creatore INT NOT NULL,
	login_gestore INT NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex1 ON abi.nuova_biblioteca ( id_ente );

CREATE INDEX biblioteca_FKIndex2 ON abi.nuova_biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex4 ON abi.nuova_biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_login_creatore ON abi.nuova_biblioteca ( login_creatore );

CREATE INDEX idx_login_gestore ON abi.nuova_biblioteca ( login_gestore );

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_ente ( id_ente ) REFERENCES abi.ente( id_ente ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_comune ( id_comune ) REFERENCES abi.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_tipologia_funzionale ( id_tipologia_funzionale ) REFERENCES abi.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_login_creatore ( login_creatore ) REFERENCES abi.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_login_gestore ( login_gestore ) REFERENCES abi.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]> </string>
		</query>
		<query name="Sql_006" tab_index="-1" >
			<string> <![CDATA[CREATE SCHEMA abi;

CREATE TABLE abi.nuova_biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NULL,
	denominazione_ufficiale VARCHAR( 255 ) NULL,
	id_comune INT UNSIGNED NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	data_istituzione VARCHAR( 255 ) NULL,
	edificio_denominazione VARCHAR( 255 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_ente INT UNSIGNED NULL,
	id_tipologia_funzionale INT UNSIGNED NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	login_creatore INT NULL,
	login_gestore INT NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex1 ON abi.nuova_biblioteca ( id_ente );

CREATE INDEX biblioteca_FKIndex2 ON abi.nuova_biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex4 ON abi.nuova_biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_login_creatore ON abi.nuova_biblioteca ( login_creatore );

CREATE INDEX idx_login_gestore ON abi.nuova_biblioteca ( login_gestore );

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_ente ( id_ente ) REFERENCES abi.ente( id_ente ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_comune ( id_comune ) REFERENCES abi.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_tipologia_funzionale ( id_tipologia_funzionale ) REFERENCES abi.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_login_creatore ( login_creatore ) REFERENCES abi.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abi.nuova_biblioteca ADD FOREIGN KEY fk_login_gestore ( login_gestore ) REFERENCES abi.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]> </string>
		</query>
		<query name="Sql_007" tab_index="-1" >
			<string> <![CDATA[CREATE SCHEMA abicampania;

CREATE TABLE abicampania.accesso_modalita ( 
	id_accesso_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table PRIMARY KEY ( id_accesso_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.bibliografia ( 
	id_bibliografia INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
CONSTRAINT pk_bibliografia PRIMARY KEY ( id_bibliografia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX bibliografia_FKIndex1 ON abicampania.bibliografia ( id_biblioteca );

CREATE TABLE abicampania.biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NOT NULL,
	denominazione_ufficiale VARCHAR( 255 ) NOT NULL,
	indirizzo VARCHAR( 255 ) NULL,
	frazione VARCHAR( 255 ) NULL,
	cap VARCHAR( 5 ) NULL,
	id_comune INT UNSIGNED NOT NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	data_istituzione VARCHAR( 255 ) NULL,
	edificio_denominazione VARCHAR( 255 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	struttura_gerarchica_sovraordinata VARCHAR( 255 ) NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	accesso_limite_eta_min INT UNSIGNED NULL,
	accesso_limite_eta_max INT UNSIGNED NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_fondi_antichi_consistenza INT UNSIGNED NOT NULL,
	id_ente INT UNSIGNED NOT NULL,
	id_tipologia_funzionale INT UNSIGNED NOT NULL,
	procedure_ill_automatizzate BOOL NULL,
	id_biblioteca_padre INT UNSIGNED NULL,
	mq_totali INT UNSIGNED NULL,
	mq_pubblici INT UNSIGNED NULL,
	ml_magazzini INT UNSIGNED NULL,
	ml_aperti INT UNSIGNED NULL,
	posti_lettura INT UNSIGNED NULL,
	posti_video INT UNSIGNED NULL,
	posti_audio INT UNSIGNED NULL,
	posti_internet INT UNSIGNED NULL,
	utenti INT UNSIGNED NULL,
	utenti_under14 INT UNSIGNED NULL DEFAULT 0,
	utenti_iscritti INT UNSIGNED NULL,
	utenti_iscritti_prestito_anno INT UNSIGNED NULL,
	personale_temporaneo INT UNSIGNED NULL,
	personale_esterno INT UNSIGNED NULL,
	personale_part_time INT UNSIGNED NULL,
	personale_totale INT UNSIGNED NULL,
	bilancio_entrate INT UNSIGNED NULL,
	bilancio_uscite INT UNSIGNED NULL,
	bilancio_uscite_personale INT UNSIGNED NULL,
	bilancio_uscite_funzionamento INT UNSIGNED NULL,
	bilancio_uscite_incremento_patrimonio INT UNSIGNED NULL,
	bilancio_uscite_automazione INT UNSIGNED NULL,
	bilancio_uscite_acquisti_anno INT UNSIGNED NULL DEFAULT 0,
	bilancio_uscite_acquisti_ultimi15 INT UNSIGNED NULL DEFAULT 0,
	bilancio_uscite_varie INT UNSIGNED NULL,
	bilancio_patrimoniale_posseduto INT NULL,
	bilancio_patrimoniale_posseduto_under14 INT NULL,
	n_ore_settimanali INT UNSIGNED NULL DEFAULT 0,
	n_ore_settimanali_pom INT UNSIGNED NULL DEFAULT 0,
	n_settim_apertura INT UNSIGNED NULL DEFAULT 0,
	prestito_interbiblio_nazionale BOOL NULL,
	prestito_interbiblio_internazionale BOOL NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	n_prestiti_interbibliotecari_annuo INT UNSIGNED NULL,
	n_prestiti_locali_annuo INT UNSIGNED NULL,
	catalogazione_data_modifica DATETIME NULL,
	id_utenti INT UNSIGNED NULL,
	id_stato_biblioteca_workflow INT NOT NULL,
	catalogazione_data_import DATETIME NULL,
	catalogazione_data_modifica_remota DATETIME NULL,
	catalogazione_note TEXT NULL,
	catalogazione_data_censimento DATETIME NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex1 ON abicampania.biblioteca ( id_ente );

CREATE INDEX biblioteca_FKIndex2 ON abicampania.biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex3 ON abicampania.biblioteca ( id_biblioteca_padre );

CREATE INDEX biblioteca_FKIndex4 ON abicampania.biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_1_fondi_antichi ON abicampania.biblioteca ( id_fondi_antichi_consistenza );

CREATE INDEX idx_1_utentemod ON abicampania.biblioteca ( id_utenti );

CREATE TABLE abicampania.biblioteca_has_accesso_modalita ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_accesso_modalita INT UNSIGNED NOT NULL,
CONSTRAINT chiave_accessomod PRIMARY KEY ( id_accesso_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_accesso_utenti_ammessi ON abicampania.biblioteca_has_accesso_modalita ( id_accesso_modalita );

CREATE TABLE abicampania.biblioteca_has_dewey ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_dewey VARCHAR( 6 ) NOT NULL,
CONSTRAINT pk_special PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_dewey_FKIndex1 ON abicampania.biblioteca_has_dewey ( id_biblioteca );

CREATE INDEX biblioteca_has_dewey_FKIndex2 ON abicampania.biblioteca_has_dewey ( id_dewey );

CREATE TABLE abicampania.biblioteca_has_fondi_speciali ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_fondi_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_fondi_speciali PRIMARY KEY ( id_biblioteca, id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex1 ON abicampania.biblioteca_has_fondi_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex2 ON abicampania.biblioteca_has_fondi_speciali ( id_fondi_speciali );

CREATE TABLE abicampania.biblioteca_has_indicizzazione_classificata ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_indicizzazione_classificata INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_classificata PRIMARY KEY ( id_biblioteca, id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_classificata_FKIndex1 ON abicampania.biblioteca_has_indicizzazione_classificata ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_classificata_FKIndex2 ON abicampania.biblioteca_has_indicizzazione_classificata ( id_indicizzazione_classificata );

CREATE TABLE abicampania.biblioteca_has_indicizzazione_soggetto ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_indicizzazione_soggetto INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_soggetto PRIMARY KEY ( id_biblioteca, id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex1 ON abicampania.biblioteca_has_indicizzazione_soggetto ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex2 ON abicampania.biblioteca_has_indicizzazione_soggetto ( id_indicizzazione_soggetto );

CREATE TABLE abicampania.biblioteca_has_norme_catalogazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_norme_catalogazione INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_norme_catalogazione PRIMARY KEY ( id_biblioteca, id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex1 ON abicampania.biblioteca_has_norme_catalogazione ( id_biblioteca );

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex2 ON abicampania.biblioteca_has_norme_catalogazione ( id_norme_catalogazione );

CREATE TABLE abicampania.biblioteca_has_prestito_interbibliotecario ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_pre_pos_dsc PRIMARY KEY ( id_biblioteca, id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex1 ON abicampania.biblioteca_has_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex2 ON abicampania.biblioteca_has_prestito_interbibliotecario ( id_prestito_interbibliotecario );

CREATE TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ( 
	id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id__servizi_bibliotecari_carta, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abicampania.biblioteca_has_servizi_bibliotecari_carta ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abicampania.biblioteca_has_servizi_bibliotecari_carta ( id__servizi_bibliotecari_carta );

CREATE TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( 
	id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( id_servizi_informazioni_bibliografiche_modalita );

CREATE TABLE abicampania.biblioteca_has_sezioni_speciali ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sezioni_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sezioni_speciali PRIMARY KEY ( id_biblioteca, id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex1 ON abicampania.biblioteca_has_sezioni_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex2 ON abicampania.biblioteca_has_sezioni_speciali ( id_sezioni_speciali );

CREATE TABLE abicampania.biblioteca_has_sistemi_biblioteche ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sistemi_biblioteche INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_partec_sist_biblio PRIMARY KEY ( id_biblioteca, id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex1 ON abicampania.biblioteca_has_sistemi_biblioteche ( id_biblioteca );

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex2 ON abicampania.biblioteca_has_sistemi_biblioteche ( id_sistemi_biblioteche );

CREATE TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sist_pr_interbiblio PRIMARY KEY ( id_biblioteca, id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex1 ON abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex2 ON abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( id_sistemi_prestito_interbibliotecario );

CREATE TABLE abicampania.biblioteca_has_utenti ( 
	id_utenti INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT idx_bibliotecahasutenti PRIMARY KEY ( id_utenti, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.cataloghi_collettivi ( 
	id_cataloghi_collettivi INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
	id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL,
	dettaglio_zona VARCHAR( 50 ) NULL,
CONSTRAINT pk_catal_coll_estens PRIMARY KEY ( id_cataloghi_collettivi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_estensione ON abicampania.cataloghi_collettivi ( id_cataloghi_collettivi_zona_tipo );

CREATE TABLE abicampania.cataloghi_collettivi_materiale_url ( 
	id_cataloghi_collettivi_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_coll_url PRIMARY KEY ( id_cataloghi_collettivi_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_url ON abicampania.cataloghi_collettivi_materiale_url ( id_cataloghi_collettivi_materiale );

CREATE TABLE abicampania.cataloghi_collettivi_zona_tipo ( 
	id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_collettivi_zona_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.cataloghi_generali_url ( 
	id_cataloghi_generali_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_generali INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_gener_url PRIMARY KEY ( id_cataloghi_generali_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_id_cataloghi_generali ON abicampania.cataloghi_generali_url ( id_cataloghi_generali );

CREATE TABLE abicampania.cataloghi_speciali_materiale_url ( 
	id_cataloghi_speciali_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec_url PRIMARY KEY ( id_cataloghi_speciali_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_speciali_url ON abicampania.cataloghi_speciali_materiale_url ( id_cataloghi_speciali_materiale );

CREATE TABLE abicampania.cataloghi_supporto_digitale_tipo ( 
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_supporto_digitale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.catalogo_generale_tipo ( 
	id_catalogo_generale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_catalogo_generale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.codici ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_codici INT UNSIGNED NOT NULL,
	valore VARCHAR( 100 ) NOT NULL,
CONSTRAINT idx_pk_bibliotecacodici PRIMARY KEY ( id_biblioteca, id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_codice ON abicampania.codici ( id_codici );

CREATE INDEX idx_codici ON abicampania.codici ( id_biblioteca );

CREATE TABLE abicampania.codici_tipo ( 
	id_codici INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.comune ( 
	id_comune INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_provincia INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	codice_istat VARCHAR( 6 ) NULL,
	codice_finanze VARCHAR( 6 ) NULL,
CONSTRAINT pk_comune PRIMARY KEY ( id_comune )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comune_FKIndex1 ON abicampania.comune ( id_provincia );

CREATE TABLE abicampania.comunicazioni ( 
	id_comunicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
CONSTRAINT pk_comunicazioni PRIMARY KEY ( id_comunicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comunicazioni_FKIndex1 ON abicampania.comunicazioni ( id_biblioteca );

CREATE TABLE abicampania.contatti ( 
	id_contatti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	id_contatti_tipi INT UNSIGNED NOT NULL,
	valore VARCHAR( 255 ) NOT NULL,
	note VARCHAR( 100 ) NULL,
CONSTRAINT PK_contatti PRIMARY KEY ( id_contatti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.contatti_tipo ( 
	id_contatti_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_1 PRIMARY KEY ( id_contatti_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dati_province_istat ( 
	id_provincia INT UNSIGNED NOT NULL,
	totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
CONSTRAINT pk_dati_province_istat PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dati_regioni_istat ( 
	id_regione INT UNSIGNED NOT NULL,
	totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
	descrizione_zona VARCHAR( 20 ) NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_dati_regioni_istat PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.denominazioni_alternative ( 
	id_denominazioni_alternative INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_anche PRIMARY KEY ( id_denominazioni_alternative )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_anche_FKIndex1 ON abicampania.denominazioni_alternative ( id_biblioteca );

CREATE TABLE abicampania.denominazioni_precedenti ( 
	id_denominazioni_precedenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_gia PRIMARY KEY ( id_denominazioni_precedenti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_gia_FKIndex1 ON abicampania.denominazioni_precedenti ( id_biblioteca );

CREATE TABLE abicampania.depositi_legali ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_depositi_legali_tipo INT UNSIGNED NOT NULL,
	da_anno VARCHAR( 10 ) NULL,
CONSTRAINT pk_biblioteca_has_deposito_legale PRIMARY KEY ( id_biblioteca, id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.depositi_legali_tipo ( 
	id_depositi_legali_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_deposito_legale PRIMARY KEY ( id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.destinazioni_sociali ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_destinazioni_sociali_tipo INT UNSIGNED NOT NULL,
	note VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_destinaz_sociale PRIMARY KEY ( id_biblioteca, id_destinazioni_sociali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.destinazioni_sociali_tipo ( 
	id_destinazioni_sociali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_destinaz_sociale PRIMARY KEY ( id_destinazioni_sociali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dewey ( 
	id_dewey VARCHAR( 6 ) NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_dewey PRIMARY KEY ( id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dewey_libero ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_dewey VARCHAR( 6 ) NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_dewey_lib PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.ente ( 
	id_ente INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_stato INT UNSIGNED NOT NULL,
	id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	asia_asip VARCHAR( 11 ) NULL,
CONSTRAINT pk_ente PRIMARY KEY ( id_ente )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX ente_FKIndex2 ON abicampania.ente ( id_ente_tipologia_amministrativa );

CREATE INDEX ente_FKIndex3 ON abicampania.ente ( id_stato );

CREATE TABLE abicampania.ente_tipologia_amministrativa ( 
	id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_ente PRIMARY KEY ( id_ente_tipologia_amministrativa )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.fondi_antichi_consistenza ( 
	id_fondi_antichi_consistenza INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_fondi_antichi_consistenza )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.fondi_speciali ( 
	id_fondi_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_dewey VARCHAR( 6 ) NULL,
	denominazione VARCHAR( 255 ) NOT NULL,
	fondo_depositato BOOL NULL,
	descrizione VARCHAR( 255 ) NULL,
	id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL,
	catalogazione_inventario_url VARCHAR( 255 ) NULL,
	citazione_bibliografica TEXT NULL,
CONSTRAINT pk_fondi_speciali PRIMARY KEY ( id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX fondi_speciali_FKIndex1 ON abicampania.fondi_speciali ( id_dewey );

CREATE INDEX idx_fondi_speciali ON abicampania.fondi_speciali ( id_fondi_speciali_catalogazione_inventario );

CREATE TABLE abicampania.fondi_speciali_catalogazione_inventario ( 
	id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_fondi_speciali_catalogazione_inventario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.geolocalizzazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	latitudine DOUBLE NULL,
	longitudine DOUBLE NULL,
	precisione VARCHAR( 50 ) NULL,
	warning TEXT NULL,
	error TEXT NULL,
CONSTRAINT pk_id_bib PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.indicizzazione_classificata ( 
	id_indicizzazione_classificata INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_classificata PRIMARY KEY ( id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.indicizzazione_soggetto ( 
	id_indicizzazione_soggetto INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_soggetto PRIMARY KEY ( id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.norme_catalogazione ( 
	id_norme_catalogazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_norme_catalogazione PRIMARY KEY ( id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.nuova_biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NULL,
	denominazione_ufficiale VARCHAR( 255 ) NULL,
	id_comune INT UNSIGNED NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_tipologia_funzionale INT UNSIGNED NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	login_creatore INT UNSIGNED NULL,
	login_gestore INT UNSIGNED NULL,
	id_stato_biblioteca_workflow INT NOT NULL,
	ente_denominazione VARCHAR( 255 ) NULL,
	ente_tipologia_amministrativa VARCHAR( 255 ) NULL,
	ente_stato VARCHAR( 255 ) NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex2 ON abicampania.nuova_biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex4 ON abicampania.nuova_biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_login_creatore ON abicampania.nuova_biblioteca ( login_creatore );

CREATE INDEX idx_login_gestore ON abicampania.nuova_biblioteca ( login_gestore );

CREATE INDEX idx_nuova_biblioteca ON abicampania.nuova_biblioteca ( id_stato_biblioteca_workflow );

CREATE TABLE abicampania.orario_chiusure ( 
	id_orario_chiusure INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_periodo_chiusura PRIMARY KEY ( id_orario_chiusure )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX periodo_chiusura_FKIndex1 ON abicampania.orario_chiusure ( id_biblioteca );

CREATE TABLE abicampania.orario_ufficiali ( 
	id_orario_ufficiali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	giorno INT NOT NULL,
	dalle TIME NOT NULL,
	alle TIME NOT NULL,
CONSTRAINT pk_orario_ufficiale PRIMARY KEY ( id_orario_ufficiali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orario_ufficiale_FKIndex1 ON abicampania.orario_ufficiali ( id_biblioteca );

CREATE TABLE abicampania.orario_variazioni ( 
	id_orario_variazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
	giorno INT NULL,
	dalle TIME NULL,
	alle TIME NULL,
CONSTRAINT pk_orari_variazioni PRIMARY KEY ( id_orario_variazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orari_variazioni_FKIndex1 ON abicampania.orario_variazioni ( id_biblioteca );

CREATE TABLE abicampania.partecipa_cataloghi_collettivi_materiale ( 
	id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_collettivi INT UNSIGNED NOT NULL,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
CONSTRAINT pk_catal_coll PRIMARY KEY ( id_cataloghi_collettivi_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_coll_FKIndex1 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_biblioteca );

CREATE INDEX catal_coll_FKIndex2 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_patrimonio_specializzazione );

CREATE INDEX catal_coll_FKIndex3 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_collettivi );

CREATE INDEX idx_cataloghi_collettivi ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abicampania.partecipa_cataloghi_generali ( 
	id_cataloghi_generali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
	id_catalogo_generale_tipo INT UNSIGNED NOT NULL,
CONSTRAINT pk_catal_gener PRIMARY KEY ( id_cataloghi_generali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX cataloghi_gener_FKIndex1 ON abicampania.partecipa_cataloghi_generali ( id_biblioteca );

CREATE INDEX idx_cataloghi_generali ON abicampania.partecipa_cataloghi_generali ( id_cataloghi_supporto_digitale_tipo );

CREATE INDEX idx_1_cataloghi_generali_tipo ON abicampania.partecipa_cataloghi_generali ( id_catalogo_generale_tipo );

CREATE TABLE abicampania.partecipa_cataloghi_speciali_materiale ( 
	id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec PRIMARY KEY ( id_cataloghi_speciali_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_spec_FKIndex1 ON abicampania.partecipa_cataloghi_speciali_materiale ( id_biblioteca );

CREATE INDEX catal_spec_FKIndex2 ON abicampania.partecipa_cataloghi_speciali_materiale ( id_patrimonio_specializzazione );

CREATE INDEX idx_cataloghi_speciali ON abicampania.partecipa_cataloghi_speciali_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abicampania.patrimonio ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	quantita INT UNSIGNED NOT NULL,
	quantita_ultimo_anno INT UNSIGNED NOT NULL,
CONSTRAINT idx_1 PRIMARY KEY ( id_biblioteca, id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.patrimonio_specializzazione ( 
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec PRIMARY KEY ( id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_FKIndex1 ON abicampania.patrimonio_specializzazione ( id_patrimonio_specializzazione_categoria );

CREATE TABLE abicampania.patrimonio_specializzazione_categoria ( 
	id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione_categoria_madre INT UNSIGNED NULL,
	descrizione TEXT NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec_cat PRIMARY KEY ( id_patrimonio_specializzazione_categoria )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_cat_FKIndex1 ON abicampania.patrimonio_specializzazione_categoria ( id_patrimonio_specializzazione_categoria_madre );

CREATE TABLE abicampania.prestito_interbibliotecario ( 
	id_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	nazionale BOOL NULL,
	internazionale BOOL NULL,
	id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL,
CONSTRAINT pk_pre_pos_dsc PRIMARY KEY ( id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_prestito_interbibliotecario ON abicampania.prestito_interbibliotecario ( id_prestito_interbibliotecario_modo );

CREATE TABLE abicampania.prestito_interbibliotecario_modo ( 
	id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_prestito_interbibliotecario_modo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.prestito_locale ( 
	id_prestito_locale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	automatizzato BOOL NULL,
	durata_giorni INT UNSIGNED NULL,
CONSTRAINT pk_prestito_locale PRIMARY KEY ( id_prestito_locale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_FKIndex1 ON abicampania.prestito_locale ( id_biblioteca );

CREATE TABLE abicampania.prestito_locale_has_materiale_escluso ( 
	id_prestito_locale INT UNSIGNED NOT NULL,
	id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_escluso PRIMARY KEY ( id_prestito_locale, id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex1 ON abicampania.prestito_locale_has_materiale_escluso ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex2 ON abicampania.prestito_locale_has_materiale_escluso ( id_prestito_locale_materiale_escluso );

CREATE TABLE abicampania.prestito_locale_has_utenti_ammessi ( 
	id_prestito_locale INT UNSIGNED NOT NULL,
	id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_zona PRIMARY KEY ( id_prestito_locale, id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_zona_FKIndex1 ON abicampania.prestito_locale_has_utenti_ammessi ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_zona_FKIndex2 ON abicampania.prestito_locale_has_utenti_ammessi ( id_prestito_locale_utenti_ammessi );

CREATE TABLE abicampania.prestito_locale_materiale_escluso ( 
	id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_escluso PRIMARY KEY ( id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.prestito_locale_utenti_ammessi ( 
	id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_zona PRIMARY KEY ( id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.profili ( 
	id_profili INT UNSIGNED NOT NULL AUTO_INCREMENT,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_profili PRIMARY KEY ( id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.provincia ( 
	id_provincia INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_regione INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	codice_istat VARCHAR( 10 ) NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_provincia PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX provincia_FKIndex1 ON abicampania.provincia ( id_regione );

CREATE TABLE abicampania.pubblicazioni ( 
	id_pubblicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_biblioteca_has_pubblicazioni PRIMARY KEY ( id_pubblicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pubblicazioni_FKIndex1 ON abicampania.pubblicazioni ( id_biblioteca );

CREATE TABLE abicampania.regione ( 
	id_regione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_stato INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_regione PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regione_FKIndex1 ON abicampania.regione ( id_stato );

CREATE TABLE abicampania.regolamento ( 
	id_regolamento INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	riferimento_normativa VARCHAR( 255 ) NULL,
	url VARCHAR( 255 ) NULL,
CONSTRAINT pk_regolamento PRIMARY KEY ( id_regolamento )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regolamento_FKIndex1 ON abicampania.regolamento ( id_biblioteca );

CREATE TABLE abicampania.riproduzioni ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_riproduzioni_tipo INT UNSIGNED NOT NULL,
	locale BOOL NULL,
	nazionale BOOL NULL,
	internazionale BOOL NULL,
CONSTRAINT idx PRIMARY KEY ( id_biblioteca, id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.riproduzioni_tipo ( 
	id_riproduzioni_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_tipo_riproduzioni PRIMARY KEY ( id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.servizi_bibliotecari_carta ( 
	id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id__servizi_bibliotecari_carta )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.servizi_informazioni_bibliografiche_modalita ( 
	id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sezioni_speciali ( 
	id_sezioni_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_sezioni_speciali PRIMARY KEY ( id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sistemi_biblioteche ( 
	id_sistemi_biblioteche INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_partec_sist_biblio PRIMARY KEY ( id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sistemi_prestito_interbibliotecario ( 
	id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
	url VARCHAR( 255 ) NULL,
CONSTRAINT pk_sist_pr_interbiblio PRIMARY KEY ( id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.spogli_bibliografici ( 
	id_spogli_bibliografici INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione_bibliografica TEXT NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_spogli_bibliografici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_spogli_bibliografici ON abicampania.spogli_bibliografici ( id_biblioteca );

CREATE TABLE abicampania.stato ( 
	id_stato INT UNSIGNED NOT NULL AUTO_INCREMENT,
	denominazione VARCHAR( 100 ) NOT NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_stato PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.stato_biblioteca_workflow ( 
	id_stato INT NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
	label VARCHAR( 64 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.stato_catalogazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_stato_catalogazione INT UNSIGNED NOT NULL,
	id_biblioteca_target INT UNSIGNED NULL,
CONSTRAINT pk_biblioteca_has_stato_catalogazione PRIMARY KEY ( id_biblioteca, id_stato_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_stato_catalogazione ON abicampania.stato_catalogazione ( id_biblioteca_target );

CREATE TABLE abicampania.stato_catalogazione_tipo ( 
	id_stato_catalogazione_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 100 ) NULL,
CONSTRAINT pk_stato_catalogazione PRIMARY KEY ( id_stato_catalogazione_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.tipologia_funzionale ( 
	id_tipologia_funzionale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_tipologia_funzionale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.utenti ( 
	id_utenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	login VARCHAR( 20 ) NOT NULL,
	password VARCHAR( 50 ) NOT NULL,
	nome VARCHAR( 255 ) NULL,
	cognome VARCHAR( 255 ) NULL,
	tel VARCHAR( 50 ) NULL,
	fax VARCHAR( 50 ) NULL,
	email VARCHAR( 50 ) NULL,
	incarico VARCHAR( 50 ) NULL,
	note VARCHAR( 255 ) NULL,
	data_modifica_password DATETIME NULL,
	enabled BOOL NOT NULL DEFAULT 1,
	codice_validazione VARCHAR( 50 ) NULL,
CONSTRAINT PK_utenti PRIMARY KEY ( id_utenti ),
CONSTRAINT login UNIQUE ( login )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

ALTER TABLE abicampania.utenti MODIFY data_modifica_password DATETIME COMMENT 'data di ultima generazione della password';

CREATE TABLE abicampania.utenti_has_profili ( 
	id_utenti INT UNSIGNED NOT NULL,
	id_profili INT UNSIGNED NOT NULL,
CONSTRAINT pk_utenti_has_profili PRIMARY KEY ( id_utenti, id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX utenti_has_profili_FKIndex1 ON abicampania.utenti_has_profili ( id_utenti );

CREATE INDEX utenti_has_profili_FKIndex2 ON abicampania.utenti_has_profili ( id_profili );

ALTER TABLE abicampania.bibliografia ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_0 ( id_comune ) REFERENCES abicampania.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_2 ( id_tipologia_funzionale ) REFERENCES abicampania.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_3 ( id_ente ) REFERENCES abicampania.ente( id_ente ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_4 ( id_biblioteca_padre ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_1 ( id_fondi_antichi_consistenza ) REFERENCES abicampania.fondi_antichi_consistenza( id_fondi_antichi_consistenza ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_5 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_6 ( id_stato_biblioteca_workflow ) REFERENCES abicampania.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_1 ( id_accesso_modalita ) REFERENCES abicampania.accesso_modalita( id_accesso_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_dewey ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_dewey ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali ) REFERENCES abicampania.fondi_speciali( id_fondi_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_1 ( id_indicizzazione_classificata ) REFERENCES abicampania.indicizzazione_classificata( id_indicizzazione_classificata ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_1 ( id_indicizzazione_soggetto ) REFERENCES abicampania.indicizzazione_soggetto( id_indicizzazione_soggetto ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_1 ( id_norme_catalogazione ) REFERENCES abicampania.norme_catalogazione( id_norme_catalogazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_prestito_interbibliotecario ) REFERENCES abicampania.prestito_interbibliotecario( id_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_1 ( id__servizi_bibliotecari_carta ) REFERENCES abicampania.servizi_bibliotecari_carta( id__servizi_bibliotecari_carta ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_1 ( id_servizi_informazioni_bibliografiche_modalita ) REFERENCES abicampania.servizi_informazioni_bibliografiche_modalita( id_servizi_informazioni_bibliografiche_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_1 ( id_sezioni_speciali ) REFERENCES abicampania.sezioni_speciali( id_sezioni_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_1 ( id_sistemi_biblioteche ) REFERENCES abicampania.sistemi_biblioteche( id_sistemi_biblioteche ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_sistemi_prestito_interbibliotecario ) REFERENCES abicampania.sistemi_prestito_interbibliotecario( id_sistemi_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_utenti ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_utenti ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_collettivi ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_zona_tipo ) REFERENCES abicampania.cataloghi_collettivi_zona_tipo( id_cataloghi_collettivi_zona_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_collettivi_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_materiale ) REFERENCES abicampania.partecipa_cataloghi_collettivi_materiale( id_cataloghi_collettivi_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_generali_url ADD FOREIGN KEY fk_cataloghi_generali_url ( id_cataloghi_generali ) REFERENCES abicampania.partecipa_cataloghi_generali( id_cataloghi_generali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_speciali_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_speciali_materiale ) REFERENCES abicampania.partecipa_cataloghi_speciali_materiale( id_cataloghi_speciali_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.codici ADD FOREIGN KEY fk_0 ( id_codici ) REFERENCES abicampania.codici_tipo( id_codici ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.codici ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.comune ADD FOREIGN KEY fk_comune_provincia1 ( id_provincia ) REFERENCES abicampania.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.comunicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.contatti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.contatti ADD FOREIGN KEY fk_1 ( id_contatti_tipi ) REFERENCES abicampania.contatti_tipo( id_contatti_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dati_province_istat ADD FOREIGN KEY fk_0 ( id_provincia ) REFERENCES abicampania.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dati_regioni_istat ADD FOREIGN KEY fk_0 ( id_regione ) REFERENCES abicampania.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.denominazioni_alternative ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.denominazioni_precedenti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.depositi_legali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.depositi_legali ADD FOREIGN KEY fk_1 ( id_depositi_legali_tipo ) REFERENCES abicampania.depositi_legali_tipo( id_depositi_legali_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.destinazioni_sociali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.destinazioni_sociali ADD FOREIGN KEY fk_1 ( id_destinazioni_sociali_tipo ) REFERENCES abicampania.destinazioni_sociali_tipo( id_destinazioni_sociali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dewey_libero ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dewey_libero ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_0 ( id_ente_tipologia_amministrativa ) REFERENCES abicampania.ente_tipologia_amministrativa( id_ente_tipologia_amministrativa ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_2 ( id_stato ) REFERENCES abicampania.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_speciali ADD FOREIGN KEY fk_0 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali_catalogazione_inventario ) REFERENCES abicampania.fondi_speciali_catalogazione_inventario( id_fondi_speciali_catalogazione_inventario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.geolocalizzazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_comune ( id_comune ) REFERENCES abicampania.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_tipologia_funzionale ( id_tipologia_funzionale ) REFERENCES abicampania.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_login_creatore ( login_creatore ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_login_gestore ( login_gestore ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_id_stato_biblioteca_workflow ( id_stato_biblioteca_workflow ) REFERENCES abicampania.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_chiusure ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_ufficiali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_variazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_1 ( id_cataloghi_collettivi ) REFERENCES abicampania.cataloghi_collettivi( id_cataloghi_collettivi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_4 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_2 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_3 ( id_catalogo_generale_tipo ) REFERENCES abicampania.catalogo_generale_tipo( id_catalogo_generale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_3 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio ADD FOREIGN KEY fk_1 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio_specializzazione ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria ) REFERENCES abicampania.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio_specializzazione_categoria ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria_madre ) REFERENCES abicampania.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_prestito_interbibliotecario_modo ) REFERENCES abicampania.prestito_interbibliotecario_modo( id_prestito_interbibliotecario_modo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_0 ( id_prestito_locale ) REFERENCES abicampania.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_1 ( id_prestito_locale_materiale_escluso ) REFERENCES abicampania.prestito_locale_materiale_escluso( id_prestito_locale_materiale_escluso ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_1 ( id_prestito_locale ) REFERENCES abicampania.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_0 ( id_prestito_locale_utenti_ammessi ) REFERENCES abicampania.prestito_locale_utenti_ammessi( id_prestito_locale_utenti_ammessi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.provincia ADD FOREIGN KEY fk_provincia_regione1 ( id_regione ) REFERENCES abicampania.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.pubblicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.regione ADD FOREIGN KEY fk_regione_stato1 ( id_stato ) REFERENCES abicampania.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.regolamento ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.riproduzioni ADD FOREIGN KEY fk_0 ( id_riproduzioni_tipo ) REFERENCES abicampania.riproduzioni_tipo( id_riproduzioni_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.riproduzioni ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.spogli_bibliografici ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_1 ( id_stato_catalogazione ) REFERENCES abicampania.stato_catalogazione_tipo( id_stato_catalogazione_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_2 ( id_biblioteca_target ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.utenti_has_profili ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.utenti_has_profili ADD FOREIGN KEY fk_1 ( id_profili ) REFERENCES abicampania.profili( id_profili ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]> </string>
		</query>
		<query name="Sql_008" tab_index="-1" >
			<string> <![CDATA[CREATE SCHEMA abicampania;

CREATE TABLE abicampania.accesso_modalita ( 
	id_accesso_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table PRIMARY KEY ( id_accesso_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.bibliografia ( 
	id_bibliografia INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
CONSTRAINT pk_bibliografia PRIMARY KEY ( id_bibliografia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX bibliografia_FKIndex1 ON abicampania.bibliografia ( id_biblioteca );

CREATE TABLE abicampania.biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NOT NULL,
	denominazione_ufficiale VARCHAR( 255 ) NOT NULL,
	indirizzo VARCHAR( 255 ) NULL,
	frazione VARCHAR( 255 ) NULL,
	cap VARCHAR( 5 ) NULL,
	id_comune INT UNSIGNED NOT NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	data_istituzione VARCHAR( 255 ) NULL,
	edificio_denominazione VARCHAR( 255 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	struttura_gerarchica_sovraordinata VARCHAR( 255 ) NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	accesso_limite_eta_min INT UNSIGNED NULL,
	accesso_limite_eta_max INT UNSIGNED NULL,
	attivo_accesso_internet BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_fondi_antichi_consistenza INT UNSIGNED NOT NULL,
	id_ente INT UNSIGNED NOT NULL,
	id_tipologia_funzionale INT UNSIGNED NOT NULL,
	procedure_ill_automatizzate BOOL NULL,
	id_biblioteca_padre INT UNSIGNED NULL,
	mq_totali INT UNSIGNED NULL,
	mq_pubblici INT UNSIGNED NULL,
	ml_magazzini INT UNSIGNED NULL,
	ml_aperti INT UNSIGNED NULL,
	posti_lettura INT UNSIGNED NULL,
	posti_video INT UNSIGNED NULL,
	posti_audio INT UNSIGNED NULL,
	posti_internet INT UNSIGNED NULL,
	utenti INT UNSIGNED NULL,
	utenti_under14 INT UNSIGNED NULL DEFAULT 0,
	utenti_iscritti INT UNSIGNED NULL,
	utenti_iscritti_prestito_anno INT UNSIGNED NULL,
	personale_temporaneo INT UNSIGNED NULL,
	personale_esterno INT UNSIGNED NULL,
	personale_part_time INT UNSIGNED NULL,
	personale_totale INT UNSIGNED NULL,
	bilancio_entrate INT UNSIGNED NULL,
	bilancio_uscite INT UNSIGNED NULL,
	bilancio_uscite_personale INT UNSIGNED NULL,
	bilancio_uscite_funzionamento INT UNSIGNED NULL,
	bilancio_uscite_incremento_patrimonio INT UNSIGNED NULL,
	bilancio_uscite_automazione INT UNSIGNED NULL,
	bilancio_uscite_acquisti_anno INT UNSIGNED NULL DEFAULT 0,
	bilancio_uscite_acquisti_ultimi15 INT UNSIGNED NULL DEFAULT 0,
	bilancio_uscite_varie INT UNSIGNED NULL,
	bilancio_patrimoniale_posseduto INT NULL,
	bilancio_patrimoniale_posseduto_under14 INT NULL,
	n_ore_settimanali INT UNSIGNED NULL DEFAULT 0,
	n_ore_settimanali_pom INT UNSIGNED NULL DEFAULT 0,
	n_settim_apertura INT UNSIGNED NULL DEFAULT 0,
	prestito_interbiblio_nazionale BOOL NULL,
	prestito_interbiblio_internazionale BOOL NULL,
	attivo_informazioni_bibliografiche BOOL NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	n_prestiti_interbibliotecari_annuo INT UNSIGNED NULL,
	n_prestiti_locali_annuo INT UNSIGNED NULL,
	catalogazione_data_modifica DATETIME NULL,
	id_utenti INT UNSIGNED NULL,
	id_stato_biblioteca_workflow INT NOT NULL,
	catalogazione_data_import DATETIME NULL,
	catalogazione_data_modifica_remota DATETIME NULL,
	catalogazione_note TEXT NULL,
	catalogazione_data_censimento DATETIME NULL,
	attivo_riproduzioni BOOL NULL,
	attivo_prestito_locale BOOL NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex1 ON abicampania.biblioteca ( id_ente );

CREATE INDEX biblioteca_FKIndex2 ON abicampania.biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex3 ON abicampania.biblioteca ( id_biblioteca_padre );

CREATE INDEX biblioteca_FKIndex4 ON abicampania.biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_1_fondi_antichi ON abicampania.biblioteca ( id_fondi_antichi_consistenza );

CREATE INDEX idx_1_utentemod ON abicampania.biblioteca ( id_utenti );

CREATE TABLE abicampania.biblioteca_has_accesso_modalita ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_accesso_modalita INT UNSIGNED NOT NULL,
CONSTRAINT chiave_accessomod PRIMARY KEY ( id_accesso_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_accesso_utenti_ammessi ON abicampania.biblioteca_has_accesso_modalita ( id_accesso_modalita );

CREATE TABLE abicampania.biblioteca_has_dewey ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_dewey VARCHAR( 6 ) NOT NULL,
CONSTRAINT pk_special PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_dewey_FKIndex1 ON abicampania.biblioteca_has_dewey ( id_biblioteca );

CREATE INDEX biblioteca_has_dewey_FKIndex2 ON abicampania.biblioteca_has_dewey ( id_dewey );

CREATE TABLE abicampania.biblioteca_has_fondi_speciali ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_fondi_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_fondi_speciali PRIMARY KEY ( id_biblioteca, id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex1 ON abicampania.biblioteca_has_fondi_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex2 ON abicampania.biblioteca_has_fondi_speciali ( id_fondi_speciali );

CREATE TABLE abicampania.biblioteca_has_indicizzazione_classificata ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_indicizzazione_classificata INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_classificata PRIMARY KEY ( id_biblioteca, id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_classificata_FKIndex1 ON abicampania.biblioteca_has_indicizzazione_classificata ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_classificata_FKIndex2 ON abicampania.biblioteca_has_indicizzazione_classificata ( id_indicizzazione_classificata );

CREATE TABLE abicampania.biblioteca_has_indicizzazione_soggetto ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_indicizzazione_soggetto INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_soggetto PRIMARY KEY ( id_biblioteca, id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex1 ON abicampania.biblioteca_has_indicizzazione_soggetto ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex2 ON abicampania.biblioteca_has_indicizzazione_soggetto ( id_indicizzazione_soggetto );

CREATE TABLE abicampania.biblioteca_has_norme_catalogazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_norme_catalogazione INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_norme_catalogazione PRIMARY KEY ( id_biblioteca, id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex1 ON abicampania.biblioteca_has_norme_catalogazione ( id_biblioteca );

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex2 ON abicampania.biblioteca_has_norme_catalogazione ( id_norme_catalogazione );

CREATE TABLE abicampania.biblioteca_has_prestito_interbibliotecario ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_pre_pos_dsc PRIMARY KEY ( id_biblioteca, id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex1 ON abicampania.biblioteca_has_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex2 ON abicampania.biblioteca_has_prestito_interbibliotecario ( id_prestito_interbibliotecario );

CREATE TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ( 
	id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id__servizi_bibliotecari_carta, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abicampania.biblioteca_has_servizi_bibliotecari_carta ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abicampania.biblioteca_has_servizi_bibliotecari_carta ( id__servizi_bibliotecari_carta );

CREATE TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( 
	id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( id_servizi_informazioni_bibliografiche_modalita );

CREATE TABLE abicampania.biblioteca_has_sezioni_speciali ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sezioni_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sezioni_speciali PRIMARY KEY ( id_biblioteca, id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex1 ON abicampania.biblioteca_has_sezioni_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex2 ON abicampania.biblioteca_has_sezioni_speciali ( id_sezioni_speciali );

CREATE TABLE abicampania.biblioteca_has_sistemi_biblioteche ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sistemi_biblioteche INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_partec_sist_biblio PRIMARY KEY ( id_biblioteca, id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex1 ON abicampania.biblioteca_has_sistemi_biblioteche ( id_biblioteca );

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex2 ON abicampania.biblioteca_has_sistemi_biblioteche ( id_sistemi_biblioteche );

CREATE TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sist_pr_interbiblio PRIMARY KEY ( id_biblioteca, id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex1 ON abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex2 ON abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( id_sistemi_prestito_interbibliotecario );

CREATE TABLE abicampania.biblioteca_has_utenti ( 
	id_utenti INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT idx_bibliotecahasutenti PRIMARY KEY ( id_utenti, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.cataloghi_collettivi ( 
	id_cataloghi_collettivi INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
	id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL,
	dettaglio_zona VARCHAR( 50 ) NULL,
CONSTRAINT pk_catal_coll_estens PRIMARY KEY ( id_cataloghi_collettivi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_estensione ON abicampania.cataloghi_collettivi ( id_cataloghi_collettivi_zona_tipo );

CREATE TABLE abicampania.cataloghi_collettivi_materiale_url ( 
	id_cataloghi_collettivi_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_coll_url PRIMARY KEY ( id_cataloghi_collettivi_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_url ON abicampania.cataloghi_collettivi_materiale_url ( id_cataloghi_collettivi_materiale );

CREATE TABLE abicampania.cataloghi_collettivi_zona_tipo ( 
	id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_collettivi_zona_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.cataloghi_generali_url ( 
	id_cataloghi_generali_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_generali INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_gener_url PRIMARY KEY ( id_cataloghi_generali_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_id_cataloghi_generali ON abicampania.cataloghi_generali_url ( id_cataloghi_generali );

CREATE TABLE abicampania.cataloghi_speciali_materiale_url ( 
	id_cataloghi_speciali_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec_url PRIMARY KEY ( id_cataloghi_speciali_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_speciali_url ON abicampania.cataloghi_speciali_materiale_url ( id_cataloghi_speciali_materiale );

CREATE TABLE abicampania.cataloghi_supporto_digitale_tipo ( 
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_supporto_digitale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.catalogo_generale_tipo ( 
	id_catalogo_generale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_catalogo_generale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.codici ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_codici INT UNSIGNED NOT NULL,
	valore VARCHAR( 100 ) NOT NULL,
CONSTRAINT idx_pk_bibliotecacodici PRIMARY KEY ( id_biblioteca, id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_codice ON abicampania.codici ( id_codici );

CREATE INDEX idx_codici ON abicampania.codici ( id_biblioteca );

CREATE TABLE abicampania.codici_tipo ( 
	id_codici INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.comune ( 
	id_comune INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_provincia INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	codice_istat VARCHAR( 6 ) NULL,
	codice_finanze VARCHAR( 6 ) NULL,
CONSTRAINT pk_comune PRIMARY KEY ( id_comune )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comune_FKIndex1 ON abicampania.comune ( id_provincia );

CREATE TABLE abicampania.comunicazioni ( 
	id_comunicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
CONSTRAINT pk_comunicazioni PRIMARY KEY ( id_comunicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comunicazioni_FKIndex1 ON abicampania.comunicazioni ( id_biblioteca );

CREATE TABLE abicampania.contatti ( 
	id_contatti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	id_contatti_tipi INT UNSIGNED NOT NULL,
	valore VARCHAR( 255 ) NOT NULL,
	note VARCHAR( 100 ) NULL,
CONSTRAINT PK_contatti PRIMARY KEY ( id_contatti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.contatti_tipo ( 
	id_contatti_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_1 PRIMARY KEY ( id_contatti_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dati_province_istat ( 
	id_provincia INT UNSIGNED NOT NULL,
	totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
CONSTRAINT pk_dati_province_istat PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dati_regioni_istat ( 
	id_regione INT UNSIGNED NOT NULL,
	totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
	descrizione_zona VARCHAR( 20 ) NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_dati_regioni_istat PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.denominazioni_alternative ( 
	id_denominazioni_alternative INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_anche PRIMARY KEY ( id_denominazioni_alternative )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_anche_FKIndex1 ON abicampania.denominazioni_alternative ( id_biblioteca );

CREATE TABLE abicampania.denominazioni_precedenti ( 
	id_denominazioni_precedenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_gia PRIMARY KEY ( id_denominazioni_precedenti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_gia_FKIndex1 ON abicampania.denominazioni_precedenti ( id_biblioteca );

CREATE TABLE abicampania.depositi_legali ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_depositi_legali_tipo INT UNSIGNED NOT NULL,
	da_anno VARCHAR( 10 ) NULL,
CONSTRAINT pk_biblioteca_has_deposito_legale PRIMARY KEY ( id_biblioteca, id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.depositi_legali_tipo ( 
	id_depositi_legali_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_deposito_legale PRIMARY KEY ( id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.destinazioni_sociali ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_destinazioni_sociali_tipo INT UNSIGNED NOT NULL,
	note VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_destinaz_sociale PRIMARY KEY ( id_biblioteca, id_destinazioni_sociali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.destinazioni_sociali_tipo ( 
	id_destinazioni_sociali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_destinaz_sociale PRIMARY KEY ( id_destinazioni_sociali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dewey ( 
	id_dewey VARCHAR( 6 ) NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_dewey PRIMARY KEY ( id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dewey_libero ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_dewey VARCHAR( 6 ) NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_dewey_lib PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.ente ( 
	id_ente INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_stato INT UNSIGNED NOT NULL,
	id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	asia_asip VARCHAR( 11 ) NULL,
CONSTRAINT pk_ente PRIMARY KEY ( id_ente )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX ente_FKIndex2 ON abicampania.ente ( id_ente_tipologia_amministrativa );

CREATE INDEX ente_FKIndex3 ON abicampania.ente ( id_stato );

CREATE TABLE abicampania.ente_tipologia_amministrativa ( 
	id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_ente PRIMARY KEY ( id_ente_tipologia_amministrativa )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.fondi_antichi_consistenza ( 
	id_fondi_antichi_consistenza INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_fondi_antichi_consistenza )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.fondi_speciali ( 
	id_fondi_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_dewey VARCHAR( 6 ) NULL,
	denominazione VARCHAR( 255 ) NOT NULL,
	fondo_depositato BOOL NULL,
	descrizione VARCHAR( 255 ) NULL,
	id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL,
	catalogazione_inventario_url VARCHAR( 255 ) NULL,
	citazione_bibliografica TEXT NULL,
CONSTRAINT pk_fondi_speciali PRIMARY KEY ( id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX fondi_speciali_FKIndex1 ON abicampania.fondi_speciali ( id_dewey );

CREATE INDEX idx_fondi_speciali ON abicampania.fondi_speciali ( id_fondi_speciali_catalogazione_inventario );

CREATE TABLE abicampania.fondi_speciali_catalogazione_inventario ( 
	id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_fondi_speciali_catalogazione_inventario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.geolocalizzazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	latitudine DOUBLE NULL,
	longitudine DOUBLE NULL,
	precisione VARCHAR( 50 ) NULL,
	warning TEXT NULL,
	error TEXT NULL,
CONSTRAINT pk_id_bib PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.indicizzazione_classificata ( 
	id_indicizzazione_classificata INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_classificata PRIMARY KEY ( id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.indicizzazione_soggetto ( 
	id_indicizzazione_soggetto INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_soggetto PRIMARY KEY ( id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.norme_catalogazione ( 
	id_norme_catalogazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_norme_catalogazione PRIMARY KEY ( id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.nuova_biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NULL,
	denominazione_ufficiale VARCHAR( 255 ) NULL,
	id_comune INT UNSIGNED NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_tipologia_funzionale INT UNSIGNED NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	login_creatore INT UNSIGNED NULL,
	login_gestore INT UNSIGNED NULL,
	id_stato_biblioteca_workflow INT NOT NULL,
	ente_denominazione VARCHAR( 255 ) NULL,
	ente_tipologia_amministrativa VARCHAR( 255 ) NULL,
	ente_stato VARCHAR( 255 ) NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex2 ON abicampania.nuova_biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex4 ON abicampania.nuova_biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_login_creatore ON abicampania.nuova_biblioteca ( login_creatore );

CREATE INDEX idx_login_gestore ON abicampania.nuova_biblioteca ( login_gestore );

CREATE INDEX idx_nuova_biblioteca ON abicampania.nuova_biblioteca ( id_stato_biblioteca_workflow );

CREATE TABLE abicampania.orario_chiusure ( 
	id_orario_chiusure INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_periodo_chiusura PRIMARY KEY ( id_orario_chiusure )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX periodo_chiusura_FKIndex1 ON abicampania.orario_chiusure ( id_biblioteca );

CREATE TABLE abicampania.orario_ufficiali ( 
	id_orario_ufficiali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	giorno INT NOT NULL,
	dalle TIME NOT NULL,
	alle TIME NOT NULL,
CONSTRAINT pk_orario_ufficiale PRIMARY KEY ( id_orario_ufficiali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orario_ufficiale_FKIndex1 ON abicampania.orario_ufficiali ( id_biblioteca );

CREATE TABLE abicampania.orario_variazioni ( 
	id_orario_variazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
	giorno INT NULL,
	dalle TIME NULL,
	alle TIME NULL,
CONSTRAINT pk_orari_variazioni PRIMARY KEY ( id_orario_variazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orari_variazioni_FKIndex1 ON abicampania.orario_variazioni ( id_biblioteca );

CREATE TABLE abicampania.partecipa_cataloghi_collettivi_materiale ( 
	id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_collettivi INT UNSIGNED NOT NULL,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
CONSTRAINT pk_catal_coll PRIMARY KEY ( id_cataloghi_collettivi_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_coll_FKIndex1 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_biblioteca );

CREATE INDEX catal_coll_FKIndex2 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_patrimonio_specializzazione );

CREATE INDEX catal_coll_FKIndex3 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_collettivi );

CREATE INDEX idx_cataloghi_collettivi ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abicampania.partecipa_cataloghi_generali ( 
	id_cataloghi_generali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
	id_catalogo_generale_tipo INT UNSIGNED NOT NULL,
CONSTRAINT pk_catal_gener PRIMARY KEY ( id_cataloghi_generali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX cataloghi_gener_FKIndex1 ON abicampania.partecipa_cataloghi_generali ( id_biblioteca );

CREATE INDEX idx_cataloghi_generali ON abicampania.partecipa_cataloghi_generali ( id_cataloghi_supporto_digitale_tipo );

CREATE INDEX idx_1_cataloghi_generali_tipo ON abicampania.partecipa_cataloghi_generali ( id_catalogo_generale_tipo );

CREATE TABLE abicampania.partecipa_cataloghi_speciali_materiale ( 
	id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec PRIMARY KEY ( id_cataloghi_speciali_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_spec_FKIndex1 ON abicampania.partecipa_cataloghi_speciali_materiale ( id_biblioteca );

CREATE INDEX catal_spec_FKIndex2 ON abicampania.partecipa_cataloghi_speciali_materiale ( id_patrimonio_specializzazione );

CREATE INDEX idx_cataloghi_speciali ON abicampania.partecipa_cataloghi_speciali_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abicampania.patrimonio ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	quantita INT UNSIGNED NOT NULL,
	quantita_ultimo_anno INT UNSIGNED NOT NULL,
CONSTRAINT idx_1 PRIMARY KEY ( id_biblioteca, id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.patrimonio_specializzazione ( 
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec PRIMARY KEY ( id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_FKIndex1 ON abicampania.patrimonio_specializzazione ( id_patrimonio_specializzazione_categoria );

CREATE TABLE abicampania.patrimonio_specializzazione_categoria ( 
	id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione_categoria_madre INT UNSIGNED NULL,
	descrizione TEXT NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec_cat PRIMARY KEY ( id_patrimonio_specializzazione_categoria )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_cat_FKIndex1 ON abicampania.patrimonio_specializzazione_categoria ( id_patrimonio_specializzazione_categoria_madre );

CREATE TABLE abicampania.prestito_interbibliotecario ( 
	id_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	nazionale BOOL NULL,
	internazionale BOOL NULL,
	id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL,
CONSTRAINT pk_pre_pos_dsc PRIMARY KEY ( id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_prestito_interbibliotecario ON abicampania.prestito_interbibliotecario ( id_prestito_interbibliotecario_modo );

CREATE TABLE abicampania.prestito_interbibliotecario_modo ( 
	id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_prestito_interbibliotecario_modo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.prestito_locale ( 
	id_prestito_locale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	automatizzato BOOL NULL,
	durata_giorni INT UNSIGNED NULL,
CONSTRAINT pk_prestito_locale PRIMARY KEY ( id_prestito_locale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_FKIndex1 ON abicampania.prestito_locale ( id_biblioteca );

CREATE TABLE abicampania.prestito_locale_has_materiale_escluso ( 
	id_prestito_locale INT UNSIGNED NOT NULL,
	id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_escluso PRIMARY KEY ( id_prestito_locale, id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex1 ON abicampania.prestito_locale_has_materiale_escluso ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex2 ON abicampania.prestito_locale_has_materiale_escluso ( id_prestito_locale_materiale_escluso );

CREATE TABLE abicampania.prestito_locale_has_utenti_ammessi ( 
	id_prestito_locale INT UNSIGNED NOT NULL,
	id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_zona PRIMARY KEY ( id_prestito_locale, id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_zona_FKIndex1 ON abicampania.prestito_locale_has_utenti_ammessi ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_zona_FKIndex2 ON abicampania.prestito_locale_has_utenti_ammessi ( id_prestito_locale_utenti_ammessi );

CREATE TABLE abicampania.prestito_locale_materiale_escluso ( 
	id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_escluso PRIMARY KEY ( id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.prestito_locale_utenti_ammessi ( 
	id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_zona PRIMARY KEY ( id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.profili ( 
	id_profili INT UNSIGNED NOT NULL AUTO_INCREMENT,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_profili PRIMARY KEY ( id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.provincia ( 
	id_provincia INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_regione INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	codice_istat VARCHAR( 10 ) NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_provincia PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX provincia_FKIndex1 ON abicampania.provincia ( id_regione );

CREATE TABLE abicampania.pubblicazioni ( 
	id_pubblicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_biblioteca_has_pubblicazioni PRIMARY KEY ( id_pubblicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pubblicazioni_FKIndex1 ON abicampania.pubblicazioni ( id_biblioteca );

CREATE TABLE abicampania.regione ( 
	id_regione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_stato INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_regione PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regione_FKIndex1 ON abicampania.regione ( id_stato );

CREATE TABLE abicampania.regolamento ( 
	id_regolamento INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	riferimento_normativa VARCHAR( 255 ) NULL,
	url VARCHAR( 255 ) NULL,
CONSTRAINT pk_regolamento PRIMARY KEY ( id_regolamento )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regolamento_FKIndex1 ON abicampania.regolamento ( id_biblioteca );

CREATE TABLE abicampania.riproduzioni ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_riproduzioni_tipo INT UNSIGNED NOT NULL,
	locale BOOL NULL,
	nazionale BOOL NULL,
	internazionale BOOL NULL,
CONSTRAINT idx PRIMARY KEY ( id_biblioteca, id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.riproduzioni_tipo ( 
	id_riproduzioni_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_tipo_riproduzioni PRIMARY KEY ( id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.servizi_bibliotecari_carta ( 
	id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id__servizi_bibliotecari_carta )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.servizi_informazioni_bibliografiche_modalita ( 
	id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sezioni_speciali ( 
	id_sezioni_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_sezioni_speciali PRIMARY KEY ( id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sistemi_biblioteche ( 
	id_sistemi_biblioteche INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_partec_sist_biblio PRIMARY KEY ( id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sistemi_prestito_interbibliotecario ( 
	id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
	url VARCHAR( 255 ) NULL,
CONSTRAINT pk_sist_pr_interbiblio PRIMARY KEY ( id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.spogli_bibliografici ( 
	id_spogli_bibliografici INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione_bibliografica TEXT NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_spogli_bibliografici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_spogli_bibliografici ON abicampania.spogli_bibliografici ( id_biblioteca );

CREATE TABLE abicampania.stato ( 
	id_stato INT UNSIGNED NOT NULL AUTO_INCREMENT,
	denominazione VARCHAR( 100 ) NOT NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_stato PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.stato_biblioteca_workflow ( 
	id_stato INT NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
	label VARCHAR( 64 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.stato_catalogazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_stato_catalogazione INT UNSIGNED NOT NULL,
	id_biblioteca_target INT UNSIGNED NULL,
CONSTRAINT pk_biblioteca_has_stato_catalogazione PRIMARY KEY ( id_biblioteca, id_stato_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_stato_catalogazione ON abicampania.stato_catalogazione ( id_biblioteca_target );

CREATE TABLE abicampania.stato_catalogazione_tipo ( 
	id_stato_catalogazione_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 100 ) NULL,
CONSTRAINT pk_stato_catalogazione PRIMARY KEY ( id_stato_catalogazione_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.tipologia_funzionale ( 
	id_tipologia_funzionale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_tipologia_funzionale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.utenti ( 
	id_utenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	login VARCHAR( 20 ) NOT NULL,
	password VARCHAR( 50 ) NOT NULL,
	nome VARCHAR( 255 ) NULL,
	cognome VARCHAR( 255 ) NULL,
	tel VARCHAR( 50 ) NULL,
	fax VARCHAR( 50 ) NULL,
	email VARCHAR( 50 ) NULL,
	incarico VARCHAR( 50 ) NULL,
	note VARCHAR( 255 ) NULL,
	data_modifica_password DATETIME NULL,
	enabled BOOL NOT NULL DEFAULT 1,
	codice_validazione VARCHAR( 50 ) NULL,
CONSTRAINT PK_utenti PRIMARY KEY ( id_utenti ),
CONSTRAINT login UNIQUE ( login )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

ALTER TABLE abicampania.utenti MODIFY data_modifica_password DATETIME COMMENT 'data di ultima generazione della password';

CREATE TABLE abicampania.utenti_has_profili ( 
	id_utenti INT UNSIGNED NOT NULL,
	id_profili INT UNSIGNED NOT NULL,
CONSTRAINT pk_utenti_has_profili PRIMARY KEY ( id_utenti, id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX utenti_has_profili_FKIndex1 ON abicampania.utenti_has_profili ( id_utenti );

CREATE INDEX utenti_has_profili_FKIndex2 ON abicampania.utenti_has_profili ( id_profili );

ALTER TABLE abicampania.bibliografia ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_0 ( id_comune ) REFERENCES abicampania.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_2 ( id_tipologia_funzionale ) REFERENCES abicampania.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_3 ( id_ente ) REFERENCES abicampania.ente( id_ente ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_4 ( id_biblioteca_padre ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_1 ( id_fondi_antichi_consistenza ) REFERENCES abicampania.fondi_antichi_consistenza( id_fondi_antichi_consistenza ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_5 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_6 ( id_stato_biblioteca_workflow ) REFERENCES abicampania.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_1 ( id_accesso_modalita ) REFERENCES abicampania.accesso_modalita( id_accesso_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_dewey ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_dewey ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali ) REFERENCES abicampania.fondi_speciali( id_fondi_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_1 ( id_indicizzazione_classificata ) REFERENCES abicampania.indicizzazione_classificata( id_indicizzazione_classificata ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_1 ( id_indicizzazione_soggetto ) REFERENCES abicampania.indicizzazione_soggetto( id_indicizzazione_soggetto ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_1 ( id_norme_catalogazione ) REFERENCES abicampania.norme_catalogazione( id_norme_catalogazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_prestito_interbibliotecario ) REFERENCES abicampania.prestito_interbibliotecario( id_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_1 ( id__servizi_bibliotecari_carta ) REFERENCES abicampania.servizi_bibliotecari_carta( id__servizi_bibliotecari_carta ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_1 ( id_servizi_informazioni_bibliografiche_modalita ) REFERENCES abicampania.servizi_informazioni_bibliografiche_modalita( id_servizi_informazioni_bibliografiche_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_1 ( id_sezioni_speciali ) REFERENCES abicampania.sezioni_speciali( id_sezioni_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_1 ( id_sistemi_biblioteche ) REFERENCES abicampania.sistemi_biblioteche( id_sistemi_biblioteche ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_sistemi_prestito_interbibliotecario ) REFERENCES abicampania.sistemi_prestito_interbibliotecario( id_sistemi_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_utenti ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_utenti ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_collettivi ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_zona_tipo ) REFERENCES abicampania.cataloghi_collettivi_zona_tipo( id_cataloghi_collettivi_zona_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_collettivi_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_materiale ) REFERENCES abicampania.partecipa_cataloghi_collettivi_materiale( id_cataloghi_collettivi_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_generali_url ADD FOREIGN KEY fk_cataloghi_generali_url ( id_cataloghi_generali ) REFERENCES abicampania.partecipa_cataloghi_generali( id_cataloghi_generali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_speciali_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_speciali_materiale ) REFERENCES abicampania.partecipa_cataloghi_speciali_materiale( id_cataloghi_speciali_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.codici ADD FOREIGN KEY fk_0 ( id_codici ) REFERENCES abicampania.codici_tipo( id_codici ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.codici ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.comune ADD FOREIGN KEY fk_comune_provincia1 ( id_provincia ) REFERENCES abicampania.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.comunicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.contatti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.contatti ADD FOREIGN KEY fk_1 ( id_contatti_tipi ) REFERENCES abicampania.contatti_tipo( id_contatti_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dati_province_istat ADD FOREIGN KEY fk_0 ( id_provincia ) REFERENCES abicampania.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dati_regioni_istat ADD FOREIGN KEY fk_0 ( id_regione ) REFERENCES abicampania.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.denominazioni_alternative ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.denominazioni_precedenti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.depositi_legali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.depositi_legali ADD FOREIGN KEY fk_1 ( id_depositi_legali_tipo ) REFERENCES abicampania.depositi_legali_tipo( id_depositi_legali_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.destinazioni_sociali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.destinazioni_sociali ADD FOREIGN KEY fk_1 ( id_destinazioni_sociali_tipo ) REFERENCES abicampania.destinazioni_sociali_tipo( id_destinazioni_sociali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dewey_libero ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dewey_libero ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_0 ( id_ente_tipologia_amministrativa ) REFERENCES abicampania.ente_tipologia_amministrativa( id_ente_tipologia_amministrativa ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_2 ( id_stato ) REFERENCES abicampania.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_speciali ADD FOREIGN KEY fk_0 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali_catalogazione_inventario ) REFERENCES abicampania.fondi_speciali_catalogazione_inventario( id_fondi_speciali_catalogazione_inventario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.geolocalizzazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_comune ( id_comune ) REFERENCES abicampania.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_tipologia_funzionale ( id_tipologia_funzionale ) REFERENCES abicampania.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_login_creatore ( login_creatore ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_login_gestore ( login_gestore ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_id_stato_biblioteca_workflow ( id_stato_biblioteca_workflow ) REFERENCES abicampania.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_chiusure ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_ufficiali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_variazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_1 ( id_cataloghi_collettivi ) REFERENCES abicampania.cataloghi_collettivi( id_cataloghi_collettivi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_4 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_2 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_3 ( id_catalogo_generale_tipo ) REFERENCES abicampania.catalogo_generale_tipo( id_catalogo_generale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_3 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio ADD FOREIGN KEY fk_1 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio_specializzazione ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria ) REFERENCES abicampania.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio_specializzazione_categoria ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria_madre ) REFERENCES abicampania.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_prestito_interbibliotecario_modo ) REFERENCES abicampania.prestito_interbibliotecario_modo( id_prestito_interbibliotecario_modo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_0 ( id_prestito_locale ) REFERENCES abicampania.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_1 ( id_prestito_locale_materiale_escluso ) REFERENCES abicampania.prestito_locale_materiale_escluso( id_prestito_locale_materiale_escluso ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_1 ( id_prestito_locale ) REFERENCES abicampania.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_0 ( id_prestito_locale_utenti_ammessi ) REFERENCES abicampania.prestito_locale_utenti_ammessi( id_prestito_locale_utenti_ammessi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.provincia ADD FOREIGN KEY fk_provincia_regione1 ( id_regione ) REFERENCES abicampania.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.pubblicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.regione ADD FOREIGN KEY fk_regione_stato1 ( id_stato ) REFERENCES abicampania.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.regolamento ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.riproduzioni ADD FOREIGN KEY fk_0 ( id_riproduzioni_tipo ) REFERENCES abicampania.riproduzioni_tipo( id_riproduzioni_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.riproduzioni ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.spogli_bibliografici ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_1 ( id_stato_catalogazione ) REFERENCES abicampania.stato_catalogazione_tipo( id_stato_catalogazione_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_2 ( id_biblioteca_target ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.utenti_has_profili ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.utenti_has_profili ADD FOREIGN KEY fk_1 ( id_profili ) REFERENCES abicampania.profili( id_profili ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]> </string>
		</query>
		<query name="Sql_009" tab_index="-1" >
			<string> <![CDATA[CREATE SCHEMA abipuglia;

CREATE TABLE abipuglia.accesso_modalita ( 
	id_accesso_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table PRIMARY KEY ( id_accesso_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.bibliografia ( 
	id_bibliografia INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
CONSTRAINT pk_bibliografia PRIMARY KEY ( id_bibliografia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX bibliografia_FKIndex1 ON abipuglia.bibliografia ( id_biblioteca );

CREATE TABLE abipuglia.biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NOT NULL,
	denominazione_ufficiale VARCHAR( 255 ) NOT NULL,
	indirizzo VARCHAR( 255 ) NULL,
	frazione VARCHAR( 255 ) NULL,
	cap VARCHAR( 5 ) NULL,
	id_comune INT UNSIGNED NOT NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	data_istituzione VARCHAR( 255 ) NULL,
	edificio_denominazione VARCHAR( 255 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	struttura_gerarchica_sovraordinata VARCHAR( 255 ) NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	accesso_limite_eta_min INT UNSIGNED NULL,
	accesso_limite_eta_max INT UNSIGNED NULL,
	attivo_accesso_internet BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_fondi_antichi_consistenza INT UNSIGNED NOT NULL,
	id_ente INT UNSIGNED NOT NULL,
	id_tipologia_funzionale INT UNSIGNED NOT NULL,
	procedure_ill_automatizzate BOOL NULL,
	id_biblioteca_padre INT UNSIGNED NULL,
	mq_totali INT UNSIGNED NULL,
	mq_pubblici INT UNSIGNED NULL,
	ml_magazzini INT UNSIGNED NULL,
	ml_aperti INT UNSIGNED NULL,
	posti_lettura INT UNSIGNED NULL,
	posti_video INT UNSIGNED NULL,
	posti_audio INT UNSIGNED NULL,
	posti_internet INT UNSIGNED NULL,
	utenti INT UNSIGNED NULL,
	utenti_under14 INT UNSIGNED NULL DEFAULT 0,
	utenti_iscritti INT UNSIGNED NULL,
	utenti_iscritti_prestito_anno INT UNSIGNED NULL,
	personale_temporaneo INT UNSIGNED NULL,
	personale_esterno INT UNSIGNED NULL,
	personale_part_time INT UNSIGNED NULL,
	personale_totale INT UNSIGNED NULL,
	bilancio_entrate INT UNSIGNED NULL,
	bilancio_uscite INT UNSIGNED NULL,
	bilancio_uscite_personale INT UNSIGNED NULL,
	bilancio_uscite_funzionamento INT UNSIGNED NULL,
	bilancio_uscite_incremento_patrimonio INT UNSIGNED NULL,
	bilancio_uscite_automazione INT UNSIGNED NULL,
	bilancio_uscite_acquisti_anno INT UNSIGNED NULL DEFAULT 0,
	bilancio_uscite_acquisti_ultimi15 INT UNSIGNED NULL DEFAULT 0,
	bilancio_uscite_varie INT UNSIGNED NULL,
	bilancio_patrimoniale_posseduto INT NULL,
	bilancio_patrimoniale_posseduto_under14 INT NULL,
	n_ore_settimanali INT UNSIGNED NULL DEFAULT 0,
	n_ore_settimanali_pom INT UNSIGNED NULL DEFAULT 0,
	n_settim_apertura INT UNSIGNED NULL DEFAULT 0,
	prestito_interbiblio_nazionale BOOL NULL,
	prestito_interbiblio_internazionale BOOL NULL,
	attivo_informazioni_bibliografiche BOOL NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	n_prestiti_interbibliotecari_annuo INT UNSIGNED NULL,
	n_prestiti_locali_annuo INT UNSIGNED NULL,
	catalogazione_data_modifica DATETIME NULL,
	id_utenti INT UNSIGNED NULL,
	id_stato_biblioteca_workflow INT NOT NULL,
	catalogazione_data_import DATETIME NULL,
	catalogazione_data_modifica_remota DATETIME NULL,
	catalogazione_note TEXT NULL,
	catalogazione_data_censimento DATETIME NULL,
	attivo_riproduzioni BOOL NULL,
	attivo_prestito_locale BOOL NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex1 ON abipuglia.biblioteca ( id_ente );

CREATE INDEX biblioteca_FKIndex2 ON abipuglia.biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex3 ON abipuglia.biblioteca ( id_biblioteca_padre );

CREATE INDEX biblioteca_FKIndex4 ON abipuglia.biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_1_fondi_antichi ON abipuglia.biblioteca ( id_fondi_antichi_consistenza );

CREATE INDEX idx_1_utentemod ON abipuglia.biblioteca ( id_utenti );

CREATE TABLE abipuglia.biblioteca_has_accesso_modalita ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_accesso_modalita INT UNSIGNED NOT NULL,
CONSTRAINT chiave_accessomod PRIMARY KEY ( id_accesso_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_accesso_utenti_ammessi ON abipuglia.biblioteca_has_accesso_modalita ( id_accesso_modalita );

CREATE TABLE abipuglia.biblioteca_has_dewey ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_dewey VARCHAR( 6 ) NOT NULL,
CONSTRAINT pk_special PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_dewey_FKIndex1 ON abipuglia.biblioteca_has_dewey ( id_biblioteca );

CREATE INDEX biblioteca_has_dewey_FKIndex2 ON abipuglia.biblioteca_has_dewey ( id_dewey );

CREATE TABLE abipuglia.biblioteca_has_fondi_speciali ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_fondi_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_fondi_speciali PRIMARY KEY ( id_biblioteca, id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex1 ON abipuglia.biblioteca_has_fondi_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex2 ON abipuglia.biblioteca_has_fondi_speciali ( id_fondi_speciali );

CREATE TABLE abipuglia.biblioteca_has_indicizzazione_classificata ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_indicizzazione_classificata INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_classificata PRIMARY KEY ( id_biblioteca, id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_classificata_FKIndex1 ON abipuglia.biblioteca_has_indicizzazione_classificata ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_classificata_FKIndex2 ON abipuglia.biblioteca_has_indicizzazione_classificata ( id_indicizzazione_classificata );

CREATE TABLE abipuglia.biblioteca_has_indicizzazione_soggetto ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_indicizzazione_soggetto INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_soggetto PRIMARY KEY ( id_biblioteca, id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex1 ON abipuglia.biblioteca_has_indicizzazione_soggetto ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex2 ON abipuglia.biblioteca_has_indicizzazione_soggetto ( id_indicizzazione_soggetto );

CREATE TABLE abipuglia.biblioteca_has_norme_catalogazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_norme_catalogazione INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_norme_catalogazione PRIMARY KEY ( id_biblioteca, id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex1 ON abipuglia.biblioteca_has_norme_catalogazione ( id_biblioteca );

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex2 ON abipuglia.biblioteca_has_norme_catalogazione ( id_norme_catalogazione );

CREATE TABLE abipuglia.biblioteca_has_prestito_interbibliotecario ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_pre_pos_dsc PRIMARY KEY ( id_biblioteca, id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex1 ON abipuglia.biblioteca_has_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex2 ON abipuglia.biblioteca_has_prestito_interbibliotecario ( id_prestito_interbibliotecario );

CREATE TABLE abipuglia.biblioteca_has_servizi_bibliotecari_carta ( 
	id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id__servizi_bibliotecari_carta, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abipuglia.biblioteca_has_servizi_bibliotecari_carta ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abipuglia.biblioteca_has_servizi_bibliotecari_carta ( id__servizi_bibliotecari_carta );

CREATE TABLE abipuglia.biblioteca_has_servizi_informazioni_bibliografiche ( 
	id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abipuglia.biblioteca_has_servizi_informazioni_bibliografiche ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abipuglia.biblioteca_has_servizi_informazioni_bibliografiche ( id_servizi_informazioni_bibliografiche_modalita );

CREATE TABLE abipuglia.biblioteca_has_sezioni_speciali ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sezioni_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sezioni_speciali PRIMARY KEY ( id_biblioteca, id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex1 ON abipuglia.biblioteca_has_sezioni_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex2 ON abipuglia.biblioteca_has_sezioni_speciali ( id_sezioni_speciali );

CREATE TABLE abipuglia.biblioteca_has_sistemi_biblioteche ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sistemi_biblioteche INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_partec_sist_biblio PRIMARY KEY ( id_biblioteca, id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex1 ON abipuglia.biblioteca_has_sistemi_biblioteche ( id_biblioteca );

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex2 ON abipuglia.biblioteca_has_sistemi_biblioteche ( id_sistemi_biblioteche );

CREATE TABLE abipuglia.biblioteca_has_sistemi_prestito_interbibliotecario ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sist_pr_interbiblio PRIMARY KEY ( id_biblioteca, id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex1 ON abipuglia.biblioteca_has_sistemi_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex2 ON abipuglia.biblioteca_has_sistemi_prestito_interbibliotecario ( id_sistemi_prestito_interbibliotecario );

CREATE TABLE abipuglia.biblioteca_has_utenti ( 
	id_utenti INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT idx_bibliotecahasutenti PRIMARY KEY ( id_utenti, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.cataloghi_collettivi ( 
	id_cataloghi_collettivi INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
	id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL,
	dettaglio_zona VARCHAR( 50 ) NULL,
CONSTRAINT pk_catal_coll_estens PRIMARY KEY ( id_cataloghi_collettivi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_estensione ON abipuglia.cataloghi_collettivi ( id_cataloghi_collettivi_zona_tipo );

CREATE TABLE abipuglia.cataloghi_collettivi_materiale_url ( 
	id_cataloghi_collettivi_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_coll_url PRIMARY KEY ( id_cataloghi_collettivi_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_url ON abipuglia.cataloghi_collettivi_materiale_url ( id_cataloghi_collettivi_materiale );

CREATE TABLE abipuglia.cataloghi_collettivi_zona_tipo ( 
	id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_collettivi_zona_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.cataloghi_generali_url ( 
	id_cataloghi_generali_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_generali INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_gener_url PRIMARY KEY ( id_cataloghi_generali_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_id_cataloghi_generali ON abipuglia.cataloghi_generali_url ( id_cataloghi_generali );

CREATE TABLE abipuglia.cataloghi_speciali_materiale_url ( 
	id_cataloghi_speciali_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec_url PRIMARY KEY ( id_cataloghi_speciali_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_speciali_url ON abipuglia.cataloghi_speciali_materiale_url ( id_cataloghi_speciali_materiale );

CREATE TABLE abipuglia.cataloghi_supporto_digitale_tipo ( 
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_supporto_digitale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.catalogo_generale_tipo ( 
	id_catalogo_generale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_catalogo_generale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.codici ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_codici INT UNSIGNED NOT NULL,
	valore VARCHAR( 100 ) NOT NULL,
CONSTRAINT idx_pk_bibliotecacodici PRIMARY KEY ( id_biblioteca, id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_codice ON abipuglia.codici ( id_codici );

CREATE INDEX idx_codici ON abipuglia.codici ( id_biblioteca );

CREATE TABLE abipuglia.codici_tipo ( 
	id_codici INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.comune ( 
	id_comune INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_provincia INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	codice_istat VARCHAR( 6 ) NULL,
	codice_finanze VARCHAR( 6 ) NULL,
CONSTRAINT pk_comune PRIMARY KEY ( id_comune )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comune_FKIndex1 ON abipuglia.comune ( id_provincia );

CREATE TABLE abipuglia.comunicazioni ( 
	id_comunicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
CONSTRAINT pk_comunicazioni PRIMARY KEY ( id_comunicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comunicazioni_FKIndex1 ON abipuglia.comunicazioni ( id_biblioteca );

CREATE TABLE abipuglia.contatti ( 
	id_contatti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	id_contatti_tipi INT UNSIGNED NOT NULL,
	valore VARCHAR( 255 ) NOT NULL,
	note VARCHAR( 100 ) NULL,
CONSTRAINT PK_contatti PRIMARY KEY ( id_contatti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.contatti_tipo ( 
	id_contatti_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_1 PRIMARY KEY ( id_contatti_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.dati_province_istat ( 
	id_provincia INT UNSIGNED NOT NULL,
	totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
CONSTRAINT pk_dati_province_istat PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.dati_regioni_istat ( 
	id_regione INT UNSIGNED NOT NULL,
	totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
	descrizione_zona VARCHAR( 20 ) NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_dati_regioni_istat PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.denominazioni_alternative ( 
	id_denominazioni_alternative INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_anche PRIMARY KEY ( id_denominazioni_alternative )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_anche_FKIndex1 ON abipuglia.denominazioni_alternative ( id_biblioteca );

CREATE TABLE abipuglia.denominazioni_precedenti ( 
	id_denominazioni_precedenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_gia PRIMARY KEY ( id_denominazioni_precedenti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_gia_FKIndex1 ON abipuglia.denominazioni_precedenti ( id_biblioteca );

CREATE TABLE abipuglia.depositi_legali ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_depositi_legali_tipo INT UNSIGNED NOT NULL,
	da_anno VARCHAR( 10 ) NULL,
CONSTRAINT pk_biblioteca_has_deposito_legale PRIMARY KEY ( id_biblioteca, id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.depositi_legali_tipo ( 
	id_depositi_legali_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_deposito_legale PRIMARY KEY ( id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.destinazioni_sociali ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_destinazioni_sociali_tipo INT UNSIGNED NOT NULL,
	note VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_destinaz_sociale PRIMARY KEY ( id_biblioteca, id_destinazioni_sociali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.destinazioni_sociali_tipo ( 
	id_destinazioni_sociali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_destinaz_sociale PRIMARY KEY ( id_destinazioni_sociali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.dewey ( 
	id_dewey VARCHAR( 6 ) NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_dewey PRIMARY KEY ( id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.dewey_libero ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_dewey VARCHAR( 6 ) NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_dewey_lib PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.ente ( 
	id_ente INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_stato INT UNSIGNED NOT NULL,
	id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	asia_asip VARCHAR( 11 ) NULL,
CONSTRAINT pk_ente PRIMARY KEY ( id_ente )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX ente_FKIndex2 ON abipuglia.ente ( id_ente_tipologia_amministrativa );

CREATE INDEX ente_FKIndex3 ON abipuglia.ente ( id_stato );

CREATE TABLE abipuglia.ente_tipologia_amministrativa ( 
	id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_ente PRIMARY KEY ( id_ente_tipologia_amministrativa )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.fondi_antichi_consistenza ( 
	id_fondi_antichi_consistenza INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_fondi_antichi_consistenza )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.fondi_speciali ( 
	id_fondi_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_dewey VARCHAR( 6 ) NULL,
	denominazione VARCHAR( 255 ) NOT NULL,
	fondo_depositato BOOL NULL,
	descrizione VARCHAR( 255 ) NULL,
	id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL,
	catalogazione_inventario_url VARCHAR( 255 ) NULL,
	citazione_bibliografica TEXT NULL,
CONSTRAINT pk_fondi_speciali PRIMARY KEY ( id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX fondi_speciali_FKIndex1 ON abipuglia.fondi_speciali ( id_dewey );

CREATE INDEX idx_fondi_speciali ON abipuglia.fondi_speciali ( id_fondi_speciali_catalogazione_inventario );

CREATE TABLE abipuglia.fondi_speciali_catalogazione_inventario ( 
	id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_fondi_speciali_catalogazione_inventario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.geolocalizzazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	latitudine DOUBLE NULL,
	longitudine DOUBLE NULL,
	precisione VARCHAR( 50 ) NULL,
	warning TEXT NULL,
	error TEXT NULL,
CONSTRAINT pk_id_bib PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.indicizzazione_classificata ( 
	id_indicizzazione_classificata INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_classificata PRIMARY KEY ( id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.indicizzazione_soggetto ( 
	id_indicizzazione_soggetto INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_soggetto PRIMARY KEY ( id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.norme_catalogazione ( 
	id_norme_catalogazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_norme_catalogazione PRIMARY KEY ( id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.nuova_biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NULL,
	denominazione_ufficiale VARCHAR( 255 ) NULL,
	id_comune INT UNSIGNED NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_tipologia_funzionale INT UNSIGNED NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	login_creatore INT UNSIGNED NULL,
	login_gestore INT UNSIGNED NULL,
	id_stato_biblioteca_workflow INT NOT NULL,
	ente_denominazione VARCHAR( 255 ) NULL,
	ente_tipologia_amministrativa VARCHAR( 255 ) NULL,
	ente_stato VARCHAR( 255 ) NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex2 ON abipuglia.nuova_biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex4 ON abipuglia.nuova_biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_login_creatore ON abipuglia.nuova_biblioteca ( login_creatore );

CREATE INDEX idx_login_gestore ON abipuglia.nuova_biblioteca ( login_gestore );

CREATE INDEX idx_nuova_biblioteca ON abipuglia.nuova_biblioteca ( id_stato_biblioteca_workflow );

CREATE TABLE abipuglia.orario_chiusure ( 
	id_orario_chiusure INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_periodo_chiusura PRIMARY KEY ( id_orario_chiusure )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX periodo_chiusura_FKIndex1 ON abipuglia.orario_chiusure ( id_biblioteca );

CREATE TABLE abipuglia.orario_ufficiali ( 
	id_orario_ufficiali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	giorno INT NOT NULL,
	dalle TIME NOT NULL,
	alle TIME NOT NULL,
CONSTRAINT pk_orario_ufficiale PRIMARY KEY ( id_orario_ufficiali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orario_ufficiale_FKIndex1 ON abipuglia.orario_ufficiali ( id_biblioteca );

CREATE TABLE abipuglia.orario_variazioni ( 
	id_orario_variazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
	giorno INT NULL,
	dalle TIME NULL,
	alle TIME NULL,
CONSTRAINT pk_orari_variazioni PRIMARY KEY ( id_orario_variazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orari_variazioni_FKIndex1 ON abipuglia.orario_variazioni ( id_biblioteca );

CREATE TABLE abipuglia.partecipa_cataloghi_collettivi_materiale ( 
	id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_collettivi INT UNSIGNED NOT NULL,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
CONSTRAINT pk_catal_coll PRIMARY KEY ( id_cataloghi_collettivi_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_coll_FKIndex1 ON abipuglia.partecipa_cataloghi_collettivi_materiale ( id_biblioteca );

CREATE INDEX catal_coll_FKIndex2 ON abipuglia.partecipa_cataloghi_collettivi_materiale ( id_patrimonio_specializzazione );

CREATE INDEX catal_coll_FKIndex3 ON abipuglia.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_collettivi );

CREATE INDEX idx_cataloghi_collettivi ON abipuglia.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abipuglia.partecipa_cataloghi_generali ( 
	id_cataloghi_generali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
	id_catalogo_generale_tipo INT UNSIGNED NOT NULL,
CONSTRAINT pk_catal_gener PRIMARY KEY ( id_cataloghi_generali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX cataloghi_gener_FKIndex1 ON abipuglia.partecipa_cataloghi_generali ( id_biblioteca );

CREATE INDEX idx_cataloghi_generali ON abipuglia.partecipa_cataloghi_generali ( id_cataloghi_supporto_digitale_tipo );

CREATE INDEX idx_1_cataloghi_generali_tipo ON abipuglia.partecipa_cataloghi_generali ( id_catalogo_generale_tipo );

CREATE TABLE abipuglia.partecipa_cataloghi_speciali_materiale ( 
	id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec PRIMARY KEY ( id_cataloghi_speciali_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_spec_FKIndex1 ON abipuglia.partecipa_cataloghi_speciali_materiale ( id_biblioteca );

CREATE INDEX catal_spec_FKIndex2 ON abipuglia.partecipa_cataloghi_speciali_materiale ( id_patrimonio_specializzazione );

CREATE INDEX idx_cataloghi_speciali ON abipuglia.partecipa_cataloghi_speciali_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abipuglia.patrimonio ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	quantita INT UNSIGNED NOT NULL,
	quantita_ultimo_anno INT UNSIGNED NOT NULL,
CONSTRAINT idx_1 PRIMARY KEY ( id_biblioteca, id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.patrimonio_specializzazione ( 
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec PRIMARY KEY ( id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_FKIndex1 ON abipuglia.patrimonio_specializzazione ( id_patrimonio_specializzazione_categoria );

CREATE TABLE abipuglia.patrimonio_specializzazione_categoria ( 
	id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione_categoria_madre INT UNSIGNED NULL,
	descrizione TEXT NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec_cat PRIMARY KEY ( id_patrimonio_specializzazione_categoria )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_cat_FKIndex1 ON abipuglia.patrimonio_specializzazione_categoria ( id_patrimonio_specializzazione_categoria_madre );

CREATE TABLE abipuglia.prestito_interbibliotecario ( 
	id_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	nazionale BOOL NULL,
	internazionale BOOL NULL,
	id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL,
CONSTRAINT pk_pre_pos_dsc PRIMARY KEY ( id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_prestito_interbibliotecario ON abipuglia.prestito_interbibliotecario ( id_prestito_interbibliotecario_modo );

CREATE TABLE abipuglia.prestito_interbibliotecario_modo ( 
	id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_prestito_interbibliotecario_modo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.prestito_locale ( 
	id_prestito_locale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	automatizzato BOOL NULL,
	durata_giorni INT UNSIGNED NULL,
CONSTRAINT pk_prestito_locale PRIMARY KEY ( id_prestito_locale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_FKIndex1 ON abipuglia.prestito_locale ( id_biblioteca );

CREATE TABLE abipuglia.prestito_locale_has_materiale_escluso ( 
	id_prestito_locale INT UNSIGNED NOT NULL,
	id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_escluso PRIMARY KEY ( id_prestito_locale, id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex1 ON abipuglia.prestito_locale_has_materiale_escluso ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex2 ON abipuglia.prestito_locale_has_materiale_escluso ( id_prestito_locale_materiale_escluso );

CREATE TABLE abipuglia.prestito_locale_has_utenti_ammessi ( 
	id_prestito_locale INT UNSIGNED NOT NULL,
	id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_zona PRIMARY KEY ( id_prestito_locale, id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_zona_FKIndex1 ON abipuglia.prestito_locale_has_utenti_ammessi ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_zona_FKIndex2 ON abipuglia.prestito_locale_has_utenti_ammessi ( id_prestito_locale_utenti_ammessi );

CREATE TABLE abipuglia.prestito_locale_materiale_escluso ( 
	id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_escluso PRIMARY KEY ( id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.prestito_locale_utenti_ammessi ( 
	id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_zona PRIMARY KEY ( id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.profili ( 
	id_profili INT UNSIGNED NOT NULL AUTO_INCREMENT,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_profili PRIMARY KEY ( id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.provincia ( 
	id_provincia INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_regione INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	codice_istat VARCHAR( 10 ) NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_provincia PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX provincia_FKIndex1 ON abipuglia.provincia ( id_regione );

CREATE TABLE abipuglia.pubblicazioni ( 
	id_pubblicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_biblioteca_has_pubblicazioni PRIMARY KEY ( id_pubblicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pubblicazioni_FKIndex1 ON abipuglia.pubblicazioni ( id_biblioteca );

CREATE TABLE abipuglia.regione ( 
	id_regione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_stato INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_regione PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regione_FKIndex1 ON abipuglia.regione ( id_stato );

CREATE TABLE abipuglia.regolamento ( 
	id_regolamento INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	riferimento_normativa VARCHAR( 255 ) NULL,
	url VARCHAR( 255 ) NULL,
CONSTRAINT pk_regolamento PRIMARY KEY ( id_regolamento )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regolamento_FKIndex1 ON abipuglia.regolamento ( id_biblioteca );

CREATE TABLE abipuglia.riproduzioni ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_riproduzioni_tipo INT UNSIGNED NOT NULL,
	locale BOOL NULL,
	nazionale BOOL NULL,
	internazionale BOOL NULL,
CONSTRAINT idx PRIMARY KEY ( id_biblioteca, id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.riproduzioni_tipo ( 
	id_riproduzioni_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_tipo_riproduzioni PRIMARY KEY ( id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.servizi_bibliotecari_carta ( 
	id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id__servizi_bibliotecari_carta )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.servizi_informazioni_bibliografiche_modalita ( 
	id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.sezioni_speciali ( 
	id_sezioni_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_sezioni_speciali PRIMARY KEY ( id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.sistemi_biblioteche ( 
	id_sistemi_biblioteche INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_partec_sist_biblio PRIMARY KEY ( id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.sistemi_prestito_interbibliotecario ( 
	id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
	url VARCHAR( 255 ) NULL,
CONSTRAINT pk_sist_pr_interbiblio PRIMARY KEY ( id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.spogli_bibliografici ( 
	id_spogli_bibliografici INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione_bibliografica TEXT NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_spogli_bibliografici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_spogli_bibliografici ON abipuglia.spogli_bibliografici ( id_biblioteca );

CREATE TABLE abipuglia.stato ( 
	id_stato INT UNSIGNED NOT NULL AUTO_INCREMENT,
	denominazione VARCHAR( 100 ) NOT NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_stato PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.stato_biblioteca_workflow ( 
	id_stato INT NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
	label VARCHAR( 64 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.stato_catalogazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_stato_catalogazione INT UNSIGNED NOT NULL,
	id_biblioteca_target INT UNSIGNED NULL,
CONSTRAINT pk_biblioteca_has_stato_catalogazione PRIMARY KEY ( id_biblioteca, id_stato_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_stato_catalogazione ON abipuglia.stato_catalogazione ( id_biblioteca_target );

CREATE TABLE abipuglia.stato_catalogazione_tipo ( 
	id_stato_catalogazione_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 100 ) NULL,
CONSTRAINT pk_stato_catalogazione PRIMARY KEY ( id_stato_catalogazione_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.tipologia_funzionale ( 
	id_tipologia_funzionale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_tipologia_funzionale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abipuglia.utenti ( 
	id_utenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	login VARCHAR( 20 ) NOT NULL,
	password VARCHAR( 50 ) NOT NULL,
	nome VARCHAR( 255 ) NULL,
	cognome VARCHAR( 255 ) NULL,
	tel VARCHAR( 50 ) NULL,
	fax VARCHAR( 50 ) NULL,
	email VARCHAR( 50 ) NULL,
	incarico VARCHAR( 50 ) NULL,
	note VARCHAR( 255 ) NULL,
	data_modifica_password DATETIME NULL,
	enabled BOOL NOT NULL DEFAULT 1,
	codice_validazione VARCHAR( 50 ) NULL,
CONSTRAINT PK_utenti PRIMARY KEY ( id_utenti ),
CONSTRAINT login UNIQUE ( login )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

ALTER TABLE abipuglia.utenti MODIFY data_modifica_password DATETIME COMMENT 'data di ultima generazione della password';

CREATE TABLE abipuglia.utenti_has_profili ( 
	id_utenti INT UNSIGNED NOT NULL,
	id_profili INT UNSIGNED NOT NULL,
CONSTRAINT pk_utenti_has_profili PRIMARY KEY ( id_utenti, id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX utenti_has_profili_FKIndex1 ON abipuglia.utenti_has_profili ( id_utenti );

CREATE INDEX utenti_has_profili_FKIndex2 ON abipuglia.utenti_has_profili ( id_profili );

ALTER TABLE abipuglia.bibliografia ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca ADD FOREIGN KEY fk_0 ( id_comune ) REFERENCES abipuglia.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca ADD FOREIGN KEY fk_2 ( id_tipologia_funzionale ) REFERENCES abipuglia.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca ADD FOREIGN KEY fk_3 ( id_ente ) REFERENCES abipuglia.ente( id_ente ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca ADD FOREIGN KEY fk_4 ( id_biblioteca_padre ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca ADD FOREIGN KEY fk_1 ( id_fondi_antichi_consistenza ) REFERENCES abipuglia.fondi_antichi_consistenza( id_fondi_antichi_consistenza ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca ADD FOREIGN KEY fk_5 ( id_utenti ) REFERENCES abipuglia.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca ADD FOREIGN KEY fk_6 ( id_stato_biblioteca_workflow ) REFERENCES abipuglia.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_1 ( id_accesso_modalita ) REFERENCES abipuglia.accesso_modalita( id_accesso_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_dewey ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_dewey ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abipuglia.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali ) REFERENCES abipuglia.fondi_speciali( id_fondi_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_1 ( id_indicizzazione_classificata ) REFERENCES abipuglia.indicizzazione_classificata( id_indicizzazione_classificata ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_1 ( id_indicizzazione_soggetto ) REFERENCES abipuglia.indicizzazione_soggetto( id_indicizzazione_soggetto ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_1 ( id_norme_catalogazione ) REFERENCES abipuglia.norme_catalogazione( id_norme_catalogazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_prestito_interbibliotecario ) REFERENCES abipuglia.prestito_interbibliotecario( id_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_1 ( id__servizi_bibliotecari_carta ) REFERENCES abipuglia.servizi_bibliotecari_carta( id__servizi_bibliotecari_carta ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_1 ( id_servizi_informazioni_bibliografiche_modalita ) REFERENCES abipuglia.servizi_informazioni_bibliografiche_modalita( id_servizi_informazioni_bibliografiche_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_1 ( id_sezioni_speciali ) REFERENCES abipuglia.sezioni_speciali( id_sezioni_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_1 ( id_sistemi_biblioteche ) REFERENCES abipuglia.sistemi_biblioteche( id_sistemi_biblioteche ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_sistemi_prestito_interbibliotecario ) REFERENCES abipuglia.sistemi_prestito_interbibliotecario( id_sistemi_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_utenti ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abipuglia.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.biblioteca_has_utenti ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.cataloghi_collettivi ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_zona_tipo ) REFERENCES abipuglia.cataloghi_collettivi_zona_tipo( id_cataloghi_collettivi_zona_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.cataloghi_collettivi_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_materiale ) REFERENCES abipuglia.partecipa_cataloghi_collettivi_materiale( id_cataloghi_collettivi_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.cataloghi_generali_url ADD FOREIGN KEY fk_cataloghi_generali_url ( id_cataloghi_generali ) REFERENCES abipuglia.partecipa_cataloghi_generali( id_cataloghi_generali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.cataloghi_speciali_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_speciali_materiale ) REFERENCES abipuglia.partecipa_cataloghi_speciali_materiale( id_cataloghi_speciali_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.codici ADD FOREIGN KEY fk_0 ( id_codici ) REFERENCES abipuglia.codici_tipo( id_codici ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.codici ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.comune ADD FOREIGN KEY fk_comune_provincia1 ( id_provincia ) REFERENCES abipuglia.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.comunicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.contatti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.contatti ADD FOREIGN KEY fk_1 ( id_contatti_tipi ) REFERENCES abipuglia.contatti_tipo( id_contatti_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.dati_province_istat ADD FOREIGN KEY fk_0 ( id_provincia ) REFERENCES abipuglia.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.dati_regioni_istat ADD FOREIGN KEY fk_0 ( id_regione ) REFERENCES abipuglia.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.denominazioni_alternative ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.denominazioni_precedenti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.depositi_legali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.depositi_legali ADD FOREIGN KEY fk_1 ( id_depositi_legali_tipo ) REFERENCES abipuglia.depositi_legali_tipo( id_depositi_legali_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.destinazioni_sociali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.destinazioni_sociali ADD FOREIGN KEY fk_1 ( id_destinazioni_sociali_tipo ) REFERENCES abipuglia.destinazioni_sociali_tipo( id_destinazioni_sociali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.dewey_libero ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.dewey_libero ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abipuglia.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.ente ADD FOREIGN KEY fk_0 ( id_ente_tipologia_amministrativa ) REFERENCES abipuglia.ente_tipologia_amministrativa( id_ente_tipologia_amministrativa ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.ente ADD FOREIGN KEY fk_2 ( id_stato ) REFERENCES abipuglia.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.fondi_speciali ADD FOREIGN KEY fk_0 ( id_dewey ) REFERENCES abipuglia.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali_catalogazione_inventario ) REFERENCES abipuglia.fondi_speciali_catalogazione_inventario( id_fondi_speciali_catalogazione_inventario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.geolocalizzazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.nuova_biblioteca ADD FOREIGN KEY fk_comune ( id_comune ) REFERENCES abipuglia.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.nuova_biblioteca ADD FOREIGN KEY fk_tipologia_funzionale ( id_tipologia_funzionale ) REFERENCES abipuglia.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.nuova_biblioteca ADD FOREIGN KEY fk_login_creatore ( login_creatore ) REFERENCES abipuglia.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.nuova_biblioteca ADD FOREIGN KEY fk_login_gestore ( login_gestore ) REFERENCES abipuglia.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.nuova_biblioteca ADD FOREIGN KEY fk_id_stato_biblioteca_workflow ( id_stato_biblioteca_workflow ) REFERENCES abipuglia.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.orario_chiusure ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.orario_ufficiali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.orario_variazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_1 ( id_cataloghi_collettivi ) REFERENCES abipuglia.cataloghi_collettivi( id_cataloghi_collettivi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abipuglia.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_4 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abipuglia.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.partecipa_cataloghi_generali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.partecipa_cataloghi_generali ADD FOREIGN KEY fk_2 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abipuglia.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.partecipa_cataloghi_generali ADD FOREIGN KEY fk_3 ( id_catalogo_generale_tipo ) REFERENCES abipuglia.catalogo_generale_tipo( id_catalogo_generale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abipuglia.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_3 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abipuglia.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.patrimonio ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.patrimonio ADD FOREIGN KEY fk_1 ( id_patrimonio_specializzazione ) REFERENCES abipuglia.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.patrimonio_specializzazione ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria ) REFERENCES abipuglia.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.patrimonio_specializzazione_categoria ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria_madre ) REFERENCES abipuglia.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_prestito_interbibliotecario_modo ) REFERENCES abipuglia.prestito_interbibliotecario_modo( id_prestito_interbibliotecario_modo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.prestito_locale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_0 ( id_prestito_locale ) REFERENCES abipuglia.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_1 ( id_prestito_locale_materiale_escluso ) REFERENCES abipuglia.prestito_locale_materiale_escluso( id_prestito_locale_materiale_escluso ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_1 ( id_prestito_locale ) REFERENCES abipuglia.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_0 ( id_prestito_locale_utenti_ammessi ) REFERENCES abipuglia.prestito_locale_utenti_ammessi( id_prestito_locale_utenti_ammessi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.provincia ADD FOREIGN KEY fk_provincia_regione1 ( id_regione ) REFERENCES abipuglia.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.pubblicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.regione ADD FOREIGN KEY fk_regione_stato1 ( id_stato ) REFERENCES abipuglia.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.regolamento ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.riproduzioni ADD FOREIGN KEY fk_0 ( id_riproduzioni_tipo ) REFERENCES abipuglia.riproduzioni_tipo( id_riproduzioni_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.riproduzioni ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.spogli_bibliografici ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.stato_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.stato_catalogazione ADD FOREIGN KEY fk_1 ( id_stato_catalogazione ) REFERENCES abipuglia.stato_catalogazione_tipo( id_stato_catalogazione_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.stato_catalogazione ADD FOREIGN KEY fk_2 ( id_biblioteca_target ) REFERENCES abipuglia.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.utenti_has_profili ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abipuglia.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abipuglia.utenti_has_profili ADD FOREIGN KEY fk_1 ( id_profili ) REFERENCES abipuglia.profili( id_profili ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]> </string>
		</query>
		<query name="Sql_010" tab_index="-1" >
			<string> <![CDATA[CREATE SCHEMA abicampania;

CREATE TABLE abicampania.accesso_modalita ( 
	id_accesso_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table PRIMARY KEY ( id_accesso_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.bibliografia ( 
	id_bibliografia INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
CONSTRAINT pk_bibliografia PRIMARY KEY ( id_bibliografia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX bibliografia_FKIndex1 ON abicampania.bibliografia ( id_biblioteca );

CREATE TABLE abicampania.biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NOT NULL,
	denominazione_ufficiale VARCHAR( 255 ) NOT NULL,
	indirizzo VARCHAR( 255 ) NULL,
	frazione VARCHAR( 255 ) NULL,
	cap VARCHAR( 5 ) NULL,
	id_comune INT UNSIGNED NOT NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	data_istituzione VARCHAR( 255 ) NULL,
	edificio_denominazione VARCHAR( 255 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	struttura_gerarchica_sovraordinata VARCHAR( 255 ) NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	attivo_accesso_internet BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_fondi_antichi_consistenza INT UNSIGNED NOT NULL,
	id_ente INT UNSIGNED NOT NULL,
	id_tipologia_funzionale INT UNSIGNED NOT NULL,
	procedure_ill_automatizzate BOOL NULL,
	id_biblioteca_padre INT UNSIGNED NULL,
	mq_totali INT UNSIGNED NULL,
	mq_pubblici INT UNSIGNED NULL,
	ml_magazzini INT UNSIGNED NULL,
	ml_aperti INT UNSIGNED NULL,
	posti_lettura INT UNSIGNED NULL,
	posti_video INT UNSIGNED NULL,
	posti_audio INT UNSIGNED NULL,
	posti_internet INT UNSIGNED NULL,
	utenti INT UNSIGNED NULL,
	utenti_under14 INT UNSIGNED NULL DEFAULT 0,
	utenti_iscritti INT UNSIGNED NULL,
	utenti_iscritti_prestito_anno INT UNSIGNED NULL,
	personale_temporaneo INT UNSIGNED NULL,
	personale_esterno INT UNSIGNED NULL,
	personale_part_time INT UNSIGNED NULL,
	personale_totale INT UNSIGNED NULL,
	bilancio_entrate INT UNSIGNED NULL,
	bilancio_uscite INT UNSIGNED NULL,
	bilancio_uscite_personale INT UNSIGNED NULL,
	bilancio_uscite_funzionamento INT UNSIGNED NULL,
	bilancio_uscite_incremento_patrimonio INT UNSIGNED NULL,
	bilancio_uscite_automazione INT UNSIGNED NULL,
	bilancio_uscite_acquisti_anno INT UNSIGNED NULL DEFAULT 0,
	bilancio_uscite_acquisti_ultimi15 INT UNSIGNED NULL DEFAULT 0,
	bilancio_uscite_varie INT UNSIGNED NULL,
	bilancio_patrimoniale_posseduto INT NULL,
	bilancio_patrimoniale_posseduto_under14 INT NULL,
	n_ore_settimanali INT UNSIGNED NULL DEFAULT 0,
	n_ore_settimanali_pom INT UNSIGNED NULL DEFAULT 0,
	n_settim_apertura INT UNSIGNED NULL DEFAULT 0,
	prestito_interbiblio_nazionale BOOL NULL,
	prestito_interbiblio_internazionale BOOL NULL,
	attivo_informazioni_bibliografiche BOOL NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	n_prestiti_interbibliotecari_annuo INT UNSIGNED NULL,
	n_prestiti_locali_annuo INT UNSIGNED NULL,
	catalogazione_data_modifica DATETIME NULL,
	id_utenti INT UNSIGNED NULL,
	id_stato_biblioteca_workflow INT NOT NULL,
	catalogazione_data_import DATETIME NULL,
	catalogazione_data_modifica_remota DATETIME NULL,
	catalogazione_note TEXT NULL,
	catalogazione_data_censimento DATETIME NULL,
	attivo_riproduzioni BOOL NULL,
	attivo_prestito_locale BOOL NULL,
	attivo_reference BOOL NULL,
	reference_locale BOOL NULL,
	reference_online BOOL NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex1 ON abicampania.biblioteca ( id_ente );

CREATE INDEX biblioteca_FKIndex2 ON abicampania.biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex3 ON abicampania.biblioteca ( id_biblioteca_padre );

CREATE INDEX biblioteca_FKIndex4 ON abicampania.biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_1_fondi_antichi ON abicampania.biblioteca ( id_fondi_antichi_consistenza );

CREATE INDEX idx_1_utentemod ON abicampania.biblioteca ( id_utenti );

CREATE TABLE abicampania.biblioteca_has_accesso_modalita ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_accesso_modalita INT UNSIGNED NOT NULL,
CONSTRAINT chiave_accessomod PRIMARY KEY ( id_accesso_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_accesso_utenti_ammessi ON abicampania.biblioteca_has_accesso_modalita ( id_accesso_modalita );

CREATE TABLE abicampania.biblioteca_has_dewey ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_dewey VARCHAR( 6 ) NOT NULL,
CONSTRAINT pk_special PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_dewey_FKIndex1 ON abicampania.biblioteca_has_dewey ( id_biblioteca );

CREATE INDEX biblioteca_has_dewey_FKIndex2 ON abicampania.biblioteca_has_dewey ( id_dewey );

CREATE TABLE abicampania.biblioteca_has_fondi_speciali ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_fondi_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_fondi_speciali PRIMARY KEY ( id_biblioteca, id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex1 ON abicampania.biblioteca_has_fondi_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex2 ON abicampania.biblioteca_has_fondi_speciali ( id_fondi_speciali );

CREATE TABLE abicampania.biblioteca_has_indicizzazione_classificata ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_indicizzazione_classificata INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_classificata PRIMARY KEY ( id_biblioteca, id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_classificata_FKIndex1 ON abicampania.biblioteca_has_indicizzazione_classificata ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_classificata_FKIndex2 ON abicampania.biblioteca_has_indicizzazione_classificata ( id_indicizzazione_classificata );

CREATE TABLE abicampania.biblioteca_has_indicizzazione_soggetto ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_indicizzazione_soggetto INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_soggetto PRIMARY KEY ( id_biblioteca, id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex1 ON abicampania.biblioteca_has_indicizzazione_soggetto ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex2 ON abicampania.biblioteca_has_indicizzazione_soggetto ( id_indicizzazione_soggetto );

CREATE TABLE abicampania.biblioteca_has_norme_catalogazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_norme_catalogazione INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_norme_catalogazione PRIMARY KEY ( id_biblioteca, id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex1 ON abicampania.biblioteca_has_norme_catalogazione ( id_biblioteca );

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex2 ON abicampania.biblioteca_has_norme_catalogazione ( id_norme_catalogazione );

CREATE TABLE abicampania.biblioteca_has_prestito_interbibliotecario ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_pre_pos_dsc PRIMARY KEY ( id_biblioteca, id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex1 ON abicampania.biblioteca_has_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex2 ON abicampania.biblioteca_has_prestito_interbibliotecario ( id_prestito_interbibliotecario );

CREATE TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ( 
	id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id__servizi_bibliotecari_carta, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abicampania.biblioteca_has_servizi_bibliotecari_carta ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abicampania.biblioteca_has_servizi_bibliotecari_carta ( id__servizi_bibliotecari_carta );

CREATE TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( 
	id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( id_servizi_informazioni_bibliografiche_modalita );

CREATE TABLE abicampania.biblioteca_has_sezioni_speciali ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sezioni_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sezioni_speciali PRIMARY KEY ( id_biblioteca, id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex1 ON abicampania.biblioteca_has_sezioni_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex2 ON abicampania.biblioteca_has_sezioni_speciali ( id_sezioni_speciali );

CREATE TABLE abicampania.biblioteca_has_sistemi_biblioteche ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sistemi_biblioteche INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_partec_sist_biblio PRIMARY KEY ( id_biblioteca, id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex1 ON abicampania.biblioteca_has_sistemi_biblioteche ( id_biblioteca );

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex2 ON abicampania.biblioteca_has_sistemi_biblioteche ( id_sistemi_biblioteche );

CREATE TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sist_pr_interbiblio PRIMARY KEY ( id_biblioteca, id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex1 ON abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex2 ON abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( id_sistemi_prestito_interbibliotecario );

CREATE TABLE abicampania.biblioteca_has_utenti ( 
	id_utenti INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT idx_bibliotecahasutenti PRIMARY KEY ( id_utenti, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.cataloghi_collettivi ( 
	id_cataloghi_collettivi INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
	id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL,
	dettaglio_zona VARCHAR( 50 ) NULL,
CONSTRAINT pk_catal_coll_estens PRIMARY KEY ( id_cataloghi_collettivi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_estensione ON abicampania.cataloghi_collettivi ( id_cataloghi_collettivi_zona_tipo );

CREATE TABLE abicampania.cataloghi_collettivi_materiale_url ( 
	id_cataloghi_collettivi_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_coll_url PRIMARY KEY ( id_cataloghi_collettivi_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_url ON abicampania.cataloghi_collettivi_materiale_url ( id_cataloghi_collettivi_materiale );

CREATE TABLE abicampania.cataloghi_collettivi_zona_tipo ( 
	id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_collettivi_zona_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.cataloghi_generali_url ( 
	id_cataloghi_generali_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_generali INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_gener_url PRIMARY KEY ( id_cataloghi_generali_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_id_cataloghi_generali ON abicampania.cataloghi_generali_url ( id_cataloghi_generali );

CREATE TABLE abicampania.cataloghi_speciali_materiale_url ( 
	id_cataloghi_speciali_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec_url PRIMARY KEY ( id_cataloghi_speciali_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_speciali_url ON abicampania.cataloghi_speciali_materiale_url ( id_cataloghi_speciali_materiale );

CREATE TABLE abicampania.cataloghi_supporto_digitale_tipo ( 
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_supporto_digitale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.catalogo_generale_tipo ( 
	id_catalogo_generale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_catalogo_generale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.codici ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_codici INT UNSIGNED NOT NULL,
	valore VARCHAR( 100 ) NOT NULL,
CONSTRAINT idx_pk_bibliotecacodici PRIMARY KEY ( id_biblioteca, id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_codice ON abicampania.codici ( id_codici );

CREATE INDEX idx_codici ON abicampania.codici ( id_biblioteca );

CREATE TABLE abicampania.codici_tipo ( 
	id_codici INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.comune ( 
	id_comune INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_provincia INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	codice_istat VARCHAR( 6 ) NULL,
	codice_finanze VARCHAR( 6 ) NULL,
CONSTRAINT pk_comune PRIMARY KEY ( id_comune )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comune_FKIndex1 ON abicampania.comune ( id_provincia );

CREATE TABLE abicampania.comunicazioni ( 
	id_comunicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
CONSTRAINT pk_comunicazioni PRIMARY KEY ( id_comunicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comunicazioni_FKIndex1 ON abicampania.comunicazioni ( id_biblioteca );

CREATE TABLE abicampania.contatti ( 
	id_contatti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	id_contatti_tipi INT UNSIGNED NOT NULL,
	valore VARCHAR( 255 ) NOT NULL,
	note VARCHAR( 100 ) NULL,
CONSTRAINT PK_contatti PRIMARY KEY ( id_contatti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.contatti_tipo ( 
	id_contatti_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_1 PRIMARY KEY ( id_contatti_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dati_province_istat ( 
	id_provincia INT UNSIGNED NOT NULL,
	totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
CONSTRAINT pk_dati_province_istat PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dati_regioni_istat ( 
	id_regione INT UNSIGNED NOT NULL,
	totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
	descrizione_zona VARCHAR( 20 ) NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_dati_regioni_istat PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.denominazioni_alternative ( 
	id_denominazioni_alternative INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_anche PRIMARY KEY ( id_denominazioni_alternative )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_anche_FKIndex1 ON abicampania.denominazioni_alternative ( id_biblioteca );

CREATE TABLE abicampania.denominazioni_precedenti ( 
	id_denominazioni_precedenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_gia PRIMARY KEY ( id_denominazioni_precedenti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_gia_FKIndex1 ON abicampania.denominazioni_precedenti ( id_biblioteca );

CREATE TABLE abicampania.depositi_legali ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_depositi_legali_tipo INT UNSIGNED NOT NULL,
	da_anno VARCHAR( 10 ) NULL,
CONSTRAINT pk_biblioteca_has_deposito_legale PRIMARY KEY ( id_biblioteca, id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.depositi_legali_tipo ( 
	id_depositi_legali_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_deposito_legale PRIMARY KEY ( id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.destinazioni_sociali ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_destinazioni_sociali_tipo INT UNSIGNED NOT NULL,
	note VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_destinaz_sociale PRIMARY KEY ( id_biblioteca, id_destinazioni_sociali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.destinazioni_sociali_tipo ( 
	id_destinazioni_sociali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_destinaz_sociale PRIMARY KEY ( id_destinazioni_sociali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dewey ( 
	id_dewey VARCHAR( 6 ) NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_dewey PRIMARY KEY ( id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dewey_libero ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_dewey VARCHAR( 6 ) NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_dewey_lib PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.ente ( 
	id_ente INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_stato INT UNSIGNED NOT NULL,
	id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	asia_asip VARCHAR( 11 ) NULL,
CONSTRAINT pk_ente PRIMARY KEY ( id_ente )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX ente_FKIndex2 ON abicampania.ente ( id_ente_tipologia_amministrativa );

CREATE INDEX ente_FKIndex3 ON abicampania.ente ( id_stato );

CREATE TABLE abicampania.ente_tipologia_amministrativa ( 
	id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_ente PRIMARY KEY ( id_ente_tipologia_amministrativa )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.fondi_antichi_consistenza ( 
	id_fondi_antichi_consistenza INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_fondi_antichi_consistenza )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.fondi_speciali ( 
	id_fondi_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_dewey VARCHAR( 6 ) NULL,
	denominazione VARCHAR( 255 ) NOT NULL,
	fondo_depositato BOOL NULL,
	descrizione VARCHAR( 255 ) NULL,
	id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL,
	catalogazione_inventario_url VARCHAR( 255 ) NULL,
	citazione_bibliografica TEXT NULL,
CONSTRAINT pk_fondi_speciali PRIMARY KEY ( id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX fondi_speciali_FKIndex1 ON abicampania.fondi_speciali ( id_dewey );

CREATE INDEX idx_fondi_speciali ON abicampania.fondi_speciali ( id_fondi_speciali_catalogazione_inventario );

CREATE TABLE abicampania.fondi_speciali_catalogazione_inventario ( 
	id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_fondi_speciali_catalogazione_inventario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.geolocalizzazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	latitudine DOUBLE NULL,
	longitudine DOUBLE NULL,
	precisione VARCHAR( 50 ) NULL,
	warning TEXT NULL,
	error TEXT NULL,
CONSTRAINT pk_id_bib PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.indicizzazione_classificata ( 
	id_indicizzazione_classificata INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_classificata PRIMARY KEY ( id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.indicizzazione_soggetto ( 
	id_indicizzazione_soggetto INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_soggetto PRIMARY KEY ( id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.norme_catalogazione ( 
	id_norme_catalogazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_norme_catalogazione PRIMARY KEY ( id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.nuova_biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NULL,
	denominazione_ufficiale VARCHAR( 255 ) NULL,
	id_comune INT UNSIGNED NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_tipologia_funzionale INT UNSIGNED NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	login_creatore INT UNSIGNED NULL,
	login_gestore INT UNSIGNED NULL,
	id_stato_biblioteca_workflow INT NOT NULL,
	ente_denominazione VARCHAR( 255 ) NULL,
	ente_tipologia_amministrativa VARCHAR( 255 ) NULL,
	ente_stato VARCHAR( 255 ) NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex2 ON abicampania.nuova_biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex4 ON abicampania.nuova_biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_login_creatore ON abicampania.nuova_biblioteca ( login_creatore );

CREATE INDEX idx_login_gestore ON abicampania.nuova_biblioteca ( login_gestore );

CREATE INDEX idx_nuova_biblioteca ON abicampania.nuova_biblioteca ( id_stato_biblioteca_workflow );

CREATE TABLE abicampania.orario_chiusure ( 
	id_orario_chiusure INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_periodo_chiusura PRIMARY KEY ( id_orario_chiusure )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX periodo_chiusura_FKIndex1 ON abicampania.orario_chiusure ( id_biblioteca );

CREATE TABLE abicampania.orario_ufficiali ( 
	id_orario_ufficiali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	giorno INT NOT NULL,
	dalle TIME NOT NULL,
	alle TIME NOT NULL,
CONSTRAINT pk_orario_ufficiale PRIMARY KEY ( id_orario_ufficiali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orario_ufficiale_FKIndex1 ON abicampania.orario_ufficiali ( id_biblioteca );

CREATE TABLE abicampania.orario_variazioni ( 
	id_orario_variazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
	giorno INT NULL,
	dalle TIME NULL,
	alle TIME NULL,
CONSTRAINT pk_orari_variazioni PRIMARY KEY ( id_orario_variazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orari_variazioni_FKIndex1 ON abicampania.orario_variazioni ( id_biblioteca );

CREATE TABLE abicampania.partecipa_cataloghi_collettivi_materiale ( 
	id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_collettivi INT UNSIGNED NOT NULL,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
CONSTRAINT pk_catal_coll PRIMARY KEY ( id_cataloghi_collettivi_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_coll_FKIndex1 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_biblioteca );

CREATE INDEX catal_coll_FKIndex2 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_patrimonio_specializzazione );

CREATE INDEX catal_coll_FKIndex3 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_collettivi );

CREATE INDEX idx_cataloghi_collettivi ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abicampania.partecipa_cataloghi_generali ( 
	id_cataloghi_generali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
	id_catalogo_generale_tipo INT UNSIGNED NOT NULL,
CONSTRAINT pk_catal_gener PRIMARY KEY ( id_cataloghi_generali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX cataloghi_gener_FKIndex1 ON abicampania.partecipa_cataloghi_generali ( id_biblioteca );

CREATE INDEX idx_cataloghi_generali ON abicampania.partecipa_cataloghi_generali ( id_cataloghi_supporto_digitale_tipo );

CREATE INDEX idx_1_cataloghi_generali_tipo ON abicampania.partecipa_cataloghi_generali ( id_catalogo_generale_tipo );

CREATE TABLE abicampania.partecipa_cataloghi_speciali_materiale ( 
	id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec PRIMARY KEY ( id_cataloghi_speciali_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_spec_FKIndex1 ON abicampania.partecipa_cataloghi_speciali_materiale ( id_biblioteca );

CREATE INDEX catal_spec_FKIndex2 ON abicampania.partecipa_cataloghi_speciali_materiale ( id_patrimonio_specializzazione );

CREATE INDEX idx_cataloghi_speciali ON abicampania.partecipa_cataloghi_speciali_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abicampania.patrimonio ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	quantita INT UNSIGNED NOT NULL,
	quantita_ultimo_anno INT UNSIGNED NOT NULL,
CONSTRAINT idx_1 PRIMARY KEY ( id_biblioteca, id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.patrimonio_specializzazione ( 
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec PRIMARY KEY ( id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_FKIndex1 ON abicampania.patrimonio_specializzazione ( id_patrimonio_specializzazione_categoria );

CREATE TABLE abicampania.patrimonio_specializzazione_categoria ( 
	id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione_categoria_madre INT UNSIGNED NULL,
	descrizione TEXT NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec_cat PRIMARY KEY ( id_patrimonio_specializzazione_categoria )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_cat_FKIndex1 ON abicampania.patrimonio_specializzazione_categoria ( id_patrimonio_specializzazione_categoria_madre );

CREATE TABLE abicampania.prestito_interbibliotecario ( 
	id_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	nazionale BOOL NULL,
	internazionale BOOL NULL,
	id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL,
CONSTRAINT pk_pre_pos_dsc PRIMARY KEY ( id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_prestito_interbibliotecario ON abicampania.prestito_interbibliotecario ( id_prestito_interbibliotecario_modo );

CREATE TABLE abicampania.prestito_interbibliotecario_modo ( 
	id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_prestito_interbibliotecario_modo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.prestito_locale ( 
	id_prestito_locale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	automatizzato BOOL NULL,
	durata_giorni INT UNSIGNED NULL,
CONSTRAINT pk_prestito_locale PRIMARY KEY ( id_prestito_locale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_FKIndex1 ON abicampania.prestito_locale ( id_biblioteca );

CREATE TABLE abicampania.prestito_locale_has_materiale_escluso ( 
	id_prestito_locale INT UNSIGNED NOT NULL,
	id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_escluso PRIMARY KEY ( id_prestito_locale, id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex1 ON abicampania.prestito_locale_has_materiale_escluso ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex2 ON abicampania.prestito_locale_has_materiale_escluso ( id_prestito_locale_materiale_escluso );

CREATE TABLE abicampania.prestito_locale_has_utenti_ammessi ( 
	id_prestito_locale INT UNSIGNED NOT NULL,
	id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_zona PRIMARY KEY ( id_prestito_locale, id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_zona_FKIndex1 ON abicampania.prestito_locale_has_utenti_ammessi ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_zona_FKIndex2 ON abicampania.prestito_locale_has_utenti_ammessi ( id_prestito_locale_utenti_ammessi );

CREATE TABLE abicampania.prestito_locale_materiale_escluso ( 
	id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_escluso PRIMARY KEY ( id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.prestito_locale_utenti_ammessi ( 
	id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_zona PRIMARY KEY ( id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.profili ( 
	id_profili INT UNSIGNED NOT NULL AUTO_INCREMENT,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_profili PRIMARY KEY ( id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.provincia ( 
	id_provincia INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_regione INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	codice_istat VARCHAR( 10 ) NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_provincia PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX provincia_FKIndex1 ON abicampania.provincia ( id_regione );

CREATE TABLE abicampania.pubblicazioni ( 
	id_pubblicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_biblioteca_has_pubblicazioni PRIMARY KEY ( id_pubblicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pubblicazioni_FKIndex1 ON abicampania.pubblicazioni ( id_biblioteca );

CREATE TABLE abicampania.regione ( 
	id_regione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_stato INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_regione PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regione_FKIndex1 ON abicampania.regione ( id_stato );

CREATE TABLE abicampania.regolamento ( 
	id_regolamento INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	riferimento_normativa VARCHAR( 255 ) NULL,
	url VARCHAR( 255 ) NULL,
CONSTRAINT pk_regolamento PRIMARY KEY ( id_regolamento )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regolamento_FKIndex1 ON abicampania.regolamento ( id_biblioteca );

CREATE TABLE abicampania.riproduzioni ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_riproduzioni_tipo INT UNSIGNED NOT NULL,
	locale BOOL NULL,
	nazionale BOOL NULL,
	internazionale BOOL NULL,
CONSTRAINT idx PRIMARY KEY ( id_biblioteca, id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.riproduzioni_tipo ( 
	id_riproduzioni_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_tipo_riproduzioni PRIMARY KEY ( id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.servizi_bibliotecari_carta ( 
	id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id__servizi_bibliotecari_carta )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.servizi_informazioni_bibliografiche_modalita ( 
	id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sezioni_speciali ( 
	id_sezioni_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_sezioni_speciali PRIMARY KEY ( id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sistemi_biblioteche ( 
	id_sistemi_biblioteche INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_partec_sist_biblio PRIMARY KEY ( id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sistemi_prestito_interbibliotecario ( 
	id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
	url VARCHAR( 255 ) NULL,
CONSTRAINT pk_sist_pr_interbiblio PRIMARY KEY ( id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.spogli_bibliografici ( 
	id_spogli_bibliografici INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione_bibliografica TEXT NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_spogli_bibliografici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_spogli_bibliografici ON abicampania.spogli_bibliografici ( id_biblioteca );

CREATE TABLE abicampania.stato ( 
	id_stato INT UNSIGNED NOT NULL AUTO_INCREMENT,
	denominazione VARCHAR( 100 ) NOT NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_stato PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.stato_biblioteca_workflow ( 
	id_stato INT NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
	label VARCHAR( 64 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.stato_catalogazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_stato_catalogazione INT UNSIGNED NOT NULL,
	id_biblioteca_target INT UNSIGNED NULL,
CONSTRAINT pk_biblioteca_has_stato_catalogazione PRIMARY KEY ( id_biblioteca, id_stato_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_stato_catalogazione ON abicampania.stato_catalogazione ( id_biblioteca_target );

CREATE TABLE abicampania.stato_catalogazione_tipo ( 
	id_stato_catalogazione_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 100 ) NULL,
CONSTRAINT pk_stato_catalogazione PRIMARY KEY ( id_stato_catalogazione_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.tipologia_funzionale ( 
	id_tipologia_funzionale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_tipologia_funzionale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.utenti ( 
	id_utenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	login VARCHAR( 20 ) NOT NULL,
	password VARCHAR( 50 ) NOT NULL,
	nome VARCHAR( 255 ) NULL,
	cognome VARCHAR( 255 ) NULL,
	tel VARCHAR( 50 ) NULL,
	fax VARCHAR( 50 ) NULL,
	email VARCHAR( 50 ) NULL,
	incarico VARCHAR( 50 ) NULL,
	note VARCHAR( 255 ) NULL,
	data_modifica_password DATETIME NULL,
	enabled BOOL NOT NULL DEFAULT 1,
	codice_validazione VARCHAR( 50 ) NULL,
CONSTRAINT PK_utenti PRIMARY KEY ( id_utenti ),
CONSTRAINT login UNIQUE ( login )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

ALTER TABLE abicampania.utenti MODIFY data_modifica_password DATETIME COMMENT 'data di ultima generazione della password';

CREATE TABLE abicampania.utenti_has_profili ( 
	id_utenti INT UNSIGNED NOT NULL,
	id_profili INT UNSIGNED NOT NULL,
CONSTRAINT pk_utenti_has_profili PRIMARY KEY ( id_utenti, id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX utenti_has_profili_FKIndex1 ON abicampania.utenti_has_profili ( id_utenti );

CREATE INDEX utenti_has_profili_FKIndex2 ON abicampania.utenti_has_profili ( id_profili );

ALTER TABLE abicampania.bibliografia ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_0 ( id_comune ) REFERENCES abicampania.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_2 ( id_tipologia_funzionale ) REFERENCES abicampania.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_3 ( id_ente ) REFERENCES abicampania.ente( id_ente ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_4 ( id_biblioteca_padre ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_1 ( id_fondi_antichi_consistenza ) REFERENCES abicampania.fondi_antichi_consistenza( id_fondi_antichi_consistenza ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_5 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_6 ( id_stato_biblioteca_workflow ) REFERENCES abicampania.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_1 ( id_accesso_modalita ) REFERENCES abicampania.accesso_modalita( id_accesso_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_dewey ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_dewey ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali ) REFERENCES abicampania.fondi_speciali( id_fondi_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_1 ( id_indicizzazione_classificata ) REFERENCES abicampania.indicizzazione_classificata( id_indicizzazione_classificata ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_1 ( id_indicizzazione_soggetto ) REFERENCES abicampania.indicizzazione_soggetto( id_indicizzazione_soggetto ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_1 ( id_norme_catalogazione ) REFERENCES abicampania.norme_catalogazione( id_norme_catalogazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_prestito_interbibliotecario ) REFERENCES abicampania.prestito_interbibliotecario( id_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_1 ( id__servizi_bibliotecari_carta ) REFERENCES abicampania.servizi_bibliotecari_carta( id__servizi_bibliotecari_carta ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_1 ( id_servizi_informazioni_bibliografiche_modalita ) REFERENCES abicampania.servizi_informazioni_bibliografiche_modalita( id_servizi_informazioni_bibliografiche_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_1 ( id_sezioni_speciali ) REFERENCES abicampania.sezioni_speciali( id_sezioni_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_1 ( id_sistemi_biblioteche ) REFERENCES abicampania.sistemi_biblioteche( id_sistemi_biblioteche ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_sistemi_prestito_interbibliotecario ) REFERENCES abicampania.sistemi_prestito_interbibliotecario( id_sistemi_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_utenti ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_utenti ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_collettivi ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_zona_tipo ) REFERENCES abicampania.cataloghi_collettivi_zona_tipo( id_cataloghi_collettivi_zona_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_collettivi_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_materiale ) REFERENCES abicampania.partecipa_cataloghi_collettivi_materiale( id_cataloghi_collettivi_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_generali_url ADD FOREIGN KEY fk_cataloghi_generali_url ( id_cataloghi_generali ) REFERENCES abicampania.partecipa_cataloghi_generali( id_cataloghi_generali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_speciali_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_speciali_materiale ) REFERENCES abicampania.partecipa_cataloghi_speciali_materiale( id_cataloghi_speciali_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.codici ADD FOREIGN KEY fk_0 ( id_codici ) REFERENCES abicampania.codici_tipo( id_codici ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.codici ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.comune ADD FOREIGN KEY fk_comune_provincia1 ( id_provincia ) REFERENCES abicampania.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.comunicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.contatti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.contatti ADD FOREIGN KEY fk_1 ( id_contatti_tipi ) REFERENCES abicampania.contatti_tipo( id_contatti_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dati_province_istat ADD FOREIGN KEY fk_0 ( id_provincia ) REFERENCES abicampania.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dati_regioni_istat ADD FOREIGN KEY fk_0 ( id_regione ) REFERENCES abicampania.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.denominazioni_alternative ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.denominazioni_precedenti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.depositi_legali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.depositi_legali ADD FOREIGN KEY fk_1 ( id_depositi_legali_tipo ) REFERENCES abicampania.depositi_legali_tipo( id_depositi_legali_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.destinazioni_sociali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.destinazioni_sociali ADD FOREIGN KEY fk_1 ( id_destinazioni_sociali_tipo ) REFERENCES abicampania.destinazioni_sociali_tipo( id_destinazioni_sociali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dewey_libero ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dewey_libero ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_0 ( id_ente_tipologia_amministrativa ) REFERENCES abicampania.ente_tipologia_amministrativa( id_ente_tipologia_amministrativa ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_2 ( id_stato ) REFERENCES abicampania.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_speciali ADD FOREIGN KEY fk_0 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali_catalogazione_inventario ) REFERENCES abicampania.fondi_speciali_catalogazione_inventario( id_fondi_speciali_catalogazione_inventario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.geolocalizzazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_comune ( id_comune ) REFERENCES abicampania.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_tipologia_funzionale ( id_tipologia_funzionale ) REFERENCES abicampania.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_login_creatore ( login_creatore ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_login_gestore ( login_gestore ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_id_stato_biblioteca_workflow ( id_stato_biblioteca_workflow ) REFERENCES abicampania.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_chiusure ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_ufficiali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_variazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_1 ( id_cataloghi_collettivi ) REFERENCES abicampania.cataloghi_collettivi( id_cataloghi_collettivi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_4 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_2 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_3 ( id_catalogo_generale_tipo ) REFERENCES abicampania.catalogo_generale_tipo( id_catalogo_generale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_3 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio ADD FOREIGN KEY fk_1 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio_specializzazione ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria ) REFERENCES abicampania.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio_specializzazione_categoria ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria_madre ) REFERENCES abicampania.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_prestito_interbibliotecario_modo ) REFERENCES abicampania.prestito_interbibliotecario_modo( id_prestito_interbibliotecario_modo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_0 ( id_prestito_locale ) REFERENCES abicampania.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_1 ( id_prestito_locale_materiale_escluso ) REFERENCES abicampania.prestito_locale_materiale_escluso( id_prestito_locale_materiale_escluso ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_1 ( id_prestito_locale ) REFERENCES abicampania.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_0 ( id_prestito_locale_utenti_ammessi ) REFERENCES abicampania.prestito_locale_utenti_ammessi( id_prestito_locale_utenti_ammessi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.provincia ADD FOREIGN KEY fk_provincia_regione1 ( id_regione ) REFERENCES abicampania.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.pubblicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.regione ADD FOREIGN KEY fk_regione_stato1 ( id_stato ) REFERENCES abicampania.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.regolamento ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.riproduzioni ADD FOREIGN KEY fk_0 ( id_riproduzioni_tipo ) REFERENCES abicampania.riproduzioni_tipo( id_riproduzioni_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.riproduzioni ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.spogli_bibliografici ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_1 ( id_stato_catalogazione ) REFERENCES abicampania.stato_catalogazione_tipo( id_stato_catalogazione_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_2 ( id_biblioteca_target ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.utenti_has_profili ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.utenti_has_profili ADD FOREIGN KEY fk_1 ( id_profili ) REFERENCES abicampania.profili( id_profili ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]> </string>
		</query>
		<query name="Sql_011" tab_index="-1" >
			<string> <![CDATA[CREATE SCHEMA abicampania;

CREATE TABLE abicampania.accesso_modalita ( 
	id_accesso_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table PRIMARY KEY ( id_accesso_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.bibliografia ( 
	id_bibliografia INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
CONSTRAINT pk_bibliografia PRIMARY KEY ( id_bibliografia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX bibliografia_FKIndex1 ON abicampania.bibliografia ( id_biblioteca );

CREATE TABLE abicampania.biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NOT NULL,
	denominazione_ufficiale VARCHAR( 255 ) NOT NULL,
	indirizzo VARCHAR( 255 ) NULL,
	frazione VARCHAR( 255 ) NULL,
	cap VARCHAR( 5 ) NULL,
	id_comune INT UNSIGNED NOT NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	data_istituzione VARCHAR( 255 ) NULL,
	edificio_denominazione VARCHAR( 255 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	struttura_gerarchica_sovraordinata VARCHAR( 255 ) NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	attivo_accesso_internet BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_fondi_antichi_consistenza INT UNSIGNED NOT NULL,
	id_ente INT UNSIGNED NOT NULL,
	id_tipologia_funzionale INT UNSIGNED NOT NULL,
	procedure_ill_automatizzate BOOL NULL,
	id_biblioteca_padre INT UNSIGNED NULL,
	mq_totali INT UNSIGNED NULL,
	mq_pubblici INT UNSIGNED NULL,
	ml_magazzini INT UNSIGNED NULL,
	ml_aperti INT UNSIGNED NULL,
	posti_lettura INT UNSIGNED NULL,
	posti_video INT UNSIGNED NULL,
	posti_audio INT UNSIGNED NULL,
	posti_internet INT UNSIGNED NULL,
	utenti INT UNSIGNED NULL,
	utenti_under14 INT UNSIGNED NULL DEFAULT 0,
	utenti_iscritti INT UNSIGNED NULL,
	utenti_iscritti_prestito_anno INT UNSIGNED NULL,
	personale_temporaneo INT UNSIGNED NULL,
	personale_esterno INT UNSIGNED NULL,
	personale_part_time INT UNSIGNED NULL,
	personale_totale INT UNSIGNED NULL,
	bilancio_entrate INT UNSIGNED NULL,
	bilancio_uscite INT UNSIGNED NULL,
	bilancio_uscite_personale INT UNSIGNED NULL,
	bilancio_uscite_funzionamento INT UNSIGNED NULL,
	bilancio_uscite_incremento_patrimonio INT UNSIGNED NULL,
	bilancio_uscite_automazione INT UNSIGNED NULL,
	bilancio_uscite_acquisti_anno INT UNSIGNED NULL DEFAULT 0,
	bilancio_uscite_acquisti_ultimi15 INT UNSIGNED NULL DEFAULT 0,
	bilancio_uscite_varie INT UNSIGNED NULL,
	bilancio_patrimoniale_posseduto INT NULL,
	bilancio_patrimoniale_posseduto_under14 INT NULL,
	n_ore_settimanali INT UNSIGNED NULL DEFAULT 0,
	n_ore_settimanali_pom INT UNSIGNED NULL DEFAULT 0,
	n_settim_apertura INT UNSIGNED NULL DEFAULT 0,
	prestito_interbiblio_nazionale BOOL NULL,
	prestito_interbiblio_internazionale BOOL NULL,
	attivo_informazioni_bibliografiche BOOL NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	n_prestiti_interbibliotecari_annuo INT UNSIGNED NULL,
	n_prestiti_locali_annuo INT UNSIGNED NULL,
	catalogazione_data_modifica DATETIME NULL,
	id_utenti INT UNSIGNED NULL,
	id_stato_biblioteca_workflow INT NOT NULL,
	catalogazione_data_import DATETIME NULL,
	catalogazione_data_modifica_remota DATETIME NULL,
	catalogazione_note TEXT NULL,
	catalogazione_data_censimento DATETIME NULL,
	attivo_riproduzioni BOOL NULL,
	attivo_prestito_locale BOOL NULL,
	attivo_reference BOOL NULL,
	reference_locale BOOL NULL,
	reference_online BOOL NULL,
	attivo_document_delivery BOOL NULL,
	attivo_deposito_legale BOOL NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex1 ON abicampania.biblioteca ( id_ente );

CREATE INDEX biblioteca_FKIndex2 ON abicampania.biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex3 ON abicampania.biblioteca ( id_biblioteca_padre );

CREATE INDEX biblioteca_FKIndex4 ON abicampania.biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_1_fondi_antichi ON abicampania.biblioteca ( id_fondi_antichi_consistenza );

CREATE INDEX idx_1_utentemod ON abicampania.biblioteca ( id_utenti );

CREATE TABLE abicampania.biblioteca_has_accesso_modalita ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_accesso_modalita INT UNSIGNED NOT NULL,
CONSTRAINT chiave_accessomod PRIMARY KEY ( id_accesso_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_accesso_utenti_ammessi ON abicampania.biblioteca_has_accesso_modalita ( id_accesso_modalita );

CREATE TABLE abicampania.biblioteca_has_dewey ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_dewey VARCHAR( 6 ) NOT NULL,
CONSTRAINT pk_special PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_dewey_FKIndex1 ON abicampania.biblioteca_has_dewey ( id_biblioteca );

CREATE INDEX biblioteca_has_dewey_FKIndex2 ON abicampania.biblioteca_has_dewey ( id_dewey );

CREATE TABLE abicampania.biblioteca_has_document_delivery ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_riproduzioni_tipo INT UNSIGNED NOT NULL,
CONSTRAINT pk_bib_has_doc_del PRIMARY KEY ( id_biblioteca, id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_bib_has_doc_del1 ON abicampania.biblioteca_has_document_delivery ( id_biblioteca );

CREATE INDEX idx_bib_has_doc_del2 ON abicampania.biblioteca_has_document_delivery ( id_riproduzioni_tipo );

CREATE TABLE abicampania.biblioteca_has_fondi_speciali ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_fondi_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_fondi_speciali PRIMARY KEY ( id_biblioteca, id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex1 ON abicampania.biblioteca_has_fondi_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex2 ON abicampania.biblioteca_has_fondi_speciali ( id_fondi_speciali );

CREATE TABLE abicampania.biblioteca_has_indicizzazione_classificata ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_indicizzazione_classificata INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_classificata PRIMARY KEY ( id_biblioteca, id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_classificata_FKIndex1 ON abicampania.biblioteca_has_indicizzazione_classificata ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_classificata_FKIndex2 ON abicampania.biblioteca_has_indicizzazione_classificata ( id_indicizzazione_classificata );

CREATE TABLE abicampania.biblioteca_has_indicizzazione_soggetto ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_indicizzazione_soggetto INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_soggetto PRIMARY KEY ( id_biblioteca, id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex1 ON abicampania.biblioteca_has_indicizzazione_soggetto ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex2 ON abicampania.biblioteca_has_indicizzazione_soggetto ( id_indicizzazione_soggetto );

CREATE TABLE abicampania.biblioteca_has_norme_catalogazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_norme_catalogazione INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_norme_catalogazione PRIMARY KEY ( id_biblioteca, id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex1 ON abicampania.biblioteca_has_norme_catalogazione ( id_biblioteca );

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex2 ON abicampania.biblioteca_has_norme_catalogazione ( id_norme_catalogazione );

CREATE TABLE abicampania.biblioteca_has_prestito_interbibliotecario ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_pre_pos_dsc PRIMARY KEY ( id_biblioteca, id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex1 ON abicampania.biblioteca_has_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex2 ON abicampania.biblioteca_has_prestito_interbibliotecario ( id_prestito_interbibliotecario );

CREATE TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ( 
	id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id__servizi_bibliotecari_carta, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abicampania.biblioteca_has_servizi_bibliotecari_carta ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abicampania.biblioteca_has_servizi_bibliotecari_carta ( id__servizi_bibliotecari_carta );

CREATE TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( 
	id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( id_servizi_informazioni_bibliografiche_modalita );

CREATE TABLE abicampania.biblioteca_has_sezioni_speciali ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sezioni_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sezioni_speciali PRIMARY KEY ( id_biblioteca, id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex1 ON abicampania.biblioteca_has_sezioni_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex2 ON abicampania.biblioteca_has_sezioni_speciali ( id_sezioni_speciali );

CREATE TABLE abicampania.biblioteca_has_sistemi_biblioteche ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sistemi_biblioteche INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_partec_sist_biblio PRIMARY KEY ( id_biblioteca, id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex1 ON abicampania.biblioteca_has_sistemi_biblioteche ( id_biblioteca );

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex2 ON abicampania.biblioteca_has_sistemi_biblioteche ( id_sistemi_biblioteche );

CREATE TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sist_pr_interbiblio PRIMARY KEY ( id_biblioteca, id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex1 ON abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex2 ON abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( id_sistemi_prestito_interbibliotecario );

CREATE TABLE abicampania.biblioteca_has_utenti ( 
	id_utenti INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT idx_bibliotecahasutenti PRIMARY KEY ( id_utenti, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.cataloghi_collettivi ( 
	id_cataloghi_collettivi INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
	id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL,
	dettaglio_zona VARCHAR( 50 ) NULL,
CONSTRAINT pk_catal_coll_estens PRIMARY KEY ( id_cataloghi_collettivi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_estensione ON abicampania.cataloghi_collettivi ( id_cataloghi_collettivi_zona_tipo );

CREATE TABLE abicampania.cataloghi_collettivi_materiale_url ( 
	id_cataloghi_collettivi_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_coll_url PRIMARY KEY ( id_cataloghi_collettivi_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_url ON abicampania.cataloghi_collettivi_materiale_url ( id_cataloghi_collettivi_materiale );

CREATE TABLE abicampania.cataloghi_collettivi_zona_tipo ( 
	id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_collettivi_zona_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.cataloghi_generali_url ( 
	id_cataloghi_generali_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_generali INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_gener_url PRIMARY KEY ( id_cataloghi_generali_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_id_cataloghi_generali ON abicampania.cataloghi_generali_url ( id_cataloghi_generali );

CREATE TABLE abicampania.cataloghi_speciali_materiale_url ( 
	id_cataloghi_speciali_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec_url PRIMARY KEY ( id_cataloghi_speciali_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_speciali_url ON abicampania.cataloghi_speciali_materiale_url ( id_cataloghi_speciali_materiale );

CREATE TABLE abicampania.cataloghi_supporto_digitale_tipo ( 
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_supporto_digitale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.catalogo_generale_tipo ( 
	id_catalogo_generale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_catalogo_generale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.codici ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_codici INT UNSIGNED NOT NULL,
	valore VARCHAR( 100 ) NOT NULL,
CONSTRAINT idx_pk_bibliotecacodici PRIMARY KEY ( id_biblioteca, id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_codice ON abicampania.codici ( id_codici );

CREATE INDEX idx_codici ON abicampania.codici ( id_biblioteca );

CREATE TABLE abicampania.codici_tipo ( 
	id_codici INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.comune ( 
	id_comune INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_provincia INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	codice_istat VARCHAR( 6 ) NULL,
	codice_finanze VARCHAR( 6 ) NULL,
CONSTRAINT pk_comune PRIMARY KEY ( id_comune )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comune_FKIndex1 ON abicampania.comune ( id_provincia );

CREATE TABLE abicampania.comunicazioni ( 
	id_comunicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
CONSTRAINT pk_comunicazioni PRIMARY KEY ( id_comunicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comunicazioni_FKIndex1 ON abicampania.comunicazioni ( id_biblioteca );

CREATE TABLE abicampania.contatti ( 
	id_contatti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	id_contatti_tipi INT UNSIGNED NOT NULL,
	valore VARCHAR( 255 ) NOT NULL,
	note VARCHAR( 100 ) NULL,
CONSTRAINT PK_contatti PRIMARY KEY ( id_contatti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.contatti_tipo ( 
	id_contatti_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_1 PRIMARY KEY ( id_contatti_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dati_province_istat ( 
	id_provincia INT UNSIGNED NOT NULL,
	totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
CONSTRAINT pk_dati_province_istat PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dati_regioni_istat ( 
	id_regione INT UNSIGNED NOT NULL,
	totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
	descrizione_zona VARCHAR( 20 ) NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_dati_regioni_istat PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.denominazioni_alternative ( 
	id_denominazioni_alternative INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_anche PRIMARY KEY ( id_denominazioni_alternative )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_anche_FKIndex1 ON abicampania.denominazioni_alternative ( id_biblioteca );

CREATE TABLE abicampania.denominazioni_precedenti ( 
	id_denominazioni_precedenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_gia PRIMARY KEY ( id_denominazioni_precedenti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_gia_FKIndex1 ON abicampania.denominazioni_precedenti ( id_biblioteca );

CREATE TABLE abicampania.depositi_legali ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_depositi_legali_tipo INT UNSIGNED NOT NULL,
	da_anno VARCHAR( 10 ) NULL,
CONSTRAINT pk_biblioteca_has_deposito_legale PRIMARY KEY ( id_biblioteca, id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.depositi_legali_tipo ( 
	id_depositi_legali_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_deposito_legale PRIMARY KEY ( id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.destinazioni_sociali ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_destinazioni_sociali_tipo INT UNSIGNED NOT NULL,
	note VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_destinaz_sociale PRIMARY KEY ( id_biblioteca, id_destinazioni_sociali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.destinazioni_sociali_tipo ( 
	id_destinazioni_sociali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_destinaz_sociale PRIMARY KEY ( id_destinazioni_sociali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dewey ( 
	id_dewey VARCHAR( 6 ) NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_dewey PRIMARY KEY ( id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dewey_libero ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_dewey VARCHAR( 6 ) NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_dewey_lib PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.ente ( 
	id_ente INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_stato INT UNSIGNED NOT NULL,
	id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	asia_asip VARCHAR( 11 ) NULL,
CONSTRAINT pk_ente PRIMARY KEY ( id_ente )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX ente_FKIndex2 ON abicampania.ente ( id_ente_tipologia_amministrativa );

CREATE INDEX ente_FKIndex3 ON abicampania.ente ( id_stato );

CREATE TABLE abicampania.ente_tipologia_amministrativa ( 
	id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_ente PRIMARY KEY ( id_ente_tipologia_amministrativa )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.fondi_antichi_consistenza ( 
	id_fondi_antichi_consistenza INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_fondi_antichi_consistenza )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.fondi_speciali ( 
	id_fondi_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_dewey VARCHAR( 6 ) NULL,
	denominazione VARCHAR( 255 ) NOT NULL,
	fondo_depositato BOOL NULL,
	descrizione VARCHAR( 255 ) NULL,
	id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL,
	catalogazione_inventario_url VARCHAR( 255 ) NULL,
	citazione_bibliografica TEXT NULL,
CONSTRAINT pk_fondi_speciali PRIMARY KEY ( id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX fondi_speciali_FKIndex1 ON abicampania.fondi_speciali ( id_dewey );

CREATE INDEX idx_fondi_speciali ON abicampania.fondi_speciali ( id_fondi_speciali_catalogazione_inventario );

CREATE TABLE abicampania.fondi_speciali_catalogazione_inventario ( 
	id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_fondi_speciali_catalogazione_inventario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.geolocalizzazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	latitudine DOUBLE NULL,
	longitudine DOUBLE NULL,
	precisione VARCHAR( 50 ) NULL,
	warning TEXT NULL,
	error TEXT NULL,
CONSTRAINT pk_id_bib PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.indicizzazione_classificata ( 
	id_indicizzazione_classificata INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_classificata PRIMARY KEY ( id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.indicizzazione_soggetto ( 
	id_indicizzazione_soggetto INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_soggetto PRIMARY KEY ( id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.norme_catalogazione ( 
	id_norme_catalogazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_norme_catalogazione PRIMARY KEY ( id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.nuova_biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NULL,
	denominazione_ufficiale VARCHAR( 255 ) NULL,
	id_comune INT UNSIGNED NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_tipologia_funzionale INT UNSIGNED NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	login_creatore INT UNSIGNED NULL,
	login_gestore INT UNSIGNED NULL,
	id_stato_biblioteca_workflow INT NOT NULL,
	ente_denominazione VARCHAR( 255 ) NULL,
	ente_tipologia_amministrativa VARCHAR( 255 ) NULL,
	ente_stato VARCHAR( 255 ) NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex2 ON abicampania.nuova_biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex4 ON abicampania.nuova_biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_login_creatore ON abicampania.nuova_biblioteca ( login_creatore );

CREATE INDEX idx_login_gestore ON abicampania.nuova_biblioteca ( login_gestore );

CREATE INDEX idx_nuova_biblioteca ON abicampania.nuova_biblioteca ( id_stato_biblioteca_workflow );

CREATE TABLE abicampania.orario_chiusure ( 
	id_orario_chiusure INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_periodo_chiusura PRIMARY KEY ( id_orario_chiusure )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX periodo_chiusura_FKIndex1 ON abicampania.orario_chiusure ( id_biblioteca );

CREATE TABLE abicampania.orario_ufficiali ( 
	id_orario_ufficiali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	giorno INT NOT NULL,
	dalle TIME NOT NULL,
	alle TIME NOT NULL,
CONSTRAINT pk_orario_ufficiale PRIMARY KEY ( id_orario_ufficiali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orario_ufficiale_FKIndex1 ON abicampania.orario_ufficiali ( id_biblioteca );

CREATE TABLE abicampania.orario_variazioni ( 
	id_orario_variazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
	giorno INT NULL,
	dalle TIME NULL,
	alle TIME NULL,
CONSTRAINT pk_orari_variazioni PRIMARY KEY ( id_orario_variazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orari_variazioni_FKIndex1 ON abicampania.orario_variazioni ( id_biblioteca );

CREATE TABLE abicampania.partecipa_cataloghi_collettivi_materiale ( 
	id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_collettivi INT UNSIGNED NOT NULL,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
CONSTRAINT pk_catal_coll PRIMARY KEY ( id_cataloghi_collettivi_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_coll_FKIndex1 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_biblioteca );

CREATE INDEX catal_coll_FKIndex2 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_patrimonio_specializzazione );

CREATE INDEX catal_coll_FKIndex3 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_collettivi );

CREATE INDEX idx_cataloghi_collettivi ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abicampania.partecipa_cataloghi_generali ( 
	id_cataloghi_generali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
	id_catalogo_generale_tipo INT UNSIGNED NOT NULL,
CONSTRAINT pk_catal_gener PRIMARY KEY ( id_cataloghi_generali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX cataloghi_gener_FKIndex1 ON abicampania.partecipa_cataloghi_generali ( id_biblioteca );

CREATE INDEX idx_cataloghi_generali ON abicampania.partecipa_cataloghi_generali ( id_cataloghi_supporto_digitale_tipo );

CREATE INDEX idx_1_cataloghi_generali_tipo ON abicampania.partecipa_cataloghi_generali ( id_catalogo_generale_tipo );

CREATE TABLE abicampania.partecipa_cataloghi_speciali_materiale ( 
	id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec PRIMARY KEY ( id_cataloghi_speciali_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_spec_FKIndex1 ON abicampania.partecipa_cataloghi_speciali_materiale ( id_biblioteca );

CREATE INDEX catal_spec_FKIndex2 ON abicampania.partecipa_cataloghi_speciali_materiale ( id_patrimonio_specializzazione );

CREATE INDEX idx_cataloghi_speciali ON abicampania.partecipa_cataloghi_speciali_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abicampania.patrimonio ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	quantita INT UNSIGNED NOT NULL,
	quantita_ultimo_anno INT UNSIGNED NOT NULL,
CONSTRAINT idx_1 PRIMARY KEY ( id_biblioteca, id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.patrimonio_specializzazione ( 
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec PRIMARY KEY ( id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_FKIndex1 ON abicampania.patrimonio_specializzazione ( id_patrimonio_specializzazione_categoria );

CREATE TABLE abicampania.patrimonio_specializzazione_categoria ( 
	id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione_categoria_madre INT UNSIGNED NULL,
	descrizione TEXT NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec_cat PRIMARY KEY ( id_patrimonio_specializzazione_categoria )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_cat_FKIndex1 ON abicampania.patrimonio_specializzazione_categoria ( id_patrimonio_specializzazione_categoria_madre );

CREATE TABLE abicampania.prestito_interbibliotecario ( 
	id_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	nazionale BOOL NULL,
	internazionale BOOL NULL,
	id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL,
CONSTRAINT pk_pre_pos_dsc PRIMARY KEY ( id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_prestito_interbibliotecario ON abicampania.prestito_interbibliotecario ( id_prestito_interbibliotecario_modo );

CREATE TABLE abicampania.prestito_interbibliotecario_modo ( 
	id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_prestito_interbibliotecario_modo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.prestito_locale ( 
	id_prestito_locale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	automatizzato BOOL NULL,
	durata_giorni INT UNSIGNED NULL,
CONSTRAINT pk_prestito_locale PRIMARY KEY ( id_prestito_locale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_FKIndex1 ON abicampania.prestito_locale ( id_biblioteca );

CREATE TABLE abicampania.prestito_locale_has_materiale_escluso ( 
	id_prestito_locale INT UNSIGNED NOT NULL,
	id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_escluso PRIMARY KEY ( id_prestito_locale, id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex1 ON abicampania.prestito_locale_has_materiale_escluso ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex2 ON abicampania.prestito_locale_has_materiale_escluso ( id_prestito_locale_materiale_escluso );

CREATE TABLE abicampania.prestito_locale_has_utenti_ammessi ( 
	id_prestito_locale INT UNSIGNED NOT NULL,
	id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_zona PRIMARY KEY ( id_prestito_locale, id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_zona_FKIndex1 ON abicampania.prestito_locale_has_utenti_ammessi ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_zona_FKIndex2 ON abicampania.prestito_locale_has_utenti_ammessi ( id_prestito_locale_utenti_ammessi );

CREATE TABLE abicampania.prestito_locale_materiale_escluso ( 
	id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_escluso PRIMARY KEY ( id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.prestito_locale_utenti_ammessi ( 
	id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_zona PRIMARY KEY ( id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.profili ( 
	id_profili INT UNSIGNED NOT NULL AUTO_INCREMENT,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_profili PRIMARY KEY ( id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.provincia ( 
	id_provincia INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_regione INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	codice_istat VARCHAR( 10 ) NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_provincia PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX provincia_FKIndex1 ON abicampania.provincia ( id_regione );

CREATE TABLE abicampania.pubblicazioni ( 
	id_pubblicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_biblioteca_has_pubblicazioni PRIMARY KEY ( id_pubblicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pubblicazioni_FKIndex1 ON abicampania.pubblicazioni ( id_biblioteca );

CREATE TABLE abicampania.regione ( 
	id_regione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_stato INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_regione PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regione_FKIndex1 ON abicampania.regione ( id_stato );

CREATE TABLE abicampania.regolamento ( 
	id_regolamento INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	riferimento_normativa VARCHAR( 255 ) NULL,
	url VARCHAR( 255 ) NULL,
CONSTRAINT pk_regolamento PRIMARY KEY ( id_regolamento )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regolamento_FKIndex1 ON abicampania.regolamento ( id_biblioteca );

CREATE TABLE abicampania.riproduzioni ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_riproduzioni_tipo INT UNSIGNED NOT NULL,
	locale BOOL NULL,
	nazionale BOOL NULL,
	internazionale BOOL NULL,
CONSTRAINT idx PRIMARY KEY ( id_biblioteca, id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.riproduzioni_tipo ( 
	id_riproduzioni_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_tipo_riproduzioni PRIMARY KEY ( id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.servizi_bibliotecari_carta ( 
	id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id__servizi_bibliotecari_carta )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.servizi_informazioni_bibliografiche_modalita ( 
	id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sezioni_speciali ( 
	id_sezioni_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_sezioni_speciali PRIMARY KEY ( id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sistemi_biblioteche ( 
	id_sistemi_biblioteche INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_partec_sist_biblio PRIMARY KEY ( id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sistemi_prestito_interbibliotecario ( 
	id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
	url VARCHAR( 255 ) NULL,
CONSTRAINT pk_sist_pr_interbiblio PRIMARY KEY ( id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.spogli_bibliografici ( 
	id_spogli_bibliografici INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione_bibliografica TEXT NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_spogli_bibliografici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_spogli_bibliografici ON abicampania.spogli_bibliografici ( id_biblioteca );

CREATE TABLE abicampania.stato ( 
	id_stato INT UNSIGNED NOT NULL AUTO_INCREMENT,
	denominazione VARCHAR( 100 ) NOT NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_stato PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.stato_biblioteca_workflow ( 
	id_stato INT NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
	label VARCHAR( 64 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.stato_catalogazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_stato_catalogazione INT UNSIGNED NOT NULL,
	id_biblioteca_target INT UNSIGNED NULL,
CONSTRAINT pk_biblioteca_has_stato_catalogazione PRIMARY KEY ( id_biblioteca, id_stato_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_stato_catalogazione ON abicampania.stato_catalogazione ( id_biblioteca_target );

CREATE TABLE abicampania.stato_catalogazione_tipo ( 
	id_stato_catalogazione_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 100 ) NULL,
CONSTRAINT pk_stato_catalogazione PRIMARY KEY ( id_stato_catalogazione_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.tipologia_funzionale ( 
	id_tipologia_funzionale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_tipologia_funzionale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.utenti ( 
	id_utenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	login VARCHAR( 20 ) NOT NULL,
	password VARCHAR( 50 ) NOT NULL,
	nome VARCHAR( 255 ) NULL,
	cognome VARCHAR( 255 ) NULL,
	tel VARCHAR( 50 ) NULL,
	fax VARCHAR( 50 ) NULL,
	email VARCHAR( 50 ) NULL,
	incarico VARCHAR( 50 ) NULL,
	note VARCHAR( 255 ) NULL,
	data_modifica_password DATETIME NULL,
	enabled BOOL NOT NULL DEFAULT 1,
	codice_validazione VARCHAR( 50 ) NULL,
CONSTRAINT PK_utenti PRIMARY KEY ( id_utenti ),
CONSTRAINT login UNIQUE ( login )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

ALTER TABLE abicampania.utenti MODIFY data_modifica_password DATETIME COMMENT 'data di ultima generazione della password';

CREATE TABLE abicampania.utenti_has_profili ( 
	id_utenti INT UNSIGNED NOT NULL,
	id_profili INT UNSIGNED NOT NULL,
CONSTRAINT pk_utenti_has_profili PRIMARY KEY ( id_utenti, id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX utenti_has_profili_FKIndex1 ON abicampania.utenti_has_profili ( id_utenti );

CREATE INDEX utenti_has_profili_FKIndex2 ON abicampania.utenti_has_profili ( id_profili );

ALTER TABLE abicampania.bibliografia ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_0 ( id_comune ) REFERENCES abicampania.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_2 ( id_tipologia_funzionale ) REFERENCES abicampania.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_3 ( id_ente ) REFERENCES abicampania.ente( id_ente ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_4 ( id_biblioteca_padre ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_1 ( id_fondi_antichi_consistenza ) REFERENCES abicampania.fondi_antichi_consistenza( id_fondi_antichi_consistenza ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_5 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_6 ( id_stato_biblioteca_workflow ) REFERENCES abicampania.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_1 ( id_accesso_modalita ) REFERENCES abicampania.accesso_modalita( id_accesso_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_dewey ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_dewey ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_document_delivery ADD FOREIGN KEY fk_ripro_tipo ( id_riproduzioni_tipo ) REFERENCES abicampania.riproduzioni_tipo( id_riproduzioni_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_document_delivery ADD FOREIGN KEY fk_biblioteca ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali ) REFERENCES abicampania.fondi_speciali( id_fondi_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_1 ( id_indicizzazione_classificata ) REFERENCES abicampania.indicizzazione_classificata( id_indicizzazione_classificata ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_1 ( id_indicizzazione_soggetto ) REFERENCES abicampania.indicizzazione_soggetto( id_indicizzazione_soggetto ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_1 ( id_norme_catalogazione ) REFERENCES abicampania.norme_catalogazione( id_norme_catalogazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_prestito_interbibliotecario ) REFERENCES abicampania.prestito_interbibliotecario( id_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_1 ( id__servizi_bibliotecari_carta ) REFERENCES abicampania.servizi_bibliotecari_carta( id__servizi_bibliotecari_carta ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_1 ( id_servizi_informazioni_bibliografiche_modalita ) REFERENCES abicampania.servizi_informazioni_bibliografiche_modalita( id_servizi_informazioni_bibliografiche_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_1 ( id_sezioni_speciali ) REFERENCES abicampania.sezioni_speciali( id_sezioni_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_1 ( id_sistemi_biblioteche ) REFERENCES abicampania.sistemi_biblioteche( id_sistemi_biblioteche ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_sistemi_prestito_interbibliotecario ) REFERENCES abicampania.sistemi_prestito_interbibliotecario( id_sistemi_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_utenti ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_utenti ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_collettivi ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_zona_tipo ) REFERENCES abicampania.cataloghi_collettivi_zona_tipo( id_cataloghi_collettivi_zona_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_collettivi_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_materiale ) REFERENCES abicampania.partecipa_cataloghi_collettivi_materiale( id_cataloghi_collettivi_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_generali_url ADD FOREIGN KEY fk_cataloghi_generali_url ( id_cataloghi_generali ) REFERENCES abicampania.partecipa_cataloghi_generali( id_cataloghi_generali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_speciali_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_speciali_materiale ) REFERENCES abicampania.partecipa_cataloghi_speciali_materiale( id_cataloghi_speciali_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.codici ADD FOREIGN KEY fk_0 ( id_codici ) REFERENCES abicampania.codici_tipo( id_codici ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.codici ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.comune ADD FOREIGN KEY fk_comune_provincia1 ( id_provincia ) REFERENCES abicampania.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.comunicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.contatti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.contatti ADD FOREIGN KEY fk_1 ( id_contatti_tipi ) REFERENCES abicampania.contatti_tipo( id_contatti_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dati_province_istat ADD FOREIGN KEY fk_0 ( id_provincia ) REFERENCES abicampania.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dati_regioni_istat ADD FOREIGN KEY fk_0 ( id_regione ) REFERENCES abicampania.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.denominazioni_alternative ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.denominazioni_precedenti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.depositi_legali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.depositi_legali ADD FOREIGN KEY fk_1 ( id_depositi_legali_tipo ) REFERENCES abicampania.depositi_legali_tipo( id_depositi_legali_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.destinazioni_sociali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.destinazioni_sociali ADD FOREIGN KEY fk_1 ( id_destinazioni_sociali_tipo ) REFERENCES abicampania.destinazioni_sociali_tipo( id_destinazioni_sociali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dewey_libero ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dewey_libero ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_0 ( id_ente_tipologia_amministrativa ) REFERENCES abicampania.ente_tipologia_amministrativa( id_ente_tipologia_amministrativa ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_2 ( id_stato ) REFERENCES abicampania.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_speciali ADD FOREIGN KEY fk_0 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali_catalogazione_inventario ) REFERENCES abicampania.fondi_speciali_catalogazione_inventario( id_fondi_speciali_catalogazione_inventario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.geolocalizzazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_comune ( id_comune ) REFERENCES abicampania.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_tipologia_funzionale ( id_tipologia_funzionale ) REFERENCES abicampania.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_login_creatore ( login_creatore ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_login_gestore ( login_gestore ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_id_stato_biblioteca_workflow ( id_stato_biblioteca_workflow ) REFERENCES abicampania.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_chiusure ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_ufficiali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_variazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_1 ( id_cataloghi_collettivi ) REFERENCES abicampania.cataloghi_collettivi( id_cataloghi_collettivi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_4 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_2 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_3 ( id_catalogo_generale_tipo ) REFERENCES abicampania.catalogo_generale_tipo( id_catalogo_generale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_3 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio ADD FOREIGN KEY fk_1 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio_specializzazione ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria ) REFERENCES abicampania.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio_specializzazione_categoria ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria_madre ) REFERENCES abicampania.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_prestito_interbibliotecario_modo ) REFERENCES abicampania.prestito_interbibliotecario_modo( id_prestito_interbibliotecario_modo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_0 ( id_prestito_locale ) REFERENCES abicampania.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_1 ( id_prestito_locale_materiale_escluso ) REFERENCES abicampania.prestito_locale_materiale_escluso( id_prestito_locale_materiale_escluso ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_1 ( id_prestito_locale ) REFERENCES abicampania.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_0 ( id_prestito_locale_utenti_ammessi ) REFERENCES abicampania.prestito_locale_utenti_ammessi( id_prestito_locale_utenti_ammessi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.provincia ADD FOREIGN KEY fk_provincia_regione1 ( id_regione ) REFERENCES abicampania.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.pubblicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.regione ADD FOREIGN KEY fk_regione_stato1 ( id_stato ) REFERENCES abicampania.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.regolamento ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.riproduzioni ADD FOREIGN KEY fk_0 ( id_riproduzioni_tipo ) REFERENCES abicampania.riproduzioni_tipo( id_riproduzioni_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.riproduzioni ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.spogli_bibliografici ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_1 ( id_stato_catalogazione ) REFERENCES abicampania.stato_catalogazione_tipo( id_stato_catalogazione_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_2 ( id_biblioteca_target ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.utenti_has_profili ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.utenti_has_profili ADD FOREIGN KEY fk_1 ( id_profili ) REFERENCES abicampania.profili( id_profili ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]> </string>
		</query>
	</layout>
	<layout name="biblioteca_has" tab_index="0" >
		<entity schema="abipuglia" name="accesso_modalita" x="1469" y="39" />
		<entity schema="abipuglia" name="biblioteca" x="780" y="91" />
		<entity schema="abipuglia" name="biblioteca_has_accesso_modalita" x="1131" y="39" />
		<entity schema="abipuglia" name="biblioteca_has_dewey" x="1144" y="546" />
		<entity schema="abipuglia" name="biblioteca_has_document_delivery" x="533" y="585" />
		<entity schema="abipuglia" name="biblioteca_has_fondi_speciali" x="1144" y="650" />
		<entity schema="abipuglia" name="biblioteca_has_indicizzazione_classificata" x="481" y="689" />
		<entity schema="abipuglia" name="biblioteca_has_indicizzazione_soggetto" x="494" y="793" />
		<entity schema="abipuglia" name="biblioteca_has_norme_catalogazione" x="494" y="910" />
		<entity schema="abipuglia" name="biblioteca_has_prestito_interbibliotecario" x="1131" y="130" />
		<entity schema="abipuglia" name="biblioteca_has_servizi_bibliotecari_carta" x="481" y="156" />
		<entity schema="abipuglia" name="biblioteca_has_servizi_informazioni_bibliografiche" x="403" y="247" />
		<entity schema="abipuglia" name="biblioteca_has_sezioni_speciali" x="533" y="351" />
		<entity schema="abipuglia" name="biblioteca_has_sistemi_biblioteche" x="507" y="481" />
		<entity schema="abipuglia" name="biblioteca_has_sistemi_prestito_interbibliotecario" x="1144" y="221" />
		<entity schema="abipuglia" name="biblioteca_has_utenti" x="585" y="1014" />
		<entity schema="abipuglia" name="dewey" x="1365" y="546" />
		<entity schema="abipuglia" name="fondi_speciali" x="1378" y="650" />
		<entity schema="abipuglia" name="fondi_speciali_catalogazione_inventario" x="1677" y="650" />
		<entity schema="abipuglia" name="indicizzazione_classificata" x="260" y="689" />
		<entity schema="abipuglia" name="indicizzazione_soggetto" x="273" y="793" />
		<entity schema="abipuglia" name="norme_catalogazione" x="273" y="910" />
		<entity schema="abipuglia" name="prestito_interbibliotecario" x="1469" y="117" />
		<entity schema="abipuglia" name="prestito_interbibliotecario_modo" x="1742" y="117" />
		<entity schema="abipuglia" name="profili" x="91" y="1014" />
		<entity schema="abipuglia" name="riproduzioni_tipo" x="286" y="585" />
		<entity schema="abipuglia" name="servizi_bibliotecari_carta" x="156" y="156" />
		<entity schema="abipuglia" name="servizi_informazioni_bibliografiche_modalita" x="39" y="234" />
		<entity schema="abipuglia" name="sezioni_speciali" x="247" y="351" />
		<entity schema="abipuglia" name="sistemi_biblioteche" x="247" y="481" />
		<entity schema="abipuglia" name="sistemi_prestito_interbibliotecario" x="1560" y="221" />
		<entity schema="abipuglia" name="utenti" x="429" y="1014" />
		<entity schema="abipuglia" name="utenti_has_profili" x="273" y="1014" />
		<query name="Sql_000" tab_index="-1" >
			<string> <![CDATA[CREATE SCHEMA abicampania;

CREATE TABLE abicampania.accesso_modalita ( 
	id_accesso_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table PRIMARY KEY ( id_accesso_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.bibliografia ( 
	id_bibliografia INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
CONSTRAINT pk_bibliografia PRIMARY KEY ( id_bibliografia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX bibliografia_FKIndex1 ON abicampania.bibliografia ( id_biblioteca );

CREATE TABLE abicampania.biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NOT NULL,
	denominazione_ufficiale VARCHAR( 255 ) NOT NULL,
	indirizzo VARCHAR( 255 ) NULL,
	frazione VARCHAR( 255 ) NULL,
	cap VARCHAR( 5 ) NULL,
	id_comune INT UNSIGNED NOT NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	data_istituzione VARCHAR( 255 ) NULL,
	edificio_denominazione VARCHAR( 255 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	struttura_gerarchica_sovraordinata VARCHAR( 255 ) NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	accesso_limite_eta_min INT UNSIGNED NULL,
	accesso_limite_eta_max INT UNSIGNED NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_fondi_antichi_consistenza INT UNSIGNED NOT NULL,
	id_ente INT UNSIGNED NOT NULL,
	id_tipologia_funzionale INT UNSIGNED NOT NULL,
	procedure_ill_automatizzate BOOL NULL,
	id_biblioteca_padre INT UNSIGNED NULL,
	mq_totali INT UNSIGNED NULL,
	mq_pubblici INT UNSIGNED NULL,
	ml_magazzini INT UNSIGNED NULL,
	ml_aperti INT UNSIGNED NULL,
	posti_lettura INT UNSIGNED NULL,
	posti_video INT UNSIGNED NULL,
	posti_audio INT UNSIGNED NULL,
	posti_internet INT UNSIGNED NULL,
	utenti INT UNSIGNED NULL,
	utenti_under14 INT UNSIGNED NULL DEFAULT 0,
	utenti_iscritti INT UNSIGNED NULL,
	utenti_iscritti_prestito_anno INT UNSIGNED NULL,
	personale_temporaneo INT UNSIGNED NULL,
	personale_esterno INT UNSIGNED NULL,
	personale_part_time INT UNSIGNED NULL,
	personale_totale INT UNSIGNED NULL,
	bilancio_entrate INT UNSIGNED NULL,
	bilancio_uscite INT UNSIGNED NULL,
	bilancio_uscite_personale INT UNSIGNED NULL,
	bilancio_uscite_funzionamento INT UNSIGNED NULL,
	bilancio_uscite_incremento_patrimonio INT UNSIGNED NULL,
	bilancio_uscite_automazione INT UNSIGNED NULL,
	bilancio_uscite_acquisti_anno INT UNSIGNED NULL DEFAULT 0,
	bilancio_uscite_acquisti_ultimi15 INT UNSIGNED NULL DEFAULT 0,
	bilancio_uscite_varie INT UNSIGNED NULL,
	bilancio_patrimoniale_posseduto INT NULL,
	bilancio_patrimoniale_posseduto_under14 INT NULL,
	n_ore_settimanali INT UNSIGNED NULL DEFAULT 0,
	n_ore_settimanali_pom INT UNSIGNED NULL DEFAULT 0,
	n_settim_apertura INT UNSIGNED NULL DEFAULT 0,
	prestito_interbiblio_nazionale BOOL NULL,
	prestito_interbiblio_internazionale BOOL NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	n_prestiti_interbibliotecari_annuo INT UNSIGNED NULL,
	n_prestiti_locali_annuo INT UNSIGNED NULL,
	catalogazione_data_modifica DATETIME NULL,
	id_utenti INT UNSIGNED NULL,
	id_stato_biblioteca_workflow INT NOT NULL,
	catalogazione_data_import DATETIME NULL,
	catalogazione_data_modifica_remota DATETIME NULL,
	catalogazione_note TEXT NULL,
	catalogazione_data_censimento DATETIME NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex1 ON abicampania.biblioteca ( id_ente );

CREATE INDEX biblioteca_FKIndex2 ON abicampania.biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex3 ON abicampania.biblioteca ( id_biblioteca_padre );

CREATE INDEX biblioteca_FKIndex4 ON abicampania.biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_1_fondi_antichi ON abicampania.biblioteca ( id_fondi_antichi_consistenza );

CREATE INDEX idx_1_utentemod ON abicampania.biblioteca ( id_utenti );

CREATE TABLE abicampania.biblioteca_has_accesso_modalita ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_accesso_modalita INT UNSIGNED NOT NULL,
CONSTRAINT chiave_accessomod PRIMARY KEY ( id_accesso_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_accesso_utenti_ammessi ON abicampania.biblioteca_has_accesso_modalita ( id_accesso_modalita );

CREATE TABLE abicampania.biblioteca_has_dewey ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_dewey VARCHAR( 6 ) NOT NULL,
CONSTRAINT pk_special PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_dewey_FKIndex1 ON abicampania.biblioteca_has_dewey ( id_biblioteca );

CREATE INDEX biblioteca_has_dewey_FKIndex2 ON abicampania.biblioteca_has_dewey ( id_dewey );

CREATE TABLE abicampania.biblioteca_has_fondi_speciali ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_fondi_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_fondi_speciali PRIMARY KEY ( id_biblioteca, id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex1 ON abicampania.biblioteca_has_fondi_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex2 ON abicampania.biblioteca_has_fondi_speciali ( id_fondi_speciali );

CREATE TABLE abicampania.biblioteca_has_indicizzazione_classificata ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_indicizzazione_classificata INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_classificata PRIMARY KEY ( id_biblioteca, id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_classificata_FKIndex1 ON abicampania.biblioteca_has_indicizzazione_classificata ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_classificata_FKIndex2 ON abicampania.biblioteca_has_indicizzazione_classificata ( id_indicizzazione_classificata );

CREATE TABLE abicampania.biblioteca_has_indicizzazione_soggetto ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_indicizzazione_soggetto INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_soggetto PRIMARY KEY ( id_biblioteca, id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex1 ON abicampania.biblioteca_has_indicizzazione_soggetto ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex2 ON abicampania.biblioteca_has_indicizzazione_soggetto ( id_indicizzazione_soggetto );

CREATE TABLE abicampania.biblioteca_has_norme_catalogazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_norme_catalogazione INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_norme_catalogazione PRIMARY KEY ( id_biblioteca, id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex1 ON abicampania.biblioteca_has_norme_catalogazione ( id_biblioteca );

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex2 ON abicampania.biblioteca_has_norme_catalogazione ( id_norme_catalogazione );

CREATE TABLE abicampania.biblioteca_has_prestito_interbibliotecario ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_pre_pos_dsc PRIMARY KEY ( id_biblioteca, id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex1 ON abicampania.biblioteca_has_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex2 ON abicampania.biblioteca_has_prestito_interbibliotecario ( id_prestito_interbibliotecario );

CREATE TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ( 
	id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id__servizi_bibliotecari_carta, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abicampania.biblioteca_has_servizi_bibliotecari_carta ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abicampania.biblioteca_has_servizi_bibliotecari_carta ( id__servizi_bibliotecari_carta );

CREATE TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( 
	id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( id_servizi_informazioni_bibliografiche_modalita );

CREATE TABLE abicampania.biblioteca_has_sezioni_speciali ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sezioni_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sezioni_speciali PRIMARY KEY ( id_biblioteca, id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex1 ON abicampania.biblioteca_has_sezioni_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex2 ON abicampania.biblioteca_has_sezioni_speciali ( id_sezioni_speciali );

CREATE TABLE abicampania.biblioteca_has_sistemi_biblioteche ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sistemi_biblioteche INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_partec_sist_biblio PRIMARY KEY ( id_biblioteca, id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex1 ON abicampania.biblioteca_has_sistemi_biblioteche ( id_biblioteca );

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex2 ON abicampania.biblioteca_has_sistemi_biblioteche ( id_sistemi_biblioteche );

CREATE TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sist_pr_interbiblio PRIMARY KEY ( id_biblioteca, id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex1 ON abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex2 ON abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( id_sistemi_prestito_interbibliotecario );

CREATE TABLE abicampania.biblioteca_has_utenti ( 
	id_utenti INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT idx_bibliotecahasutenti PRIMARY KEY ( id_utenti, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.cataloghi_collettivi ( 
	id_cataloghi_collettivi INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
	id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL,
	dettaglio_zona VARCHAR( 50 ) NULL,
CONSTRAINT pk_catal_coll_estens PRIMARY KEY ( id_cataloghi_collettivi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_estensione ON abicampania.cataloghi_collettivi ( id_cataloghi_collettivi_zona_tipo );

CREATE TABLE abicampania.cataloghi_collettivi_materiale_url ( 
	id_cataloghi_collettivi_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_coll_url PRIMARY KEY ( id_cataloghi_collettivi_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_url ON abicampania.cataloghi_collettivi_materiale_url ( id_cataloghi_collettivi_materiale );

CREATE TABLE abicampania.cataloghi_collettivi_zona_tipo ( 
	id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_collettivi_zona_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.cataloghi_generali_url ( 
	id_cataloghi_generali_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_generali INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_gener_url PRIMARY KEY ( id_cataloghi_generali_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_id_cataloghi_generali ON abicampania.cataloghi_generali_url ( id_cataloghi_generali );

CREATE TABLE abicampania.cataloghi_speciali_materiale_url ( 
	id_cataloghi_speciali_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec_url PRIMARY KEY ( id_cataloghi_speciali_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_speciali_url ON abicampania.cataloghi_speciali_materiale_url ( id_cataloghi_speciali_materiale );

CREATE TABLE abicampania.cataloghi_supporto_digitale_tipo ( 
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_supporto_digitale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.catalogo_generale_tipo ( 
	id_catalogo_generale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_catalogo_generale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.codici ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_codici INT UNSIGNED NOT NULL,
	valore VARCHAR( 100 ) NOT NULL,
CONSTRAINT idx_pk_bibliotecacodici PRIMARY KEY ( id_biblioteca, id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_codice ON abicampania.codici ( id_codici );

CREATE INDEX idx_codici ON abicampania.codici ( id_biblioteca );

CREATE TABLE abicampania.codici_tipo ( 
	id_codici INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.comune ( 
	id_comune INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_provincia INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	codice_istat VARCHAR( 6 ) NULL,
	codice_finanze VARCHAR( 6 ) NULL,
CONSTRAINT pk_comune PRIMARY KEY ( id_comune )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comune_FKIndex1 ON abicampania.comune ( id_provincia );

CREATE TABLE abicampania.comunicazioni ( 
	id_comunicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
CONSTRAINT pk_comunicazioni PRIMARY KEY ( id_comunicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comunicazioni_FKIndex1 ON abicampania.comunicazioni ( id_biblioteca );

CREATE TABLE abicampania.contatti ( 
	id_contatti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	id_contatti_tipi INT UNSIGNED NOT NULL,
	valore VARCHAR( 255 ) NOT NULL,
	note VARCHAR( 100 ) NULL,
CONSTRAINT PK_contatti PRIMARY KEY ( id_contatti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.contatti_tipo ( 
	id_contatti_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_1 PRIMARY KEY ( id_contatti_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dati_province_istat ( 
	id_provincia INT UNSIGNED NOT NULL,
	totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
CONSTRAINT pk_dati_province_istat PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dati_regioni_istat ( 
	id_regione INT UNSIGNED NOT NULL,
	totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
	descrizione_zona VARCHAR( 20 ) NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_dati_regioni_istat PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.denominazioni_alternative ( 
	id_denominazioni_alternative INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_anche PRIMARY KEY ( id_denominazioni_alternative )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_anche_FKIndex1 ON abicampania.denominazioni_alternative ( id_biblioteca );

CREATE TABLE abicampania.denominazioni_precedenti ( 
	id_denominazioni_precedenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_gia PRIMARY KEY ( id_denominazioni_precedenti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_gia_FKIndex1 ON abicampania.denominazioni_precedenti ( id_biblioteca );

CREATE TABLE abicampania.depositi_legali ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_depositi_legali_tipo INT UNSIGNED NOT NULL,
	da_anno VARCHAR( 10 ) NULL,
CONSTRAINT pk_biblioteca_has_deposito_legale PRIMARY KEY ( id_biblioteca, id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.depositi_legali_tipo ( 
	id_depositi_legali_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_deposito_legale PRIMARY KEY ( id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.destinazioni_sociali ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_destinazioni_sociali_tipo INT UNSIGNED NOT NULL,
	note VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_destinaz_sociale PRIMARY KEY ( id_biblioteca, id_destinazioni_sociali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.destinazioni_sociali_tipo ( 
	id_destinazioni_sociali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_destinaz_sociale PRIMARY KEY ( id_destinazioni_sociali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dewey ( 
	id_dewey VARCHAR( 6 ) NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_dewey PRIMARY KEY ( id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dewey_libero ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_dewey VARCHAR( 6 ) NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_dewey_lib PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.ente ( 
	id_ente INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_stato INT UNSIGNED NOT NULL,
	id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL,
	id_ente_obiettivo INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	asia_asip VARCHAR( 11 ) NULL,
CONSTRAINT pk_ente PRIMARY KEY ( id_ente )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX ente_FKIndex1 ON abicampania.ente ( id_ente_obiettivo );

CREATE INDEX ente_FKIndex2 ON abicampania.ente ( id_ente_tipologia_amministrativa );

CREATE INDEX ente_FKIndex3 ON abicampania.ente ( id_stato );

CREATE TABLE abicampania.ente_tipologia_amministrativa ( 
	id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_ente PRIMARY KEY ( id_ente_tipologia_amministrativa )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.fondi_antichi_consistenza ( 
	id_fondi_antichi_consistenza INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_fondi_antichi_consistenza )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.fondi_speciali ( 
	id_fondi_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_dewey VARCHAR( 6 ) NULL,
	denominazione VARCHAR( 255 ) NOT NULL,
	fondo_depositato BOOL NULL,
	descrizione VARCHAR( 255 ) NULL,
	id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL,
	catalogazione_inventario_url VARCHAR( 255 ) NULL,
	citazione_bibliografica TEXT NULL,
CONSTRAINT pk_fondi_speciali PRIMARY KEY ( id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX fondi_speciali_FKIndex1 ON abicampania.fondi_speciali ( id_dewey );

CREATE INDEX idx_fondi_speciali ON abicampania.fondi_speciali ( id_fondi_speciali_catalogazione_inventario );

CREATE TABLE abicampania.fondi_speciali_catalogazione_inventario ( 
	id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_fondi_speciali_catalogazione_inventario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.geolocalizzazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	latitudine DOUBLE NULL,
	longitudine DOUBLE NULL,
	precisione VARCHAR( 50 ) NULL,
	warning TEXT NULL,
	error TEXT NULL,
CONSTRAINT pk_id_bib PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.indicizzazione_classificata ( 
	id_indicizzazione_classificata INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_classificata PRIMARY KEY ( id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.indicizzazione_soggetto ( 
	id_indicizzazione_soggetto INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_soggetto PRIMARY KEY ( id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.norme_catalogazione ( 
	id_norme_catalogazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_norme_catalogazione PRIMARY KEY ( id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.nuova_biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NULL,
	denominazione_ufficiale VARCHAR( 255 ) NULL,
	id_comune INT UNSIGNED NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_tipologia_funzionale INT UNSIGNED NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	login_creatore INT UNSIGNED NULL,
	login_gestore INT UNSIGNED NULL,
	id_stato_biblioteca_workflow INT NOT NULL,
	ente_denominazione VARCHAR( 255 ) NULL,
	ente_tipologia_amministrativa VARCHAR( 255 ) NULL,
	ente_stato VARCHAR( 255 ) NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex2 ON abicampania.nuova_biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex4 ON abicampania.nuova_biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_login_creatore ON abicampania.nuova_biblioteca ( login_creatore );

CREATE INDEX idx_login_gestore ON abicampania.nuova_biblioteca ( login_gestore );

CREATE INDEX idx_nuova_biblioteca ON abicampania.nuova_biblioteca ( id_stato_biblioteca_workflow );

CREATE TABLE abicampania.orario_chiusure ( 
	id_orario_chiusure INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_periodo_chiusura PRIMARY KEY ( id_orario_chiusure )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX periodo_chiusura_FKIndex1 ON abicampania.orario_chiusure ( id_biblioteca );

CREATE TABLE abicampania.orario_ufficiali ( 
	id_orario_ufficiali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	giorno INT NOT NULL,
	dalle TIME NOT NULL,
	alle TIME NOT NULL,
CONSTRAINT pk_orario_ufficiale PRIMARY KEY ( id_orario_ufficiali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orario_ufficiale_FKIndex1 ON abicampania.orario_ufficiali ( id_biblioteca );

CREATE TABLE abicampania.orario_variazioni ( 
	id_orario_variazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
	giorno INT NULL,
	dalle TIME NULL,
	alle TIME NULL,
CONSTRAINT pk_orari_variazioni PRIMARY KEY ( id_orario_variazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orari_variazioni_FKIndex1 ON abicampania.orario_variazioni ( id_biblioteca );

CREATE TABLE abicampania.partecipa_cataloghi_collettivi_materiale ( 
	id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_collettivi INT UNSIGNED NOT NULL,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
CONSTRAINT pk_catal_coll PRIMARY KEY ( id_cataloghi_collettivi_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_coll_FKIndex1 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_biblioteca );

CREATE INDEX catal_coll_FKIndex2 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_patrimonio_specializzazione );

CREATE INDEX catal_coll_FKIndex3 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_collettivi );

CREATE INDEX idx_cataloghi_collettivi ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abicampania.partecipa_cataloghi_generali ( 
	id_cataloghi_generali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
	id_catalogo_generale_tipo INT UNSIGNED NOT NULL,
CONSTRAINT pk_catal_gener PRIMARY KEY ( id_cataloghi_generali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX cataloghi_gener_FKIndex1 ON abicampania.partecipa_cataloghi_generali ( id_biblioteca );

CREATE INDEX idx_cataloghi_generali ON abicampania.partecipa_cataloghi_generali ( id_cataloghi_supporto_digitale_tipo );

CREATE INDEX idx_1_cataloghi_generali_tipo ON abicampania.partecipa_cataloghi_generali ( id_catalogo_generale_tipo );

CREATE TABLE abicampania.partecipa_cataloghi_speciali_materiale ( 
	id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec PRIMARY KEY ( id_cataloghi_speciali_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_spec_FKIndex1 ON abicampania.partecipa_cataloghi_speciali_materiale ( id_biblioteca );

CREATE INDEX catal_spec_FKIndex2 ON abicampania.partecipa_cataloghi_speciali_materiale ( id_patrimonio_specializzazione );

CREATE INDEX idx_cataloghi_speciali ON abicampania.partecipa_cataloghi_speciali_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abicampania.patrimonio ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	quantita INT UNSIGNED NOT NULL,
	quantita_ultimo_anno INT UNSIGNED NOT NULL,
CONSTRAINT idx_1 PRIMARY KEY ( id_biblioteca, id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.patrimonio_specializzazione ( 
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec PRIMARY KEY ( id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_FKIndex1 ON abicampania.patrimonio_specializzazione ( id_patrimonio_specializzazione_categoria );

CREATE TABLE abicampania.patrimonio_specializzazione_categoria ( 
	id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione_categoria_madre INT UNSIGNED NULL,
	descrizione TEXT NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec_cat PRIMARY KEY ( id_patrimonio_specializzazione_categoria )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_cat_FKIndex1 ON abicampania.patrimonio_specializzazione_categoria ( id_patrimonio_specializzazione_categoria_madre );

CREATE TABLE abicampania.prestito_interbibliotecario ( 
	id_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	nazionale BOOL NULL,
	internazionale BOOL NULL,
	id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL,
CONSTRAINT pk_pre_pos_dsc PRIMARY KEY ( id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_prestito_interbibliotecario ON abicampania.prestito_interbibliotecario ( id_prestito_interbibliotecario_modo );

CREATE TABLE abicampania.prestito_interbibliotecario_modo ( 
	id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_prestito_interbibliotecario_modo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.prestito_locale ( 
	id_prestito_locale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	automatizzato BOOL NULL,
	durata_giorni INT UNSIGNED NULL,
CONSTRAINT pk_prestito_locale PRIMARY KEY ( id_prestito_locale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_FKIndex1 ON abicampania.prestito_locale ( id_biblioteca );

CREATE TABLE abicampania.prestito_locale_has_materiale_escluso ( 
	id_prestito_locale INT UNSIGNED NOT NULL,
	id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_escluso PRIMARY KEY ( id_prestito_locale, id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex1 ON abicampania.prestito_locale_has_materiale_escluso ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex2 ON abicampania.prestito_locale_has_materiale_escluso ( id_prestito_locale_materiale_escluso );

CREATE TABLE abicampania.prestito_locale_has_utenti_ammessi ( 
	id_prestito_locale INT UNSIGNED NOT NULL,
	id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_zona PRIMARY KEY ( id_prestito_locale, id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_zona_FKIndex1 ON abicampania.prestito_locale_has_utenti_ammessi ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_zona_FKIndex2 ON abicampania.prestito_locale_has_utenti_ammessi ( id_prestito_locale_utenti_ammessi );

CREATE TABLE abicampania.prestito_locale_materiale_escluso ( 
	id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_escluso PRIMARY KEY ( id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.prestito_locale_utenti_ammessi ( 
	id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_zona PRIMARY KEY ( id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.profili ( 
	id_profili INT UNSIGNED NOT NULL AUTO_INCREMENT,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_profili PRIMARY KEY ( id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.provincia ( 
	id_provincia INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_regione INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	codice_istat VARCHAR( 10 ) NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_provincia PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX provincia_FKIndex1 ON abicampania.provincia ( id_regione );

CREATE TABLE abicampania.pubblicazioni ( 
	id_pubblicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_biblioteca_has_pubblicazioni PRIMARY KEY ( id_pubblicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pubblicazioni_FKIndex1 ON abicampania.pubblicazioni ( id_biblioteca );

CREATE TABLE abicampania.regione ( 
	id_regione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_stato INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_regione PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regione_FKIndex1 ON abicampania.regione ( id_stato );

CREATE TABLE abicampania.regolamento ( 
	id_regolamento INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	riferimento_normativa VARCHAR( 255 ) NULL,
	url VARCHAR( 255 ) NULL,
CONSTRAINT pk_regolamento PRIMARY KEY ( id_regolamento )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regolamento_FKIndex1 ON abicampania.regolamento ( id_biblioteca );

CREATE TABLE abicampania.riproduzioni ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_riproduzioni_tipo INT UNSIGNED NOT NULL,
	locale BOOL NULL,
	nazionale BOOL NULL,
	internazionale BOOL NULL,
CONSTRAINT idx PRIMARY KEY ( id_biblioteca, id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.riproduzioni_tipo ( 
	id_riproduzioni_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_tipo_riproduzioni PRIMARY KEY ( id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.servizi_bibliotecari_carta ( 
	id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id__servizi_bibliotecari_carta )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.servizi_informazioni_bibliografiche_modalita ( 
	id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sezioni_speciali ( 
	id_sezioni_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_sezioni_speciali PRIMARY KEY ( id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sistemi_biblioteche ( 
	id_sistemi_biblioteche INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_partec_sist_biblio PRIMARY KEY ( id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sistemi_prestito_interbibliotecario ( 
	id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_sist_pr_interbiblio PRIMARY KEY ( id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.spogli_bibliografici ( 
	id_spogli_bibliografici INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione_bibliografica TEXT NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_spogli_bibliografici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_spogli_bibliografici ON abicampania.spogli_bibliografici ( id_biblioteca );

CREATE TABLE abicampania.stato ( 
	id_stato INT UNSIGNED NOT NULL AUTO_INCREMENT,
	denominazione VARCHAR( 100 ) NOT NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_stato PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.stato_biblioteca_workflow ( 
	id_stato INT NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
	label VARCHAR( 64 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.stato_catalogazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_stato_catalogazione INT UNSIGNED NOT NULL,
	id_biblioteca_target INT UNSIGNED NULL,
CONSTRAINT pk_biblioteca_has_stato_catalogazione PRIMARY KEY ( id_biblioteca, id_stato_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_stato_catalogazione ON abicampania.stato_catalogazione ( id_biblioteca_target );

CREATE TABLE abicampania.stato_catalogazione_tipo ( 
	id_stato_catalogazione_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 100 ) NULL,
CONSTRAINT pk_stato_catalogazione PRIMARY KEY ( id_stato_catalogazione_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.tipologia_funzionale ( 
	id_tipologia_funzionale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_tipologia_funzionale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.utenti ( 
	id_utenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	login VARCHAR( 20 ) NOT NULL,
	password VARCHAR( 50 ) NOT NULL,
	nome VARCHAR( 255 ) NULL,
	cognome VARCHAR( 255 ) NULL,
	tel VARCHAR( 50 ) NULL,
	fax VARCHAR( 50 ) NULL,
	email VARCHAR( 50 ) NULL,
	incarico VARCHAR( 50 ) NULL,
	note VARCHAR( 255 ) NULL,
	data_modifica_password DATETIME NULL,
	enabled BOOL NOT NULL DEFAULT 1,
	codice_validazione VARCHAR( 50 ) NULL,
CONSTRAINT PK_utenti PRIMARY KEY ( id_utenti ),
CONSTRAINT login UNIQUE ( login )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

ALTER TABLE abicampania.utenti MODIFY data_modifica_password DATETIME COMMENT 'data di ultima generazione della password';

CREATE TABLE abicampania.utenti_has_profili ( 
	id_utenti INT UNSIGNED NOT NULL,
	id_profili INT UNSIGNED NOT NULL,
CONSTRAINT pk_utenti_has_profili PRIMARY KEY ( id_utenti, id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX utenti_has_profili_FKIndex1 ON abicampania.utenti_has_profili ( id_utenti );

CREATE INDEX utenti_has_profili_FKIndex2 ON abicampania.utenti_has_profili ( id_profili );

ALTER TABLE abicampania.bibliografia ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_0 ( id_comune ) REFERENCES abicampania.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_2 ( id_tipologia_funzionale ) REFERENCES abicampania.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_3 ( id_ente ) REFERENCES abicampania.ente( id_ente ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_4 ( id_biblioteca_padre ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_1 ( id_fondi_antichi_consistenza ) REFERENCES abicampania.fondi_antichi_consistenza( id_fondi_antichi_consistenza ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_5 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_6 ( id_stato_biblioteca_workflow ) REFERENCES abicampania.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_1 ( id_accesso_modalita ) REFERENCES abicampania.accesso_modalita( id_accesso_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_dewey ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_dewey ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali ) REFERENCES abicampania.fondi_speciali( id_fondi_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_1 ( id_indicizzazione_classificata ) REFERENCES abicampania.indicizzazione_classificata( id_indicizzazione_classificata ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_1 ( id_indicizzazione_soggetto ) REFERENCES abicampania.indicizzazione_soggetto( id_indicizzazione_soggetto ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_1 ( id_norme_catalogazione ) REFERENCES abicampania.norme_catalogazione( id_norme_catalogazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_prestito_interbibliotecario ) REFERENCES abicampania.prestito_interbibliotecario( id_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_1 ( id__servizi_bibliotecari_carta ) REFERENCES abicampania.servizi_bibliotecari_carta( id__servizi_bibliotecari_carta ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_1 ( id_servizi_informazioni_bibliografiche_modalita ) REFERENCES abicampania.servizi_informazioni_bibliografiche_modalita( id_servizi_informazioni_bibliografiche_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_1 ( id_sezioni_speciali ) REFERENCES abicampania.sezioni_speciali( id_sezioni_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_1 ( id_sistemi_biblioteche ) REFERENCES abicampania.sistemi_biblioteche( id_sistemi_biblioteche ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_sistemi_prestito_interbibliotecario ) REFERENCES abicampania.sistemi_prestito_interbibliotecario( id_sistemi_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_utenti ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_utenti ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_collettivi ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_zona_tipo ) REFERENCES abicampania.cataloghi_collettivi_zona_tipo( id_cataloghi_collettivi_zona_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_collettivi_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_materiale ) REFERENCES abicampania.partecipa_cataloghi_collettivi_materiale( id_cataloghi_collettivi_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_generali_url ADD FOREIGN KEY fk_cataloghi_generali_url ( id_cataloghi_generali ) REFERENCES abicampania.partecipa_cataloghi_generali( id_cataloghi_generali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_speciali_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_speciali_materiale ) REFERENCES abicampania.partecipa_cataloghi_speciali_materiale( id_cataloghi_speciali_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.codici ADD FOREIGN KEY fk_0 ( id_codici ) REFERENCES abicampania.codici_tipo( id_codici ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.codici ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.comune ADD FOREIGN KEY fk_comune_provincia1 ( id_provincia ) REFERENCES abicampania.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.comunicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.contatti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.contatti ADD FOREIGN KEY fk_1 ( id_contatti_tipi ) REFERENCES abicampania.contatti_tipo( id_contatti_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dati_province_istat ADD FOREIGN KEY fk_0 ( id_provincia ) REFERENCES abicampania.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dati_regioni_istat ADD FOREIGN KEY fk_0 ( id_regione ) REFERENCES abicampania.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.denominazioni_alternative ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.denominazioni_precedenti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.depositi_legali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.depositi_legali ADD FOREIGN KEY fk_1 ( id_depositi_legali_tipo ) REFERENCES abicampania.depositi_legali_tipo( id_depositi_legali_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.destinazioni_sociali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.destinazioni_sociali ADD FOREIGN KEY fk_1 ( id_destinazioni_sociali_tipo ) REFERENCES abicampania.destinazioni_sociali_tipo( id_destinazioni_sociali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dewey_libero ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dewey_libero ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_0 ( id_ente_tipologia_amministrativa ) REFERENCES abicampania.ente_tipologia_amministrativa( id_ente_tipologia_amministrativa ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_2 ( id_stato ) REFERENCES abicampania.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_speciali ADD FOREIGN KEY fk_0 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali_catalogazione_inventario ) REFERENCES abicampania.fondi_speciali_catalogazione_inventario( id_fondi_speciali_catalogazione_inventario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.geolocalizzazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_comune ( id_comune ) REFERENCES abicampania.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_tipologia_funzionale ( id_tipologia_funzionale ) REFERENCES abicampania.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_login_creatore ( login_creatore ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_login_gestore ( login_gestore ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_id_stato_biblioteca_workflow ( id_stato_biblioteca_workflow ) REFERENCES abicampania.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_chiusure ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_ufficiali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_variazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_1 ( id_cataloghi_collettivi ) REFERENCES abicampania.cataloghi_collettivi( id_cataloghi_collettivi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_4 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_2 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_3 ( id_catalogo_generale_tipo ) REFERENCES abicampania.catalogo_generale_tipo( id_catalogo_generale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_3 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio ADD FOREIGN KEY fk_1 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio_specializzazione ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria ) REFERENCES abicampania.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio_specializzazione_categoria ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria_madre ) REFERENCES abicampania.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_prestito_interbibliotecario_modo ) REFERENCES abicampania.prestito_interbibliotecario_modo( id_prestito_interbibliotecario_modo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_0 ( id_prestito_locale ) REFERENCES abicampania.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_1 ( id_prestito_locale_materiale_escluso ) REFERENCES abicampania.prestito_locale_materiale_escluso( id_prestito_locale_materiale_escluso ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_1 ( id_prestito_locale ) REFERENCES abicampania.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_0 ( id_prestito_locale_utenti_ammessi ) REFERENCES abicampania.prestito_locale_utenti_ammessi( id_prestito_locale_utenti_ammessi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.provincia ADD FOREIGN KEY fk_provincia_regione1 ( id_regione ) REFERENCES abicampania.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.pubblicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.regione ADD FOREIGN KEY fk_regione_stato1 ( id_stato ) REFERENCES abicampania.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.regolamento ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.riproduzioni ADD FOREIGN KEY fk_0 ( id_riproduzioni_tipo ) REFERENCES abicampania.riproduzioni_tipo( id_riproduzioni_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.riproduzioni ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.spogli_bibliografici ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_1 ( id_stato_catalogazione ) REFERENCES abicampania.stato_catalogazione_tipo( id_stato_catalogazione_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_2 ( id_biblioteca_target ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.utenti_has_profili ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.utenti_has_profili ADD FOREIGN KEY fk_1 ( id_profili ) REFERENCES abicampania.profili( id_profili ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]> </string>
		</query>
		<query name="Sql_001" tab_index="-1" >
			<string> <![CDATA[CREATE SCHEMA abicampania;

CREATE TABLE abicampania.accesso_modalita ( 
    id_accesso_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table PRIMARY KEY ( id_accesso_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.bibliografia ( 
    id_bibliografia INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_biblioteca INT UNSIGNED NOT NULL,
    descrizione TEXT NULL,
CONSTRAINT pk_bibliografia PRIMARY KEY ( id_bibliografia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX bibliografia_FKIndex1 ON abicampania.bibliografia ( id_biblioteca );

CREATE TABLE abicampania.biblioteca ( 
    id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
    isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
    isil_provincia VARCHAR( 2 ) NOT NULL,
    isil_numero INT UNSIGNED NOT NULL,
    denominazione_ufficiale VARCHAR( 255 ) NOT NULL,
    indirizzo VARCHAR( 255 ) NULL,
    frazione VARCHAR( 255 ) NULL,
    cap VARCHAR( 5 ) NULL,
    id_comune INT UNSIGNED NOT NULL,
    codice_fiscale VARCHAR( 16 ) NULL,
    partita_iva VARCHAR( 11 ) NULL,
    data_fondazione VARCHAR( 20 ) NULL,
    data_istituzione VARCHAR( 255 ) NULL,
    edificio_denominazione VARCHAR( 255 ) NULL,
    edificio_monumentale BOOL NULL,
    edificio_data_costruzione VARCHAR( 255 ) NULL,
    edificio_appositamente_costruito BOOL NULL,
    autonomia_amministrativa BOOL NULL,
    struttura_gerarchica_sovraordinata VARCHAR( 255 ) NULL,
    accesso_riservato BOOL NULL,
    accesso_handicap BOOL NULL,
    accesso_limite_eta_min INT UNSIGNED NULL,
    accesso_limite_eta_max INT UNSIGNED NULL,
    accesso_internet_pagamento BOOL NULL,
    accesso_internet_tempo BOOL NULL,
    accesso_internet_proxy BOOL NULL,
    inventario_cartaceo BOOL NULL,
    inventario_informatizzato BOOL NULL,
    catalogo_topografico_cartaceo BOOL NULL,
    catalogo_topografico_informatizzato BOOL NULL,
    id_fondi_antichi_consistenza INT UNSIGNED NOT NULL,
    id_ente INT UNSIGNED NOT NULL,
    id_tipologia_funzionale INT UNSIGNED NOT NULL,
    procedure_ill_automatizzate BOOL NULL,
    id_biblioteca_padre INT UNSIGNED NULL,
    mq_totali INT UNSIGNED NULL,
    mq_pubblici INT UNSIGNED NULL,
    ml_magazzini INT UNSIGNED NULL,
    ml_aperti INT UNSIGNED NULL,
    posti_lettura INT UNSIGNED NULL,
    posti_video INT UNSIGNED NULL,
    posti_audio INT UNSIGNED NULL,
    posti_internet INT UNSIGNED NULL,
    utenti INT UNSIGNED NULL,
    utenti_under14 INT UNSIGNED NULL DEFAULT 0,
    utenti_iscritti INT UNSIGNED NULL,
    utenti_iscritti_prestito_anno INT UNSIGNED NULL,
    personale_temporaneo INT UNSIGNED NULL,
    personale_esterno INT UNSIGNED NULL,
    personale_part_time INT UNSIGNED NULL,
    personale_totale INT UNSIGNED NULL,
    bilancio_entrate INT UNSIGNED NULL,
    bilancio_uscite INT UNSIGNED NULL,
    bilancio_uscite_personale INT UNSIGNED NULL,
    bilancio_uscite_funzionamento INT UNSIGNED NULL,
    bilancio_uscite_incremento_patrimonio INT UNSIGNED NULL,
    bilancio_uscite_automazione INT UNSIGNED NULL,
    bilancio_uscite_acquisti_anno INT UNSIGNED NULL DEFAULT 0,
    bilancio_uscite_acquisti_ultimi15 INT UNSIGNED NULL DEFAULT 0,
    bilancio_uscite_varie INT UNSIGNED NULL,
    bilancio_patrimoniale_posseduto INT NULL,
    bilancio_patrimoniale_posseduto_under14 INT NULL,
    n_ore_settimanali INT UNSIGNED NULL DEFAULT 0,
    n_ore_settimanali_pom INT UNSIGNED NULL DEFAULT 0,
    n_settim_apertura INT UNSIGNED NULL DEFAULT 0,
    prestito_interbiblio_nazionale BOOL NULL,
    prestito_interbiblio_internazionale BOOL NULL,
    gestisce_servizio_bibliografico_interno BOOL NULL,
    gestisce_servizio_bibliografico_esterno BOOL NULL,
    n_prestiti_interbibliotecari_annuo INT UNSIGNED NULL,
    n_prestiti_locali_annuo INT UNSIGNED NULL,
    catalogazione_data_modifica DATETIME NULL,
    id_utenti INT UNSIGNED NULL,
    id_stato_biblioteca_workflow INT NOT NULL,
    catalogazione_data_import DATETIME NULL,
    catalogazione_data_modifica_remota DATETIME NULL,
    catalogazione_note TEXT NULL,
    catalogazione_data_censimento DATETIME NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex1 ON abicampania.biblioteca ( id_ente );

CREATE INDEX biblioteca_FKIndex2 ON abicampania.biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex3 ON abicampania.biblioteca ( id_biblioteca_padre );

CREATE INDEX biblioteca_FKIndex4 ON abicampania.biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_1_fondi_antichi ON abicampania.biblioteca ( id_fondi_antichi_consistenza );

CREATE INDEX idx_1_utentemod ON abicampania.biblioteca ( id_utenti );

CREATE TABLE abicampania.biblioteca_has_accesso_modalita ( 
    id_biblioteca INT UNSIGNED NOT NULL,
    id_accesso_modalita INT UNSIGNED NOT NULL,
CONSTRAINT chiave_accessomod PRIMARY KEY ( id_accesso_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_accesso_utenti_ammessi ON abicampania.biblioteca_has_accesso_modalita ( id_accesso_modalita );

CREATE TABLE abicampania.biblioteca_has_dewey ( 
    id_biblioteca INT UNSIGNED NOT NULL,
    id_dewey VARCHAR( 6 ) NOT NULL,
CONSTRAINT pk_special PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_dewey_FKIndex1 ON abicampania.biblioteca_has_dewey ( id_biblioteca );

CREATE INDEX biblioteca_has_dewey_FKIndex2 ON abicampania.biblioteca_has_dewey ( id_dewey );

CREATE TABLE abicampania.biblioteca_has_fondi_speciali ( 
    id_biblioteca INT UNSIGNED NOT NULL,
    id_fondi_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_fondi_speciali PRIMARY KEY ( id_biblioteca, id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex1 ON abicampania.biblioteca_has_fondi_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex2 ON abicampania.biblioteca_has_fondi_speciali ( id_fondi_speciali );

CREATE TABLE abicampania.biblioteca_has_indicizzazione_classificata ( 
    id_biblioteca INT UNSIGNED NOT NULL,
    id_indicizzazione_classificata INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_classificata PRIMARY KEY ( id_biblioteca, id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_classificata_FKIndex1 ON abicampania.biblioteca_has_indicizzazione_classificata ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_classificata_FKIndex2 ON abicampania.biblioteca_has_indicizzazione_classificata ( id_indicizzazione_classificata );

CREATE TABLE abicampania.biblioteca_has_indicizzazione_soggetto ( 
    id_biblioteca INT UNSIGNED NOT NULL,
    id_indicizzazione_soggetto INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_soggetto PRIMARY KEY ( id_biblioteca, id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex1 ON abicampania.biblioteca_has_indicizzazione_soggetto ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex2 ON abicampania.biblioteca_has_indicizzazione_soggetto ( id_indicizzazione_soggetto );

CREATE TABLE abicampania.biblioteca_has_norme_catalogazione ( 
    id_biblioteca INT UNSIGNED NOT NULL,
    id_norme_catalogazione INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_norme_catalogazione PRIMARY KEY ( id_biblioteca, id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex1 ON abicampania.biblioteca_has_norme_catalogazione ( id_biblioteca );

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex2 ON abicampania.biblioteca_has_norme_catalogazione ( id_norme_catalogazione );

CREATE TABLE abicampania.biblioteca_has_prestito_interbibliotecario ( 
    id_biblioteca INT UNSIGNED NOT NULL,
    id_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_pre_pos_dsc PRIMARY KEY ( id_biblioteca, id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex1 ON abicampania.biblioteca_has_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex2 ON abicampania.biblioteca_has_prestito_interbibliotecario ( id_prestito_interbibliotecario );

CREATE TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ( 
    id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL,
    id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id__servizi_bibliotecari_carta, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abicampania.biblioteca_has_servizi_bibliotecari_carta ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abicampania.biblioteca_has_servizi_bibliotecari_carta ( id__servizi_bibliotecari_carta );

CREATE TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( 
    id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL,
    id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( id_servizi_informazioni_bibliografiche_modalita );

CREATE TABLE abicampania.biblioteca_has_sezioni_speciali ( 
    id_biblioteca INT UNSIGNED NOT NULL,
    id_sezioni_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sezioni_speciali PRIMARY KEY ( id_biblioteca, id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex1 ON abicampania.biblioteca_has_sezioni_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex2 ON abicampania.biblioteca_has_sezioni_speciali ( id_sezioni_speciali );

CREATE TABLE abicampania.biblioteca_has_sistemi_biblioteche ( 
    id_biblioteca INT UNSIGNED NOT NULL,
    id_sistemi_biblioteche INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_partec_sist_biblio PRIMARY KEY ( id_biblioteca, id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex1 ON abicampania.biblioteca_has_sistemi_biblioteche ( id_biblioteca );

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex2 ON abicampania.biblioteca_has_sistemi_biblioteche ( id_sistemi_biblioteche );

CREATE TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( 
    id_biblioteca INT UNSIGNED NOT NULL,
    id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sist_pr_interbiblio PRIMARY KEY ( id_biblioteca, id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex1 ON abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex2 ON abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( id_sistemi_prestito_interbibliotecario );

CREATE TABLE abicampania.biblioteca_has_utenti ( 
    id_utenti INT UNSIGNED NOT NULL,
    id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT idx_bibliotecahasutenti PRIMARY KEY ( id_utenti, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.cataloghi_collettivi ( 
    id_cataloghi_collettivi INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NULL,
    id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL,
    dettaglio_zona VARCHAR( 50 ) NULL,
CONSTRAINT pk_catal_coll_estens PRIMARY KEY ( id_cataloghi_collettivi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_estensione ON abicampania.cataloghi_collettivi ( id_cataloghi_collettivi_zona_tipo );

CREATE TABLE abicampania.cataloghi_collettivi_materiale_url ( 
    id_cataloghi_collettivi_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL,
    url VARCHAR( 255 ) NULL,
    descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_coll_url PRIMARY KEY ( id_cataloghi_collettivi_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_url ON abicampania.cataloghi_collettivi_materiale_url ( id_cataloghi_collettivi_materiale );

CREATE TABLE abicampania.cataloghi_collettivi_zona_tipo ( 
    id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_collettivi_zona_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.cataloghi_generali_url ( 
    id_cataloghi_generali_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_cataloghi_generali INT UNSIGNED NOT NULL,
    url VARCHAR( 255 ) NULL,
    descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_gener_url PRIMARY KEY ( id_cataloghi_generali_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_id_cataloghi_generali ON abicampania.cataloghi_generali_url ( id_cataloghi_generali );

CREATE TABLE abicampania.cataloghi_speciali_materiale_url ( 
    id_cataloghi_speciali_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL,
    url VARCHAR( 255 ) NULL,
    descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec_url PRIMARY KEY ( id_cataloghi_speciali_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_speciali_url ON abicampania.cataloghi_speciali_materiale_url ( id_cataloghi_speciali_materiale );

CREATE TABLE abicampania.cataloghi_supporto_digitale_tipo ( 
    id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_supporto_digitale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.catalogo_generale_tipo ( 
    id_catalogo_generale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_catalogo_generale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.codici ( 
    id_biblioteca INT UNSIGNED NOT NULL,
    id_codici INT UNSIGNED NOT NULL,
    valore VARCHAR( 100 ) NOT NULL,
CONSTRAINT idx_pk_bibliotecacodici PRIMARY KEY ( id_biblioteca, id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_codice ON abicampania.codici ( id_codici );

CREATE INDEX idx_codici ON abicampania.codici ( id_biblioteca );

CREATE TABLE abicampania.codici_tipo ( 
    id_codici INT UNSIGNED NOT NULL,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.comune ( 
    id_comune INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_provincia INT UNSIGNED NOT NULL,
    denominazione VARCHAR( 100 ) NOT NULL,
    codice_istat VARCHAR( 6 ) NULL,
    codice_finanze VARCHAR( 6 ) NULL,
CONSTRAINT pk_comune PRIMARY KEY ( id_comune )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comune_FKIndex1 ON abicampania.comune ( id_provincia );

CREATE TABLE abicampania.comunicazioni ( 
    id_comunicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_biblioteca INT UNSIGNED NOT NULL,
    descrizione TEXT NULL,
CONSTRAINT pk_comunicazioni PRIMARY KEY ( id_comunicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comunicazioni_FKIndex1 ON abicampania.comunicazioni ( id_biblioteca );

CREATE TABLE abicampania.contatti ( 
    id_contatti INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_biblioteca INT UNSIGNED NOT NULL,
    id_contatti_tipi INT UNSIGNED NOT NULL,
    valore VARCHAR( 255 ) NOT NULL,
    note VARCHAR( 100 ) NULL,
CONSTRAINT PK_contatti PRIMARY KEY ( id_contatti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.contatti_tipo ( 
    id_contatti_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_1 PRIMARY KEY ( id_contatti_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dati_province_istat ( 
    id_provincia INT UNSIGNED NOT NULL,
    totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
CONSTRAINT pk_dati_province_istat PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dati_regioni_istat ( 
    id_regione INT UNSIGNED NOT NULL,
    totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
    descrizione_zona VARCHAR( 20 ) NULL,
    id_sort INT UNSIGNED NULL,
CONSTRAINT pk_dati_regioni_istat PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.denominazioni_alternative ( 
    id_denominazioni_alternative INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_biblioteca INT UNSIGNED NOT NULL,
    denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_anche PRIMARY KEY ( id_denominazioni_alternative )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_anche_FKIndex1 ON abicampania.denominazioni_alternative ( id_biblioteca );

CREATE TABLE abicampania.denominazioni_precedenti ( 
    id_denominazioni_precedenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_biblioteca INT UNSIGNED NOT NULL,
    denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_gia PRIMARY KEY ( id_denominazioni_precedenti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_gia_FKIndex1 ON abicampania.denominazioni_precedenti ( id_biblioteca );

CREATE TABLE abicampania.depositi_legali ( 
    id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_depositi_legali_tipo INT UNSIGNED NOT NULL,
    da_anno VARCHAR( 10 ) NULL,
CONSTRAINT pk_biblioteca_has_deposito_legale PRIMARY KEY ( id_biblioteca, id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.depositi_legali_tipo ( 
    id_depositi_legali_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_deposito_legale PRIMARY KEY ( id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.destinazioni_sociali ( 
    id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_destinazioni_sociali_tipo INT UNSIGNED NOT NULL,
    note VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_destinaz_sociale PRIMARY KEY ( id_biblioteca, id_destinazioni_sociali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.destinazioni_sociali_tipo ( 
    id_destinazioni_sociali INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_destinaz_sociale PRIMARY KEY ( id_destinazioni_sociali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dewey ( 
    id_dewey VARCHAR( 6 ) NOT NULL,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_dewey PRIMARY KEY ( id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dewey_libero ( 
    id_biblioteca INT UNSIGNED NOT NULL,
    id_dewey VARCHAR( 6 ) NOT NULL,
    descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_dewey_lib PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.ente ( 
    id_ente INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_stato INT UNSIGNED NOT NULL,
    id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL,
    id_ente_obiettivo INT UNSIGNED NOT NULL,
    denominazione VARCHAR( 255 ) NULL,
    partita_iva VARCHAR( 11 ) NULL,
    codice_fiscale VARCHAR( 16 ) NULL,
    asia_asip VARCHAR( 11 ) NULL,
CONSTRAINT pk_ente PRIMARY KEY ( id_ente )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX ente_FKIndex2 ON abicampania.ente ( id_ente_tipologia_amministrativa );

CREATE INDEX ente_FKIndex3 ON abicampania.ente ( id_stato );

CREATE TABLE abicampania.ente_tipologia_amministrativa ( 
    id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_ente PRIMARY KEY ( id_ente_tipologia_amministrativa )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.fondi_antichi_consistenza ( 
    id_fondi_antichi_consistenza INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_fondi_antichi_consistenza )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.fondi_speciali ( 
    id_fondi_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_dewey VARCHAR( 6 ) NULL,
    denominazione VARCHAR( 255 ) NOT NULL,
    fondo_depositato BOOL NULL,
    descrizione VARCHAR( 255 ) NULL,
    id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL,
    catalogazione_inventario_url VARCHAR( 255 ) NULL,
    citazione_bibliografica TEXT NULL,
CONSTRAINT pk_fondi_speciali PRIMARY KEY ( id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX fondi_speciali_FKIndex1 ON abicampania.fondi_speciali ( id_dewey );

CREATE INDEX idx_fondi_speciali ON abicampania.fondi_speciali ( id_fondi_speciali_catalogazione_inventario );

CREATE TABLE abicampania.fondi_speciali_catalogazione_inventario ( 
    id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_fondi_speciali_catalogazione_inventario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.geolocalizzazione ( 
    id_biblioteca INT UNSIGNED NOT NULL,
    latitudine DOUBLE NULL,
    longitudine DOUBLE NULL,
    precisione VARCHAR( 50 ) NULL,
    warning TEXT NULL,
    error TEXT NULL,
CONSTRAINT pk_id_bib PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.indicizzazione_classificata ( 
    id_indicizzazione_classificata INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_classificata PRIMARY KEY ( id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.indicizzazione_soggetto ( 
    id_indicizzazione_soggetto INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_soggetto PRIMARY KEY ( id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.norme_catalogazione ( 
    id_norme_catalogazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_norme_catalogazione PRIMARY KEY ( id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.nuova_biblioteca ( 
    id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
    isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
    isil_provincia VARCHAR( 2 ) NOT NULL,
    isil_numero INT UNSIGNED NULL,
    denominazione_ufficiale VARCHAR( 255 ) NULL,
    id_comune INT UNSIGNED NULL,
    data_fondazione VARCHAR( 20 ) NULL,
    edificio_monumentale BOOL NULL,
    edificio_data_costruzione VARCHAR( 255 ) NULL,
    edificio_appositamente_costruito BOOL NULL,
    autonomia_amministrativa BOOL NULL,
    accesso_riservato BOOL NULL,
    accesso_handicap BOOL NULL,
    accesso_internet_pagamento BOOL NULL,
    accesso_internet_tempo BOOL NULL,
    accesso_internet_proxy BOOL NULL,
    inventario_cartaceo BOOL NULL,
    inventario_informatizzato BOOL NULL,
    catalogo_topografico_cartaceo BOOL NULL,
    catalogo_topografico_informatizzato BOOL NULL,
    id_tipologia_funzionale INT UNSIGNED NULL,
    gestisce_servizio_bibliografico_interno BOOL NULL,
    gestisce_servizio_bibliografico_esterno BOOL NULL,
    login_creatore INT UNSIGNED NULL,
    login_gestore INT UNSIGNED NULL,
    id_stato_biblioteca_workflow INT NOT NULL,
    ente_denominazione VARCHAR( 255 ) NULL,
    ente_tipologia_amministrativa VARCHAR( 255 ) NULL,
    ente_stato VARCHAR( 255 ) NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex2 ON abicampania.nuova_biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex4 ON abicampania.nuova_biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_login_creatore ON abicampania.nuova_biblioteca ( login_creatore );

CREATE INDEX idx_login_gestore ON abicampania.nuova_biblioteca ( login_gestore );

CREATE INDEX idx_nuova_biblioteca ON abicampania.nuova_biblioteca ( id_stato_biblioteca_workflow );

CREATE TABLE abicampania.orario_chiusure ( 
    id_orario_chiusure INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_biblioteca INT UNSIGNED NOT NULL,
    descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_periodo_chiusura PRIMARY KEY ( id_orario_chiusure )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX periodo_chiusura_FKIndex1 ON abicampania.orario_chiusure ( id_biblioteca );

CREATE TABLE abicampania.orario_ufficiali ( 
    id_orario_ufficiali INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_biblioteca INT UNSIGNED NOT NULL,
    giorno INT NOT NULL,
    dalle TIME NOT NULL,
    alle TIME NOT NULL,
CONSTRAINT pk_orario_ufficiale PRIMARY KEY ( id_orario_ufficiali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orario_ufficiale_FKIndex1 ON abicampania.orario_ufficiali ( id_biblioteca );

CREATE TABLE abicampania.orario_variazioni ( 
    id_orario_variazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_biblioteca INT UNSIGNED NOT NULL,
    descrizione VARCHAR( 255 ) NOT NULL,
    giorno INT NULL,
    dalle TIME NULL,
    alle TIME NULL,
CONSTRAINT pk_orari_variazioni PRIMARY KEY ( id_orario_variazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orari_variazioni_FKIndex1 ON abicampania.orario_variazioni ( id_biblioteca );

CREATE TABLE abicampania.partecipa_cataloghi_collettivi_materiale ( 
    id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_cataloghi_collettivi INT UNSIGNED NOT NULL,
    id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
    id_biblioteca INT UNSIGNED NOT NULL,
    schede BOOL NULL,
    volume BOOL NULL,
    microforme BOOL NULL,
    id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
    descrizione_volume VARCHAR( 255 ) NULL,
    percentuale_schede INT UNSIGNED NULL,
    percentuale_volume INT UNSIGNED NULL,
    percentuale_microforme INT UNSIGNED NULL,
    percentuale_informatizzata INT UNSIGNED NULL,
    da_anno INT UNSIGNED NULL,
    a_anno INT UNSIGNED NULL,
CONSTRAINT pk_catal_coll PRIMARY KEY ( id_cataloghi_collettivi_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_coll_FKIndex1 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_biblioteca );

CREATE INDEX catal_coll_FKIndex2 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_patrimonio_specializzazione );

CREATE INDEX catal_coll_FKIndex3 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_collettivi );

CREATE INDEX idx_cataloghi_collettivi ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abicampania.partecipa_cataloghi_generali ( 
    id_cataloghi_generali INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_biblioteca INT UNSIGNED NOT NULL,
    schede BOOL NULL,
    volume BOOL NULL,
    microforme BOOL NULL,
    id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
    descrizione_volume VARCHAR( 255 ) NULL,
    percentuale_schede INT UNSIGNED NULL,
    percentuale_volume INT UNSIGNED NULL,
    percentuale_microforme INT UNSIGNED NULL,
    percentuale_informatizzata INT UNSIGNED NULL,
    da_anno INT UNSIGNED NULL,
    a_anno INT UNSIGNED NULL,
    id_catalogo_generale_tipo INT UNSIGNED NOT NULL,
CONSTRAINT pk_catal_gener PRIMARY KEY ( id_cataloghi_generali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX cataloghi_gener_FKIndex1 ON abicampania.partecipa_cataloghi_generali ( id_biblioteca );

CREATE INDEX idx_cataloghi_generali ON abicampania.partecipa_cataloghi_generali ( id_cataloghi_supporto_digitale_tipo );

CREATE INDEX idx_1_cataloghi_generali_tipo ON abicampania.partecipa_cataloghi_generali ( id_catalogo_generale_tipo );

CREATE TABLE abicampania.partecipa_cataloghi_speciali_materiale ( 
    id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
    id_biblioteca INT UNSIGNED NOT NULL,
    schede BOOL NULL,
    volume BOOL NULL,
    microforme BOOL NULL,
    id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
    descrizione_volume VARCHAR( 255 ) NULL,
    percentuale_schede INT UNSIGNED NULL,
    percentuale_volume INT UNSIGNED NULL,
    percentuale_microforme INT UNSIGNED NULL,
    percentuale_informatizzata INT UNSIGNED NULL,
    da_anno INT UNSIGNED NULL,
    a_anno INT UNSIGNED NULL,
    denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec PRIMARY KEY ( id_cataloghi_speciali_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_spec_FKIndex1 ON abicampania.partecipa_cataloghi_speciali_materiale ( id_biblioteca );

CREATE INDEX catal_spec_FKIndex2 ON abicampania.partecipa_cataloghi_speciali_materiale ( id_patrimonio_specializzazione );

CREATE INDEX idx_cataloghi_speciali ON abicampania.partecipa_cataloghi_speciali_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abicampania.patrimonio ( 
    id_biblioteca INT UNSIGNED NOT NULL,
    id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
    quantita INT UNSIGNED NOT NULL,
    quantita_ultimo_anno INT UNSIGNED NOT NULL,
CONSTRAINT idx_1 PRIMARY KEY ( id_biblioteca, id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.patrimonio_specializzazione ( 
    id_patrimonio_specializzazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL,
    descrizione TEXT NULL,
    id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec PRIMARY KEY ( id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_FKIndex1 ON abicampania.patrimonio_specializzazione ( id_patrimonio_specializzazione_categoria );

CREATE TABLE abicampania.patrimonio_specializzazione_categoria ( 
    id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_patrimonio_specializzazione_categoria_madre INT UNSIGNED NULL,
    descrizione TEXT NULL,
    id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec_cat PRIMARY KEY ( id_patrimonio_specializzazione_categoria )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_cat_FKIndex1 ON abicampania.patrimonio_specializzazione_categoria ( id_patrimonio_specializzazione_categoria_madre );

CREATE TABLE abicampania.prestito_interbibliotecario ( 
    id_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
    nazionale BOOL NULL,
    internazionale BOOL NULL,
    id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL,
CONSTRAINT pk_pre_pos_dsc PRIMARY KEY ( id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_prestito_interbibliotecario ON abicampania.prestito_interbibliotecario ( id_prestito_interbibliotecario_modo );

CREATE TABLE abicampania.prestito_interbibliotecario_modo ( 
    id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_prestito_interbibliotecario_modo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.prestito_locale ( 
    id_prestito_locale INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_biblioteca INT UNSIGNED NOT NULL,
    automatizzato BOOL NULL,
    durata_giorni INT UNSIGNED NULL,
CONSTRAINT pk_prestito_locale PRIMARY KEY ( id_prestito_locale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_FKIndex1 ON abicampania.prestito_locale ( id_biblioteca );

CREATE TABLE abicampania.prestito_locale_has_materiale_escluso ( 
    id_prestito_locale INT UNSIGNED NOT NULL,
    id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_escluso PRIMARY KEY ( id_prestito_locale, id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex1 ON abicampania.prestito_locale_has_materiale_escluso ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex2 ON abicampania.prestito_locale_has_materiale_escluso ( id_prestito_locale_materiale_escluso );

CREATE TABLE abicampania.prestito_locale_has_utenti_ammessi ( 
    id_prestito_locale INT UNSIGNED NOT NULL,
    id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_zona PRIMARY KEY ( id_prestito_locale, id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_zona_FKIndex1 ON abicampania.prestito_locale_has_utenti_ammessi ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_zona_FKIndex2 ON abicampania.prestito_locale_has_utenti_ammessi ( id_prestito_locale_utenti_ammessi );

CREATE TABLE abicampania.prestito_locale_materiale_escluso ( 
    id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_escluso PRIMARY KEY ( id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.prestito_locale_utenti_ammessi ( 
    id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_zona PRIMARY KEY ( id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.profili ( 
    id_profili INT UNSIGNED NOT NULL AUTO_INCREMENT,
    denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_profili PRIMARY KEY ( id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.provincia ( 
    id_provincia INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_regione INT UNSIGNED NOT NULL,
    denominazione VARCHAR( 100 ) NOT NULL,
    codice_istat VARCHAR( 10 ) NULL,
    sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_provincia PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX provincia_FKIndex1 ON abicampania.provincia ( id_regione );

CREATE TABLE abicampania.pubblicazioni ( 
    id_pubblicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_biblioteca INT UNSIGNED NOT NULL,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_biblioteca_has_pubblicazioni PRIMARY KEY ( id_pubblicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pubblicazioni_FKIndex1 ON abicampania.pubblicazioni ( id_biblioteca );

CREATE TABLE abicampania.regione ( 
    id_regione INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_stato INT UNSIGNED NOT NULL,
    denominazione VARCHAR( 100 ) NOT NULL,
    sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_regione PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regione_FKIndex1 ON abicampania.regione ( id_stato );

CREATE TABLE abicampania.regolamento ( 
    id_regolamento INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_biblioteca INT UNSIGNED NOT NULL,
    riferimento_normativa VARCHAR( 255 ) NULL,
    url VARCHAR( 255 ) NULL,
CONSTRAINT pk_regolamento PRIMARY KEY ( id_regolamento )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regolamento_FKIndex1 ON abicampania.regolamento ( id_biblioteca );

CREATE TABLE abicampania.riproduzioni ( 
    id_biblioteca INT UNSIGNED NOT NULL,
    id_riproduzioni_tipo INT UNSIGNED NOT NULL,
    locale BOOL NULL,
    nazionale BOOL NULL,
    internazionale BOOL NULL,
CONSTRAINT idx PRIMARY KEY ( id_biblioteca, id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.riproduzioni_tipo ( 
    id_riproduzioni_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_tipo_riproduzioni PRIMARY KEY ( id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.servizi_bibliotecari_carta ( 
    id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id__servizi_bibliotecari_carta )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.servizi_informazioni_bibliografiche_modalita ( 
    id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sezioni_speciali ( 
    id_sezioni_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_sezioni_speciali PRIMARY KEY ( id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sistemi_biblioteche ( 
    id_sistemi_biblioteche INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_partec_sist_biblio PRIMARY KEY ( id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sistemi_prestito_interbibliotecario ( 
    id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NOT NULL,
    url VARCHAR( 255 ) NULL,
CONSTRAINT pk_sist_pr_interbiblio PRIMARY KEY ( id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.spogli_bibliografici ( 
    id_spogli_bibliografici INT UNSIGNED NOT NULL AUTO_INCREMENT,
    id_biblioteca INT UNSIGNED NOT NULL,
    descrizione_bibliografica TEXT NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_spogli_bibliografici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_spogli_bibliografici ON abicampania.spogli_bibliografici ( id_biblioteca );

CREATE TABLE abicampania.stato ( 
    id_stato INT UNSIGNED NOT NULL AUTO_INCREMENT,
    denominazione VARCHAR( 100 ) NOT NULL,
    sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_stato PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.stato_biblioteca_workflow ( 
    id_stato INT NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NULL,
    label VARCHAR( 64 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.stato_catalogazione ( 
    id_biblioteca INT UNSIGNED NOT NULL,
    id_stato_catalogazione INT UNSIGNED NOT NULL,
    id_biblioteca_target INT UNSIGNED NULL,
CONSTRAINT pk_biblioteca_has_stato_catalogazione PRIMARY KEY ( id_biblioteca, id_stato_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_stato_catalogazione ON abicampania.stato_catalogazione ( id_biblioteca_target );

CREATE TABLE abicampania.stato_catalogazione_tipo ( 
    id_stato_catalogazione_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 100 ) NULL,
CONSTRAINT pk_stato_catalogazione PRIMARY KEY ( id_stato_catalogazione_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.tipologia_funzionale ( 
    id_tipologia_funzionale INT UNSIGNED NOT NULL AUTO_INCREMENT,
    descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_tipologia_funzionale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.utenti ( 
    id_utenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
    login VARCHAR( 20 ) NOT NULL,
    password VARCHAR( 50 ) NOT NULL,
    nome VARCHAR( 255 ) NULL,
    cognome VARCHAR( 255 ) NULL,
    tel VARCHAR( 50 ) NULL,
    fax VARCHAR( 50 ) NULL,
    email VARCHAR( 50 ) NULL,
    incarico VARCHAR( 50 ) NULL,
    note VARCHAR( 255 ) NULL,
    data_modifica_password DATETIME NULL,
    enabled BOOL NOT NULL DEFAULT 1,
    codice_validazione VARCHAR( 50 ) NULL,
CONSTRAINT PK_utenti PRIMARY KEY ( id_utenti ),
CONSTRAINT login UNIQUE ( login )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

ALTER TABLE abicampania.utenti MODIFY data_modifica_password DATETIME COMMENT 'data di ultima generazione della password';

CREATE TABLE abicampania.utenti_has_profili ( 
    id_utenti INT UNSIGNED NOT NULL,
    id_profili INT UNSIGNED NOT NULL,
CONSTRAINT pk_utenti_has_profili PRIMARY KEY ( id_utenti, id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX utenti_has_profili_FKIndex1 ON abicampania.utenti_has_profili ( id_utenti );

CREATE INDEX utenti_has_profili_FKIndex2 ON abicampania.utenti_has_profili ( id_profili );

ALTER TABLE abicampania.bibliografia ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_0 ( id_comune ) REFERENCES abicampania.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_2 ( id_tipologia_funzionale ) REFERENCES abicampania.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_3 ( id_ente ) REFERENCES abicampania.ente( id_ente ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_4 ( id_biblioteca_padre ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_1 ( id_fondi_antichi_consistenza ) REFERENCES abicampania.fondi_antichi_consistenza( id_fondi_antichi_consistenza ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_5 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_6 ( id_stato_biblioteca_workflow ) REFERENCES abicampania.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_1 ( id_accesso_modalita ) REFERENCES abicampania.accesso_modalita( id_accesso_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_dewey ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_dewey ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali ) REFERENCES abicampania.fondi_speciali( id_fondi_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_1 ( id_indicizzazione_classificata ) REFERENCES abicampania.indicizzazione_classificata( id_indicizzazione_classificata ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_1 ( id_indicizzazione_soggetto ) REFERENCES abicampania.indicizzazione_soggetto( id_indicizzazione_soggetto ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_1 ( id_norme_catalogazione ) REFERENCES abicampania.norme_catalogazione( id_norme_catalogazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_prestito_interbibliotecario ) REFERENCES abicampania.prestito_interbibliotecario( id_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_1 ( id__servizi_bibliotecari_carta ) REFERENCES abicampania.servizi_bibliotecari_carta( id__servizi_bibliotecari_carta ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_1 ( id_servizi_informazioni_bibliografiche_modalita ) REFERENCES abicampania.servizi_informazioni_bibliografiche_modalita( id_servizi_informazioni_bibliografiche_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_1 ( id_sezioni_speciali ) REFERENCES abicampania.sezioni_speciali( id_sezioni_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_1 ( id_sistemi_biblioteche ) REFERENCES abicampania.sistemi_biblioteche( id_sistemi_biblioteche ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_sistemi_prestito_interbibliotecario ) REFERENCES abicampania.sistemi_prestito_interbibliotecario( id_sistemi_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_utenti ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_utenti ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_collettivi ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_zona_tipo ) REFERENCES abicampania.cataloghi_collettivi_zona_tipo( id_cataloghi_collettivi_zona_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_collettivi_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_materiale ) REFERENCES abicampania.partecipa_cataloghi_collettivi_materiale( id_cataloghi_collettivi_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_generali_url ADD FOREIGN KEY fk_cataloghi_generali_url ( id_cataloghi_generali ) REFERENCES abicampania.partecipa_cataloghi_generali( id_cataloghi_generali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_speciali_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_speciali_materiale ) REFERENCES abicampania.partecipa_cataloghi_speciali_materiale( id_cataloghi_speciali_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.codici ADD FOREIGN KEY fk_0 ( id_codici ) REFERENCES abicampania.codici_tipo( id_codici ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.codici ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.comune ADD FOREIGN KEY fk_comune_provincia1 ( id_provincia ) REFERENCES abicampania.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.comunicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.contatti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.contatti ADD FOREIGN KEY fk_1 ( id_contatti_tipi ) REFERENCES abicampania.contatti_tipo( id_contatti_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dati_province_istat ADD FOREIGN KEY fk_0 ( id_provincia ) REFERENCES abicampania.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dati_regioni_istat ADD FOREIGN KEY fk_0 ( id_regione ) REFERENCES abicampania.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.denominazioni_alternative ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.denominazioni_precedenti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.depositi_legali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.depositi_legali ADD FOREIGN KEY fk_1 ( id_depositi_legali_tipo ) REFERENCES abicampania.depositi_legali_tipo( id_depositi_legali_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.destinazioni_sociali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.destinazioni_sociali ADD FOREIGN KEY fk_1 ( id_destinazioni_sociali_tipo ) REFERENCES abicampania.destinazioni_sociali_tipo( id_destinazioni_sociali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dewey_libero ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dewey_libero ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_0 ( id_ente_tipologia_amministrativa ) REFERENCES abicampania.ente_tipologia_amministrativa( id_ente_tipologia_amministrativa ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_2 ( id_stato ) REFERENCES abicampania.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_speciali ADD FOREIGN KEY fk_0 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali_catalogazione_inventario ) REFERENCES abicampania.fondi_speciali_catalogazione_inventario( id_fondi_speciali_catalogazione_inventario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.geolocalizzazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_comune ( id_comune ) REFERENCES abicampania.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_tipologia_funzionale ( id_tipologia_funzionale ) REFERENCES abicampania.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_login_creatore ( login_creatore ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_login_gestore ( login_gestore ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_id_stato_biblioteca_workflow ( id_stato_biblioteca_workflow ) REFERENCES abicampania.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_chiusure ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_ufficiali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_variazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_1 ( id_cataloghi_collettivi ) REFERENCES abicampania.cataloghi_collettivi( id_cataloghi_collettivi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_4 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_2 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_3 ( id_catalogo_generale_tipo ) REFERENCES abicampania.catalogo_generale_tipo( id_catalogo_generale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_3 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio ADD FOREIGN KEY fk_1 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio_specializzazione ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria ) REFERENCES abicampania.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio_specializzazione_categoria ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria_madre ) REFERENCES abicampania.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_prestito_interbibliotecario_modo ) REFERENCES abicampania.prestito_interbibliotecario_modo( id_prestito_interbibliotecario_modo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_0 ( id_prestito_locale ) REFERENCES abicampania.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_1 ( id_prestito_locale_materiale_escluso ) REFERENCES abicampania.prestito_locale_materiale_escluso( id_prestito_locale_materiale_escluso ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_1 ( id_prestito_locale ) REFERENCES abicampania.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_0 ( id_prestito_locale_utenti_ammessi ) REFERENCES abicampania.prestito_locale_utenti_ammessi( id_prestito_locale_utenti_ammessi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.provincia ADD FOREIGN KEY fk_provincia_regione1 ( id_regione ) REFERENCES abicampania.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.pubblicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.regione ADD FOREIGN KEY fk_regione_stato1 ( id_stato ) REFERENCES abicampania.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.regolamento ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.riproduzioni ADD FOREIGN KEY fk_0 ( id_riproduzioni_tipo ) REFERENCES abicampania.riproduzioni_tipo( id_riproduzioni_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.riproduzioni ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.spogli_bibliografici ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_1 ( id_stato_catalogazione ) REFERENCES abicampania.stato_catalogazione_tipo( id_stato_catalogazione_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_2 ( id_biblioteca_target ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.utenti_has_profili ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.utenti_has_profili ADD FOREIGN KEY fk_1 ( id_profili ) REFERENCES abicampania.profili( id_profili ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]> </string>
		</query>
		<query name="Sql_002" tab_index="-1" >
			<string> <![CDATA[CREATE SCHEMA abicampania;

CREATE TABLE abicampania.accesso_modalita ( 
	id_accesso_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table PRIMARY KEY ( id_accesso_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.bibliografia ( 
	id_bibliografia INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
CONSTRAINT pk_bibliografia PRIMARY KEY ( id_bibliografia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX bibliografia_FKIndex1 ON abicampania.bibliografia ( id_biblioteca );

CREATE TABLE abicampania.biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NOT NULL,
	denominazione_ufficiale VARCHAR( 255 ) NOT NULL,
	indirizzo VARCHAR( 255 ) NULL,
	frazione VARCHAR( 255 ) NULL,
	cap VARCHAR( 5 ) NULL,
	id_comune INT UNSIGNED NOT NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	data_istituzione VARCHAR( 255 ) NULL,
	edificio_denominazione VARCHAR( 255 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	struttura_gerarchica_sovraordinata VARCHAR( 255 ) NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	attivo_accesso_internet BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_fondi_antichi_consistenza INT UNSIGNED NOT NULL,
	id_ente INT UNSIGNED NOT NULL,
	id_tipologia_funzionale INT UNSIGNED NOT NULL,
	procedure_ill_automatizzate BOOL NULL,
	id_biblioteca_padre INT UNSIGNED NULL,
	mq_totali INT UNSIGNED NULL,
	mq_pubblici INT UNSIGNED NULL,
	ml_magazzini INT UNSIGNED NULL,
	ml_aperti INT UNSIGNED NULL,
	posti_lettura INT UNSIGNED NULL,
	posti_video INT UNSIGNED NULL,
	posti_audio INT UNSIGNED NULL,
	posti_internet INT UNSIGNED NULL,
	utenti INT UNSIGNED NULL,
	utenti_under14 INT UNSIGNED NULL DEFAULT 0,
	utenti_iscritti INT UNSIGNED NULL,
	utenti_iscritti_prestito_anno INT UNSIGNED NULL,
	personale_temporaneo INT UNSIGNED NULL,
	personale_esterno INT UNSIGNED NULL,
	personale_part_time INT UNSIGNED NULL,
	personale_totale INT UNSIGNED NULL,
	bilancio_entrate INT UNSIGNED NULL,
	bilancio_uscite INT UNSIGNED NULL,
	bilancio_uscite_personale INT UNSIGNED NULL,
	bilancio_uscite_funzionamento INT UNSIGNED NULL,
	bilancio_uscite_incremento_patrimonio INT UNSIGNED NULL,
	bilancio_uscite_automazione INT UNSIGNED NULL,
	bilancio_uscite_acquisti_anno INT UNSIGNED NULL DEFAULT 0,
	bilancio_uscite_acquisti_ultimi15 INT UNSIGNED NULL DEFAULT 0,
	bilancio_uscite_varie INT UNSIGNED NULL,
	bilancio_patrimoniale_posseduto INT NULL,
	bilancio_patrimoniale_posseduto_under14 INT NULL,
	n_ore_settimanali INT UNSIGNED NULL DEFAULT 0,
	n_ore_settimanali_pom INT UNSIGNED NULL DEFAULT 0,
	n_settim_apertura INT UNSIGNED NULL DEFAULT 0,
	prestito_interbiblio_nazionale BOOL NULL,
	prestito_interbiblio_internazionale BOOL NULL,
	attivo_informazioni_bibliografiche BOOL NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	n_prestiti_interbibliotecari_annuo INT UNSIGNED NULL,
	n_prestiti_locali_annuo INT UNSIGNED NULL,
	catalogazione_data_modifica DATETIME NULL,
	id_utenti INT UNSIGNED NULL,
	id_stato_biblioteca_workflow INT NOT NULL,
	catalogazione_data_import DATETIME NULL,
	catalogazione_data_modifica_remota DATETIME NULL,
	catalogazione_note TEXT NULL,
	catalogazione_data_censimento DATETIME NULL,
	attivo_riproduzioni BOOL NULL,
	attivo_prestito_locale BOOL NULL,
	attivo_reference BOOL NULL,
	reference_locale BOOL NULL,
	reference_online BOOL NULL,
	attivo_document_delivery BOOL NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex1 ON abicampania.biblioteca ( id_ente );

CREATE INDEX biblioteca_FKIndex2 ON abicampania.biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex3 ON abicampania.biblioteca ( id_biblioteca_padre );

CREATE INDEX biblioteca_FKIndex4 ON abicampania.biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_1_fondi_antichi ON abicampania.biblioteca ( id_fondi_antichi_consistenza );

CREATE INDEX idx_1_utentemod ON abicampania.biblioteca ( id_utenti );

CREATE TABLE abicampania.biblioteca_has_accesso_modalita ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_accesso_modalita INT UNSIGNED NOT NULL,
CONSTRAINT chiave_accessomod PRIMARY KEY ( id_accesso_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_accesso_utenti_ammessi ON abicampania.biblioteca_has_accesso_modalita ( id_accesso_modalita );

CREATE TABLE abicampania.biblioteca_has_dewey ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_dewey VARCHAR( 6 ) NOT NULL,
CONSTRAINT pk_special PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_dewey_FKIndex1 ON abicampania.biblioteca_has_dewey ( id_biblioteca );

CREATE INDEX biblioteca_has_dewey_FKIndex2 ON abicampania.biblioteca_has_dewey ( id_dewey );

CREATE TABLE abicampania.biblioteca_has_document_delivery ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_riproduzioni_tipo INT UNSIGNED NOT NULL,
CONSTRAINT pk_bib_has_doc_del PRIMARY KEY ( id_biblioteca, id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_document_delivery ON abicampania.biblioteca_has_document_delivery ( id_riproduzioni_tipo );

CREATE INDEX idx_biblioteca_has_document_delivery ON abicampania.biblioteca_has_document_delivery ( id_biblioteca );

CREATE TABLE abicampania.biblioteca_has_fondi_speciali ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_fondi_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_fondi_speciali PRIMARY KEY ( id_biblioteca, id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex1 ON abicampania.biblioteca_has_fondi_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex2 ON abicampania.biblioteca_has_fondi_speciali ( id_fondi_speciali );

CREATE TABLE abicampania.biblioteca_has_indicizzazione_classificata ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_indicizzazione_classificata INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_classificata PRIMARY KEY ( id_biblioteca, id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_classificata_FKIndex1 ON abicampania.biblioteca_has_indicizzazione_classificata ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_classificata_FKIndex2 ON abicampania.biblioteca_has_indicizzazione_classificata ( id_indicizzazione_classificata );

CREATE TABLE abicampania.biblioteca_has_indicizzazione_soggetto ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_indicizzazione_soggetto INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_soggetto PRIMARY KEY ( id_biblioteca, id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex1 ON abicampania.biblioteca_has_indicizzazione_soggetto ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex2 ON abicampania.biblioteca_has_indicizzazione_soggetto ( id_indicizzazione_soggetto );

CREATE TABLE abicampania.biblioteca_has_norme_catalogazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_norme_catalogazione INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_norme_catalogazione PRIMARY KEY ( id_biblioteca, id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex1 ON abicampania.biblioteca_has_norme_catalogazione ( id_biblioteca );

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex2 ON abicampania.biblioteca_has_norme_catalogazione ( id_norme_catalogazione );

CREATE TABLE abicampania.biblioteca_has_prestito_interbibliotecario ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_pre_pos_dsc PRIMARY KEY ( id_biblioteca, id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex1 ON abicampania.biblioteca_has_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex2 ON abicampania.biblioteca_has_prestito_interbibliotecario ( id_prestito_interbibliotecario );

CREATE TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ( 
	id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id__servizi_bibliotecari_carta, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abicampania.biblioteca_has_servizi_bibliotecari_carta ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abicampania.biblioteca_has_servizi_bibliotecari_carta ( id__servizi_bibliotecari_carta );

CREATE TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( 
	id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( id_servizi_informazioni_bibliografiche_modalita );

CREATE TABLE abicampania.biblioteca_has_sezioni_speciali ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sezioni_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sezioni_speciali PRIMARY KEY ( id_biblioteca, id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex1 ON abicampania.biblioteca_has_sezioni_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex2 ON abicampania.biblioteca_has_sezioni_speciali ( id_sezioni_speciali );

CREATE TABLE abicampania.biblioteca_has_sistemi_biblioteche ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sistemi_biblioteche INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_partec_sist_biblio PRIMARY KEY ( id_biblioteca, id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex1 ON abicampania.biblioteca_has_sistemi_biblioteche ( id_biblioteca );

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex2 ON abicampania.biblioteca_has_sistemi_biblioteche ( id_sistemi_biblioteche );

CREATE TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sist_pr_interbiblio PRIMARY KEY ( id_biblioteca, id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex1 ON abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex2 ON abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( id_sistemi_prestito_interbibliotecario );

CREATE TABLE abicampania.biblioteca_has_utenti ( 
	id_utenti INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT idx_bibliotecahasutenti PRIMARY KEY ( id_utenti, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.cataloghi_collettivi ( 
	id_cataloghi_collettivi INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
	id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL,
	dettaglio_zona VARCHAR( 50 ) NULL,
CONSTRAINT pk_catal_coll_estens PRIMARY KEY ( id_cataloghi_collettivi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_estensione ON abicampania.cataloghi_collettivi ( id_cataloghi_collettivi_zona_tipo );

CREATE TABLE abicampania.cataloghi_collettivi_materiale_url ( 
	id_cataloghi_collettivi_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_coll_url PRIMARY KEY ( id_cataloghi_collettivi_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_url ON abicampania.cataloghi_collettivi_materiale_url ( id_cataloghi_collettivi_materiale );

CREATE TABLE abicampania.cataloghi_collettivi_zona_tipo ( 
	id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_collettivi_zona_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.cataloghi_generali_url ( 
	id_cataloghi_generali_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_generali INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_gener_url PRIMARY KEY ( id_cataloghi_generali_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_id_cataloghi_generali ON abicampania.cataloghi_generali_url ( id_cataloghi_generali );

CREATE TABLE abicampania.cataloghi_speciali_materiale_url ( 
	id_cataloghi_speciali_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec_url PRIMARY KEY ( id_cataloghi_speciali_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_speciali_url ON abicampania.cataloghi_speciali_materiale_url ( id_cataloghi_speciali_materiale );

CREATE TABLE abicampania.cataloghi_supporto_digitale_tipo ( 
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_supporto_digitale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.catalogo_generale_tipo ( 
	id_catalogo_generale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_catalogo_generale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.codici ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_codici INT UNSIGNED NOT NULL,
	valore VARCHAR( 100 ) NOT NULL,
CONSTRAINT idx_pk_bibliotecacodici PRIMARY KEY ( id_biblioteca, id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_codice ON abicampania.codici ( id_codici );

CREATE INDEX idx_codici ON abicampania.codici ( id_biblioteca );

CREATE TABLE abicampania.codici_tipo ( 
	id_codici INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.comune ( 
	id_comune INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_provincia INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	codice_istat VARCHAR( 6 ) NULL,
	codice_finanze VARCHAR( 6 ) NULL,
CONSTRAINT pk_comune PRIMARY KEY ( id_comune )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comune_FKIndex1 ON abicampania.comune ( id_provincia );

CREATE TABLE abicampania.comunicazioni ( 
	id_comunicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
CONSTRAINT pk_comunicazioni PRIMARY KEY ( id_comunicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comunicazioni_FKIndex1 ON abicampania.comunicazioni ( id_biblioteca );

CREATE TABLE abicampania.contatti ( 
	id_contatti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	id_contatti_tipi INT UNSIGNED NOT NULL,
	valore VARCHAR( 255 ) NOT NULL,
	note VARCHAR( 100 ) NULL,
CONSTRAINT PK_contatti PRIMARY KEY ( id_contatti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.contatti_tipo ( 
	id_contatti_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_1 PRIMARY KEY ( id_contatti_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dati_province_istat ( 
	id_provincia INT UNSIGNED NOT NULL,
	totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
CONSTRAINT pk_dati_province_istat PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dati_regioni_istat ( 
	id_regione INT UNSIGNED NOT NULL,
	totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
	descrizione_zona VARCHAR( 20 ) NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_dati_regioni_istat PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.denominazioni_alternative ( 
	id_denominazioni_alternative INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_anche PRIMARY KEY ( id_denominazioni_alternative )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_anche_FKIndex1 ON abicampania.denominazioni_alternative ( id_biblioteca );

CREATE TABLE abicampania.denominazioni_precedenti ( 
	id_denominazioni_precedenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_gia PRIMARY KEY ( id_denominazioni_precedenti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_gia_FKIndex1 ON abicampania.denominazioni_precedenti ( id_biblioteca );

CREATE TABLE abicampania.depositi_legali ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_depositi_legali_tipo INT UNSIGNED NOT NULL,
	da_anno VARCHAR( 10 ) NULL,
CONSTRAINT pk_biblioteca_has_deposito_legale PRIMARY KEY ( id_biblioteca, id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.depositi_legali_tipo ( 
	id_depositi_legali_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_deposito_legale PRIMARY KEY ( id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.destinazioni_sociali ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_destinazioni_sociali_tipo INT UNSIGNED NOT NULL,
	note VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_destinaz_sociale PRIMARY KEY ( id_biblioteca, id_destinazioni_sociali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.destinazioni_sociali_tipo ( 
	id_destinazioni_sociali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_destinaz_sociale PRIMARY KEY ( id_destinazioni_sociali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dewey ( 
	id_dewey VARCHAR( 6 ) NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_dewey PRIMARY KEY ( id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dewey_libero ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_dewey VARCHAR( 6 ) NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_dewey_lib PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.ente ( 
	id_ente INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_stato INT UNSIGNED NOT NULL,
	id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	asia_asip VARCHAR( 11 ) NULL,
CONSTRAINT pk_ente PRIMARY KEY ( id_ente )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX ente_FKIndex2 ON abicampania.ente ( id_ente_tipologia_amministrativa );

CREATE INDEX ente_FKIndex3 ON abicampania.ente ( id_stato );

CREATE TABLE abicampania.ente_tipologia_amministrativa ( 
	id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_ente PRIMARY KEY ( id_ente_tipologia_amministrativa )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.fondi_antichi_consistenza ( 
	id_fondi_antichi_consistenza INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_fondi_antichi_consistenza )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.fondi_speciali ( 
	id_fondi_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_dewey VARCHAR( 6 ) NULL,
	denominazione VARCHAR( 255 ) NOT NULL,
	fondo_depositato BOOL NULL,
	descrizione VARCHAR( 255 ) NULL,
	id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL,
	catalogazione_inventario_url VARCHAR( 255 ) NULL,
	citazione_bibliografica TEXT NULL,
CONSTRAINT pk_fondi_speciali PRIMARY KEY ( id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX fondi_speciali_FKIndex1 ON abicampania.fondi_speciali ( id_dewey );

CREATE INDEX idx_fondi_speciali ON abicampania.fondi_speciali ( id_fondi_speciali_catalogazione_inventario );

CREATE TABLE abicampania.fondi_speciali_catalogazione_inventario ( 
	id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_fondi_speciali_catalogazione_inventario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.geolocalizzazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	latitudine DOUBLE NULL,
	longitudine DOUBLE NULL,
	precisione VARCHAR( 50 ) NULL,
	warning TEXT NULL,
	error TEXT NULL,
CONSTRAINT pk_id_bib PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.indicizzazione_classificata ( 
	id_indicizzazione_classificata INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_classificata PRIMARY KEY ( id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.indicizzazione_soggetto ( 
	id_indicizzazione_soggetto INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_soggetto PRIMARY KEY ( id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.norme_catalogazione ( 
	id_norme_catalogazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_norme_catalogazione PRIMARY KEY ( id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.nuova_biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NULL,
	denominazione_ufficiale VARCHAR( 255 ) NULL,
	id_comune INT UNSIGNED NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_tipologia_funzionale INT UNSIGNED NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	login_creatore INT UNSIGNED NULL,
	login_gestore INT UNSIGNED NULL,
	id_stato_biblioteca_workflow INT NOT NULL,
	ente_denominazione VARCHAR( 255 ) NULL,
	ente_tipologia_amministrativa VARCHAR( 255 ) NULL,
	ente_stato VARCHAR( 255 ) NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex2 ON abicampania.nuova_biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex4 ON abicampania.nuova_biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_login_creatore ON abicampania.nuova_biblioteca ( login_creatore );

CREATE INDEX idx_login_gestore ON abicampania.nuova_biblioteca ( login_gestore );

CREATE INDEX idx_nuova_biblioteca ON abicampania.nuova_biblioteca ( id_stato_biblioteca_workflow );

CREATE TABLE abicampania.orario_chiusure ( 
	id_orario_chiusure INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_periodo_chiusura PRIMARY KEY ( id_orario_chiusure )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX periodo_chiusura_FKIndex1 ON abicampania.orario_chiusure ( id_biblioteca );

CREATE TABLE abicampania.orario_ufficiali ( 
	id_orario_ufficiali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	giorno INT NOT NULL,
	dalle TIME NOT NULL,
	alle TIME NOT NULL,
CONSTRAINT pk_orario_ufficiale PRIMARY KEY ( id_orario_ufficiali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orario_ufficiale_FKIndex1 ON abicampania.orario_ufficiali ( id_biblioteca );

CREATE TABLE abicampania.orario_variazioni ( 
	id_orario_variazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
	giorno INT NULL,
	dalle TIME NULL,
	alle TIME NULL,
CONSTRAINT pk_orari_variazioni PRIMARY KEY ( id_orario_variazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orari_variazioni_FKIndex1 ON abicampania.orario_variazioni ( id_biblioteca );

CREATE TABLE abicampania.partecipa_cataloghi_collettivi_materiale ( 
	id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_collettivi INT UNSIGNED NOT NULL,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
CONSTRAINT pk_catal_coll PRIMARY KEY ( id_cataloghi_collettivi_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_coll_FKIndex1 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_biblioteca );

CREATE INDEX catal_coll_FKIndex2 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_patrimonio_specializzazione );

CREATE INDEX catal_coll_FKIndex3 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_collettivi );

CREATE INDEX idx_cataloghi_collettivi ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abicampania.partecipa_cataloghi_generali ( 
	id_cataloghi_generali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
	id_catalogo_generale_tipo INT UNSIGNED NOT NULL,
CONSTRAINT pk_catal_gener PRIMARY KEY ( id_cataloghi_generali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX cataloghi_gener_FKIndex1 ON abicampania.partecipa_cataloghi_generali ( id_biblioteca );

CREATE INDEX idx_cataloghi_generali ON abicampania.partecipa_cataloghi_generali ( id_cataloghi_supporto_digitale_tipo );

CREATE INDEX idx_1_cataloghi_generali_tipo ON abicampania.partecipa_cataloghi_generali ( id_catalogo_generale_tipo );

CREATE TABLE abicampania.partecipa_cataloghi_speciali_materiale ( 
	id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec PRIMARY KEY ( id_cataloghi_speciali_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_spec_FKIndex1 ON abicampania.partecipa_cataloghi_speciali_materiale ( id_biblioteca );

CREATE INDEX catal_spec_FKIndex2 ON abicampania.partecipa_cataloghi_speciali_materiale ( id_patrimonio_specializzazione );

CREATE INDEX idx_cataloghi_speciali ON abicampania.partecipa_cataloghi_speciali_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abicampania.patrimonio ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	quantita INT UNSIGNED NOT NULL,
	quantita_ultimo_anno INT UNSIGNED NOT NULL,
CONSTRAINT idx_1 PRIMARY KEY ( id_biblioteca, id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.patrimonio_specializzazione ( 
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec PRIMARY KEY ( id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_FKIndex1 ON abicampania.patrimonio_specializzazione ( id_patrimonio_specializzazione_categoria );

CREATE TABLE abicampania.patrimonio_specializzazione_categoria ( 
	id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione_categoria_madre INT UNSIGNED NULL,
	descrizione TEXT NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec_cat PRIMARY KEY ( id_patrimonio_specializzazione_categoria )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_cat_FKIndex1 ON abicampania.patrimonio_specializzazione_categoria ( id_patrimonio_specializzazione_categoria_madre );

CREATE TABLE abicampania.prestito_interbibliotecario ( 
	id_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	nazionale BOOL NULL,
	internazionale BOOL NULL,
	id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL,
CONSTRAINT pk_pre_pos_dsc PRIMARY KEY ( id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_prestito_interbibliotecario ON abicampania.prestito_interbibliotecario ( id_prestito_interbibliotecario_modo );

CREATE TABLE abicampania.prestito_interbibliotecario_modo ( 
	id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_prestito_interbibliotecario_modo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.prestito_locale ( 
	id_prestito_locale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	automatizzato BOOL NULL,
	durata_giorni INT UNSIGNED NULL,
CONSTRAINT pk_prestito_locale PRIMARY KEY ( id_prestito_locale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_FKIndex1 ON abicampania.prestito_locale ( id_biblioteca );

CREATE TABLE abicampania.prestito_locale_has_materiale_escluso ( 
	id_prestito_locale INT UNSIGNED NOT NULL,
	id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_escluso PRIMARY KEY ( id_prestito_locale, id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex1 ON abicampania.prestito_locale_has_materiale_escluso ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex2 ON abicampania.prestito_locale_has_materiale_escluso ( id_prestito_locale_materiale_escluso );

CREATE TABLE abicampania.prestito_locale_has_utenti_ammessi ( 
	id_prestito_locale INT UNSIGNED NOT NULL,
	id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_zona PRIMARY KEY ( id_prestito_locale, id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_zona_FKIndex1 ON abicampania.prestito_locale_has_utenti_ammessi ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_zona_FKIndex2 ON abicampania.prestito_locale_has_utenti_ammessi ( id_prestito_locale_utenti_ammessi );

CREATE TABLE abicampania.prestito_locale_materiale_escluso ( 
	id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_escluso PRIMARY KEY ( id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.prestito_locale_utenti_ammessi ( 
	id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_zona PRIMARY KEY ( id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.profili ( 
	id_profili INT UNSIGNED NOT NULL AUTO_INCREMENT,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_profili PRIMARY KEY ( id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.provincia ( 
	id_provincia INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_regione INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	codice_istat VARCHAR( 10 ) NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_provincia PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX provincia_FKIndex1 ON abicampania.provincia ( id_regione );

CREATE TABLE abicampania.pubblicazioni ( 
	id_pubblicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_biblioteca_has_pubblicazioni PRIMARY KEY ( id_pubblicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pubblicazioni_FKIndex1 ON abicampania.pubblicazioni ( id_biblioteca );

CREATE TABLE abicampania.regione ( 
	id_regione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_stato INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_regione PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regione_FKIndex1 ON abicampania.regione ( id_stato );

CREATE TABLE abicampania.regolamento ( 
	id_regolamento INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	riferimento_normativa VARCHAR( 255 ) NULL,
	url VARCHAR( 255 ) NULL,
CONSTRAINT pk_regolamento PRIMARY KEY ( id_regolamento )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regolamento_FKIndex1 ON abicampania.regolamento ( id_biblioteca );

CREATE TABLE abicampania.riproduzioni ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_riproduzioni_tipo INT UNSIGNED NOT NULL,
	locale BOOL NULL,
	nazionale BOOL NULL,
	internazionale BOOL NULL,
CONSTRAINT idx PRIMARY KEY ( id_biblioteca, id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.riproduzioni_tipo ( 
	id_riproduzioni_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_tipo_riproduzioni PRIMARY KEY ( id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.servizi_bibliotecari_carta ( 
	id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id__servizi_bibliotecari_carta )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.servizi_informazioni_bibliografiche_modalita ( 
	id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sezioni_speciali ( 
	id_sezioni_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_sezioni_speciali PRIMARY KEY ( id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sistemi_biblioteche ( 
	id_sistemi_biblioteche INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_partec_sist_biblio PRIMARY KEY ( id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sistemi_prestito_interbibliotecario ( 
	id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
	url VARCHAR( 255 ) NULL,
CONSTRAINT pk_sist_pr_interbiblio PRIMARY KEY ( id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.spogli_bibliografici ( 
	id_spogli_bibliografici INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione_bibliografica TEXT NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_spogli_bibliografici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_spogli_bibliografici ON abicampania.spogli_bibliografici ( id_biblioteca );

CREATE TABLE abicampania.stato ( 
	id_stato INT UNSIGNED NOT NULL AUTO_INCREMENT,
	denominazione VARCHAR( 100 ) NOT NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_stato PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.stato_biblioteca_workflow ( 
	id_stato INT NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
	label VARCHAR( 64 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.stato_catalogazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_stato_catalogazione INT UNSIGNED NOT NULL,
	id_biblioteca_target INT UNSIGNED NULL,
CONSTRAINT pk_biblioteca_has_stato_catalogazione PRIMARY KEY ( id_biblioteca, id_stato_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_stato_catalogazione ON abicampania.stato_catalogazione ( id_biblioteca_target );

CREATE TABLE abicampania.stato_catalogazione_tipo ( 
	id_stato_catalogazione_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 100 ) NULL,
CONSTRAINT pk_stato_catalogazione PRIMARY KEY ( id_stato_catalogazione_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.tipologia_funzionale ( 
	id_tipologia_funzionale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_tipologia_funzionale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.utenti ( 
	id_utenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	login VARCHAR( 20 ) NOT NULL,
	password VARCHAR( 50 ) NOT NULL,
	nome VARCHAR( 255 ) NULL,
	cognome VARCHAR( 255 ) NULL,
	tel VARCHAR( 50 ) NULL,
	fax VARCHAR( 50 ) NULL,
	email VARCHAR( 50 ) NULL,
	incarico VARCHAR( 50 ) NULL,
	note VARCHAR( 255 ) NULL,
	data_modifica_password DATETIME NULL,
	enabled BOOL NOT NULL DEFAULT 1,
	codice_validazione VARCHAR( 50 ) NULL,
CONSTRAINT PK_utenti PRIMARY KEY ( id_utenti ),
CONSTRAINT login UNIQUE ( login )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

ALTER TABLE abicampania.utenti MODIFY data_modifica_password DATETIME COMMENT 'data di ultima generazione della password';

CREATE TABLE abicampania.utenti_has_profili ( 
	id_utenti INT UNSIGNED NOT NULL,
	id_profili INT UNSIGNED NOT NULL,
CONSTRAINT pk_utenti_has_profili PRIMARY KEY ( id_utenti, id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX utenti_has_profili_FKIndex1 ON abicampania.utenti_has_profili ( id_utenti );

CREATE INDEX utenti_has_profili_FKIndex2 ON abicampania.utenti_has_profili ( id_profili );

ALTER TABLE abicampania.bibliografia ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_0 ( id_comune ) REFERENCES abicampania.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_2 ( id_tipologia_funzionale ) REFERENCES abicampania.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_3 ( id_ente ) REFERENCES abicampania.ente( id_ente ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_4 ( id_biblioteca_padre ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_1 ( id_fondi_antichi_consistenza ) REFERENCES abicampania.fondi_antichi_consistenza( id_fondi_antichi_consistenza ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_5 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_6 ( id_stato_biblioteca_workflow ) REFERENCES abicampania.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_1 ( id_accesso_modalita ) REFERENCES abicampania.accesso_modalita( id_accesso_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_dewey ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_dewey ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_document_delivery ADD FOREIGN KEY fk_ripro_tipo ( id_riproduzioni_tipo ) REFERENCES abicampania.riproduzioni_tipo( id_riproduzioni_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_document_delivery ADD FOREIGN KEY fk_biblioteca ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali ) REFERENCES abicampania.fondi_speciali( id_fondi_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_1 ( id_indicizzazione_classificata ) REFERENCES abicampania.indicizzazione_classificata( id_indicizzazione_classificata ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_1 ( id_indicizzazione_soggetto ) REFERENCES abicampania.indicizzazione_soggetto( id_indicizzazione_soggetto ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_1 ( id_norme_catalogazione ) REFERENCES abicampania.norme_catalogazione( id_norme_catalogazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_prestito_interbibliotecario ) REFERENCES abicampania.prestito_interbibliotecario( id_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_1 ( id__servizi_bibliotecari_carta ) REFERENCES abicampania.servizi_bibliotecari_carta( id__servizi_bibliotecari_carta ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_1 ( id_servizi_informazioni_bibliografiche_modalita ) REFERENCES abicampania.servizi_informazioni_bibliografiche_modalita( id_servizi_informazioni_bibliografiche_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_1 ( id_sezioni_speciali ) REFERENCES abicampania.sezioni_speciali( id_sezioni_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_1 ( id_sistemi_biblioteche ) REFERENCES abicampania.sistemi_biblioteche( id_sistemi_biblioteche ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_sistemi_prestito_interbibliotecario ) REFERENCES abicampania.sistemi_prestito_interbibliotecario( id_sistemi_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_utenti ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_utenti ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_collettivi ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_zona_tipo ) REFERENCES abicampania.cataloghi_collettivi_zona_tipo( id_cataloghi_collettivi_zona_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_collettivi_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_materiale ) REFERENCES abicampania.partecipa_cataloghi_collettivi_materiale( id_cataloghi_collettivi_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_generali_url ADD FOREIGN KEY fk_cataloghi_generali_url ( id_cataloghi_generali ) REFERENCES abicampania.partecipa_cataloghi_generali( id_cataloghi_generali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_speciali_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_speciali_materiale ) REFERENCES abicampania.partecipa_cataloghi_speciali_materiale( id_cataloghi_speciali_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.codici ADD FOREIGN KEY fk_0 ( id_codici ) REFERENCES abicampania.codici_tipo( id_codici ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.codici ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.comune ADD FOREIGN KEY fk_comune_provincia1 ( id_provincia ) REFERENCES abicampania.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.comunicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.contatti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.contatti ADD FOREIGN KEY fk_1 ( id_contatti_tipi ) REFERENCES abicampania.contatti_tipo( id_contatti_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dati_province_istat ADD FOREIGN KEY fk_0 ( id_provincia ) REFERENCES abicampania.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dati_regioni_istat ADD FOREIGN KEY fk_0 ( id_regione ) REFERENCES abicampania.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.denominazioni_alternative ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.denominazioni_precedenti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.depositi_legali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.depositi_legali ADD FOREIGN KEY fk_1 ( id_depositi_legali_tipo ) REFERENCES abicampania.depositi_legali_tipo( id_depositi_legali_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.destinazioni_sociali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.destinazioni_sociali ADD FOREIGN KEY fk_1 ( id_destinazioni_sociali_tipo ) REFERENCES abicampania.destinazioni_sociali_tipo( id_destinazioni_sociali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dewey_libero ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dewey_libero ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_0 ( id_ente_tipologia_amministrativa ) REFERENCES abicampania.ente_tipologia_amministrativa( id_ente_tipologia_amministrativa ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_2 ( id_stato ) REFERENCES abicampania.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_speciali ADD FOREIGN KEY fk_0 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali_catalogazione_inventario ) REFERENCES abicampania.fondi_speciali_catalogazione_inventario( id_fondi_speciali_catalogazione_inventario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.geolocalizzazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_comune ( id_comune ) REFERENCES abicampania.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_tipologia_funzionale ( id_tipologia_funzionale ) REFERENCES abicampania.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_login_creatore ( login_creatore ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_login_gestore ( login_gestore ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_id_stato_biblioteca_workflow ( id_stato_biblioteca_workflow ) REFERENCES abicampania.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_chiusure ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_ufficiali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_variazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_1 ( id_cataloghi_collettivi ) REFERENCES abicampania.cataloghi_collettivi( id_cataloghi_collettivi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_4 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_2 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_3 ( id_catalogo_generale_tipo ) REFERENCES abicampania.catalogo_generale_tipo( id_catalogo_generale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_3 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio ADD FOREIGN KEY fk_1 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio_specializzazione ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria ) REFERENCES abicampania.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio_specializzazione_categoria ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria_madre ) REFERENCES abicampania.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_prestito_interbibliotecario_modo ) REFERENCES abicampania.prestito_interbibliotecario_modo( id_prestito_interbibliotecario_modo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_0 ( id_prestito_locale ) REFERENCES abicampania.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_1 ( id_prestito_locale_materiale_escluso ) REFERENCES abicampania.prestito_locale_materiale_escluso( id_prestito_locale_materiale_escluso ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_1 ( id_prestito_locale ) REFERENCES abicampania.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_0 ( id_prestito_locale_utenti_ammessi ) REFERENCES abicampania.prestito_locale_utenti_ammessi( id_prestito_locale_utenti_ammessi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.provincia ADD FOREIGN KEY fk_provincia_regione1 ( id_regione ) REFERENCES abicampania.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.pubblicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.regione ADD FOREIGN KEY fk_regione_stato1 ( id_stato ) REFERENCES abicampania.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.regolamento ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.riproduzioni ADD FOREIGN KEY fk_0 ( id_riproduzioni_tipo ) REFERENCES abicampania.riproduzioni_tipo( id_riproduzioni_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.riproduzioni ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.spogli_bibliografici ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_1 ( id_stato_catalogazione ) REFERENCES abicampania.stato_catalogazione_tipo( id_stato_catalogazione_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_2 ( id_biblioteca_target ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.utenti_has_profili ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.utenti_has_profili ADD FOREIGN KEY fk_1 ( id_profili ) REFERENCES abicampania.profili( id_profili ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]> </string>
		</query>
		<query name="Sql_003" tab_index="-1" >
			<string> <![CDATA[CREATE SCHEMA abicampania;

CREATE TABLE abicampania.accesso_modalita ( 
	id_accesso_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table PRIMARY KEY ( id_accesso_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.bibliografia ( 
	id_bibliografia INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
CONSTRAINT pk_bibliografia PRIMARY KEY ( id_bibliografia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX bibliografia_FKIndex1 ON abicampania.bibliografia ( id_biblioteca );

CREATE TABLE abicampania.biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NOT NULL,
	denominazione_ufficiale VARCHAR( 255 ) NOT NULL,
	indirizzo VARCHAR( 255 ) NULL,
	frazione VARCHAR( 255 ) NULL,
	cap VARCHAR( 5 ) NULL,
	id_comune INT UNSIGNED NOT NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	data_istituzione VARCHAR( 255 ) NULL,
	edificio_denominazione VARCHAR( 255 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	struttura_gerarchica_sovraordinata VARCHAR( 255 ) NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	attivo_accesso_internet BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_fondi_antichi_consistenza INT UNSIGNED NOT NULL,
	id_ente INT UNSIGNED NOT NULL,
	id_tipologia_funzionale INT UNSIGNED NOT NULL,
	procedure_ill_automatizzate BOOL NULL,
	id_biblioteca_padre INT UNSIGNED NULL,
	mq_totali INT UNSIGNED NULL,
	mq_pubblici INT UNSIGNED NULL,
	ml_magazzini INT UNSIGNED NULL,
	ml_aperti INT UNSIGNED NULL,
	posti_lettura INT UNSIGNED NULL,
	posti_video INT UNSIGNED NULL,
	posti_audio INT UNSIGNED NULL,
	posti_internet INT UNSIGNED NULL,
	utenti INT UNSIGNED NULL,
	utenti_under14 INT UNSIGNED NULL DEFAULT 0,
	utenti_iscritti INT UNSIGNED NULL,
	utenti_iscritti_prestito_anno INT UNSIGNED NULL,
	personale_temporaneo INT UNSIGNED NULL,
	personale_esterno INT UNSIGNED NULL,
	personale_part_time INT UNSIGNED NULL,
	personale_totale INT UNSIGNED NULL,
	bilancio_entrate INT UNSIGNED NULL,
	bilancio_uscite INT UNSIGNED NULL,
	bilancio_uscite_personale INT UNSIGNED NULL,
	bilancio_uscite_funzionamento INT UNSIGNED NULL,
	bilancio_uscite_incremento_patrimonio INT UNSIGNED NULL,
	bilancio_uscite_automazione INT UNSIGNED NULL,
	bilancio_uscite_acquisti_anno INT UNSIGNED NULL DEFAULT 0,
	bilancio_uscite_acquisti_ultimi15 INT UNSIGNED NULL DEFAULT 0,
	bilancio_uscite_varie INT UNSIGNED NULL,
	bilancio_patrimoniale_posseduto INT NULL,
	bilancio_patrimoniale_posseduto_under14 INT NULL,
	n_ore_settimanali INT UNSIGNED NULL DEFAULT 0,
	n_ore_settimanali_pom INT UNSIGNED NULL DEFAULT 0,
	n_settim_apertura INT UNSIGNED NULL DEFAULT 0,
	prestito_interbiblio_nazionale BOOL NULL,
	prestito_interbiblio_internazionale BOOL NULL,
	attivo_informazioni_bibliografiche BOOL NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	n_prestiti_interbibliotecari_annuo INT UNSIGNED NULL,
	n_prestiti_locali_annuo INT UNSIGNED NULL,
	catalogazione_data_modifica DATETIME NULL,
	id_utenti INT UNSIGNED NULL,
	id_stato_biblioteca_workflow INT NOT NULL,
	catalogazione_data_import DATETIME NULL,
	catalogazione_data_modifica_remota DATETIME NULL,
	catalogazione_note TEXT NULL,
	catalogazione_data_censimento DATETIME NULL,
	attivo_riproduzioni BOOL NULL,
	attivo_prestito_locale BOOL NULL,
	attivo_reference BOOL NULL,
	reference_locale BOOL NULL,
	reference_online BOOL NULL,
	attivo_document_delivery BOOL NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex1 ON abicampania.biblioteca ( id_ente );

CREATE INDEX biblioteca_FKIndex2 ON abicampania.biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex3 ON abicampania.biblioteca ( id_biblioteca_padre );

CREATE INDEX biblioteca_FKIndex4 ON abicampania.biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_1_fondi_antichi ON abicampania.biblioteca ( id_fondi_antichi_consistenza );

CREATE INDEX idx_1_utentemod ON abicampania.biblioteca ( id_utenti );

CREATE TABLE abicampania.biblioteca_has_accesso_modalita ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_accesso_modalita INT UNSIGNED NOT NULL,
CONSTRAINT chiave_accessomod PRIMARY KEY ( id_accesso_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_accesso_utenti_ammessi ON abicampania.biblioteca_has_accesso_modalita ( id_accesso_modalita );

CREATE TABLE abicampania.biblioteca_has_dewey ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_dewey VARCHAR( 6 ) NOT NULL,
CONSTRAINT pk_special PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_dewey_FKIndex1 ON abicampania.biblioteca_has_dewey ( id_biblioteca );

CREATE INDEX biblioteca_has_dewey_FKIndex2 ON abicampania.biblioteca_has_dewey ( id_dewey );

CREATE TABLE abicampania.biblioteca_has_document_delivery ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_riproduzioni_tipo INT UNSIGNED NOT NULL,
CONSTRAINT pk_bib_has_doc_del PRIMARY KEY ( id_biblioteca, id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_bib_has_doc_del1 ON abicampania.biblioteca_has_document_delivery ( id_biblioteca );

CREATE INDEX idx_bib_has_doc_del2 ON abicampania.biblioteca_has_document_delivery ( id_riproduzioni_tipo );

CREATE TABLE abicampania.biblioteca_has_fondi_speciali ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_fondi_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_fondi_speciali PRIMARY KEY ( id_biblioteca, id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex1 ON abicampania.biblioteca_has_fondi_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex2 ON abicampania.biblioteca_has_fondi_speciali ( id_fondi_speciali );

CREATE TABLE abicampania.biblioteca_has_indicizzazione_classificata ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_indicizzazione_classificata INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_classificata PRIMARY KEY ( id_biblioteca, id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_classificata_FKIndex1 ON abicampania.biblioteca_has_indicizzazione_classificata ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_classificata_FKIndex2 ON abicampania.biblioteca_has_indicizzazione_classificata ( id_indicizzazione_classificata );

CREATE TABLE abicampania.biblioteca_has_indicizzazione_soggetto ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_indicizzazione_soggetto INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_soggetto PRIMARY KEY ( id_biblioteca, id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex1 ON abicampania.biblioteca_has_indicizzazione_soggetto ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex2 ON abicampania.biblioteca_has_indicizzazione_soggetto ( id_indicizzazione_soggetto );

CREATE TABLE abicampania.biblioteca_has_norme_catalogazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_norme_catalogazione INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_norme_catalogazione PRIMARY KEY ( id_biblioteca, id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex1 ON abicampania.biblioteca_has_norme_catalogazione ( id_biblioteca );

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex2 ON abicampania.biblioteca_has_norme_catalogazione ( id_norme_catalogazione );

CREATE TABLE abicampania.biblioteca_has_prestito_interbibliotecario ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_pre_pos_dsc PRIMARY KEY ( id_biblioteca, id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex1 ON abicampania.biblioteca_has_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex2 ON abicampania.biblioteca_has_prestito_interbibliotecario ( id_prestito_interbibliotecario );

CREATE TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ( 
	id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id__servizi_bibliotecari_carta, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abicampania.biblioteca_has_servizi_bibliotecari_carta ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abicampania.biblioteca_has_servizi_bibliotecari_carta ( id__servizi_bibliotecari_carta );

CREATE TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( 
	id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( id_servizi_informazioni_bibliografiche_modalita );

CREATE TABLE abicampania.biblioteca_has_sezioni_speciali ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sezioni_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sezioni_speciali PRIMARY KEY ( id_biblioteca, id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex1 ON abicampania.biblioteca_has_sezioni_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex2 ON abicampania.biblioteca_has_sezioni_speciali ( id_sezioni_speciali );

CREATE TABLE abicampania.biblioteca_has_sistemi_biblioteche ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sistemi_biblioteche INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_partec_sist_biblio PRIMARY KEY ( id_biblioteca, id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex1 ON abicampania.biblioteca_has_sistemi_biblioteche ( id_biblioteca );

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex2 ON abicampania.biblioteca_has_sistemi_biblioteche ( id_sistemi_biblioteche );

CREATE TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sist_pr_interbiblio PRIMARY KEY ( id_biblioteca, id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex1 ON abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex2 ON abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( id_sistemi_prestito_interbibliotecario );

CREATE TABLE abicampania.biblioteca_has_utenti ( 
	id_utenti INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT idx_bibliotecahasutenti PRIMARY KEY ( id_utenti, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.cataloghi_collettivi ( 
	id_cataloghi_collettivi INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
	id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL,
	dettaglio_zona VARCHAR( 50 ) NULL,
CONSTRAINT pk_catal_coll_estens PRIMARY KEY ( id_cataloghi_collettivi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_estensione ON abicampania.cataloghi_collettivi ( id_cataloghi_collettivi_zona_tipo );

CREATE TABLE abicampania.cataloghi_collettivi_materiale_url ( 
	id_cataloghi_collettivi_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_coll_url PRIMARY KEY ( id_cataloghi_collettivi_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_url ON abicampania.cataloghi_collettivi_materiale_url ( id_cataloghi_collettivi_materiale );

CREATE TABLE abicampania.cataloghi_collettivi_zona_tipo ( 
	id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_collettivi_zona_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.cataloghi_generali_url ( 
	id_cataloghi_generali_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_generali INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_gener_url PRIMARY KEY ( id_cataloghi_generali_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_id_cataloghi_generali ON abicampania.cataloghi_generali_url ( id_cataloghi_generali );

CREATE TABLE abicampania.cataloghi_speciali_materiale_url ( 
	id_cataloghi_speciali_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec_url PRIMARY KEY ( id_cataloghi_speciali_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_speciali_url ON abicampania.cataloghi_speciali_materiale_url ( id_cataloghi_speciali_materiale );

CREATE TABLE abicampania.cataloghi_supporto_digitale_tipo ( 
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_supporto_digitale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.catalogo_generale_tipo ( 
	id_catalogo_generale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_catalogo_generale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.codici ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_codici INT UNSIGNED NOT NULL,
	valore VARCHAR( 100 ) NOT NULL,
CONSTRAINT idx_pk_bibliotecacodici PRIMARY KEY ( id_biblioteca, id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_codice ON abicampania.codici ( id_codici );

CREATE INDEX idx_codici ON abicampania.codici ( id_biblioteca );

CREATE TABLE abicampania.codici_tipo ( 
	id_codici INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.comune ( 
	id_comune INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_provincia INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	codice_istat VARCHAR( 6 ) NULL,
	codice_finanze VARCHAR( 6 ) NULL,
CONSTRAINT pk_comune PRIMARY KEY ( id_comune )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comune_FKIndex1 ON abicampania.comune ( id_provincia );

CREATE TABLE abicampania.comunicazioni ( 
	id_comunicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
CONSTRAINT pk_comunicazioni PRIMARY KEY ( id_comunicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comunicazioni_FKIndex1 ON abicampania.comunicazioni ( id_biblioteca );

CREATE TABLE abicampania.contatti ( 
	id_contatti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	id_contatti_tipi INT UNSIGNED NOT NULL,
	valore VARCHAR( 255 ) NOT NULL,
	note VARCHAR( 100 ) NULL,
CONSTRAINT PK_contatti PRIMARY KEY ( id_contatti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.contatti_tipo ( 
	id_contatti_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_1 PRIMARY KEY ( id_contatti_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dati_province_istat ( 
	id_provincia INT UNSIGNED NOT NULL,
	totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
CONSTRAINT pk_dati_province_istat PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dati_regioni_istat ( 
	id_regione INT UNSIGNED NOT NULL,
	totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
	descrizione_zona VARCHAR( 20 ) NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_dati_regioni_istat PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.denominazioni_alternative ( 
	id_denominazioni_alternative INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_anche PRIMARY KEY ( id_denominazioni_alternative )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_anche_FKIndex1 ON abicampania.denominazioni_alternative ( id_biblioteca );

CREATE TABLE abicampania.denominazioni_precedenti ( 
	id_denominazioni_precedenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_gia PRIMARY KEY ( id_denominazioni_precedenti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_gia_FKIndex1 ON abicampania.denominazioni_precedenti ( id_biblioteca );

CREATE TABLE abicampania.depositi_legali ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_depositi_legali_tipo INT UNSIGNED NOT NULL,
	da_anno VARCHAR( 10 ) NULL,
CONSTRAINT pk_biblioteca_has_deposito_legale PRIMARY KEY ( id_biblioteca, id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.depositi_legali_tipo ( 
	id_depositi_legali_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_deposito_legale PRIMARY KEY ( id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.destinazioni_sociali ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_destinazioni_sociali_tipo INT UNSIGNED NOT NULL,
	note VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_destinaz_sociale PRIMARY KEY ( id_biblioteca, id_destinazioni_sociali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.destinazioni_sociali_tipo ( 
	id_destinazioni_sociali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_destinaz_sociale PRIMARY KEY ( id_destinazioni_sociali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dewey ( 
	id_dewey VARCHAR( 6 ) NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_dewey PRIMARY KEY ( id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dewey_libero ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_dewey VARCHAR( 6 ) NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_dewey_lib PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.ente ( 
	id_ente INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_stato INT UNSIGNED NOT NULL,
	id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	asia_asip VARCHAR( 11 ) NULL,
CONSTRAINT pk_ente PRIMARY KEY ( id_ente )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX ente_FKIndex2 ON abicampania.ente ( id_ente_tipologia_amministrativa );

CREATE INDEX ente_FKIndex3 ON abicampania.ente ( id_stato );

CREATE TABLE abicampania.ente_tipologia_amministrativa ( 
	id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_ente PRIMARY KEY ( id_ente_tipologia_amministrativa )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.fondi_antichi_consistenza ( 
	id_fondi_antichi_consistenza INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_fondi_antichi_consistenza )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.fondi_speciali ( 
	id_fondi_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_dewey VARCHAR( 6 ) NULL,
	denominazione VARCHAR( 255 ) NOT NULL,
	fondo_depositato BOOL NULL,
	descrizione VARCHAR( 255 ) NULL,
	id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL,
	catalogazione_inventario_url VARCHAR( 255 ) NULL,
	citazione_bibliografica TEXT NULL,
CONSTRAINT pk_fondi_speciali PRIMARY KEY ( id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX fondi_speciali_FKIndex1 ON abicampania.fondi_speciali ( id_dewey );

CREATE INDEX idx_fondi_speciali ON abicampania.fondi_speciali ( id_fondi_speciali_catalogazione_inventario );

CREATE TABLE abicampania.fondi_speciali_catalogazione_inventario ( 
	id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_fondi_speciali_catalogazione_inventario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.geolocalizzazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	latitudine DOUBLE NULL,
	longitudine DOUBLE NULL,
	precisione VARCHAR( 50 ) NULL,
	warning TEXT NULL,
	error TEXT NULL,
CONSTRAINT pk_id_bib PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.indicizzazione_classificata ( 
	id_indicizzazione_classificata INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_classificata PRIMARY KEY ( id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.indicizzazione_soggetto ( 
	id_indicizzazione_soggetto INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_soggetto PRIMARY KEY ( id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.norme_catalogazione ( 
	id_norme_catalogazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_norme_catalogazione PRIMARY KEY ( id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.nuova_biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NULL,
	denominazione_ufficiale VARCHAR( 255 ) NULL,
	id_comune INT UNSIGNED NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_tipologia_funzionale INT UNSIGNED NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	login_creatore INT UNSIGNED NULL,
	login_gestore INT UNSIGNED NULL,
	id_stato_biblioteca_workflow INT NOT NULL,
	ente_denominazione VARCHAR( 255 ) NULL,
	ente_tipologia_amministrativa VARCHAR( 255 ) NULL,
	ente_stato VARCHAR( 255 ) NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex2 ON abicampania.nuova_biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex4 ON abicampania.nuova_biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_login_creatore ON abicampania.nuova_biblioteca ( login_creatore );

CREATE INDEX idx_login_gestore ON abicampania.nuova_biblioteca ( login_gestore );

CREATE INDEX idx_nuova_biblioteca ON abicampania.nuova_biblioteca ( id_stato_biblioteca_workflow );

CREATE TABLE abicampania.orario_chiusure ( 
	id_orario_chiusure INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_periodo_chiusura PRIMARY KEY ( id_orario_chiusure )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX periodo_chiusura_FKIndex1 ON abicampania.orario_chiusure ( id_biblioteca );

CREATE TABLE abicampania.orario_ufficiali ( 
	id_orario_ufficiali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	giorno INT NOT NULL,
	dalle TIME NOT NULL,
	alle TIME NOT NULL,
CONSTRAINT pk_orario_ufficiale PRIMARY KEY ( id_orario_ufficiali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orario_ufficiale_FKIndex1 ON abicampania.orario_ufficiali ( id_biblioteca );

CREATE TABLE abicampania.orario_variazioni ( 
	id_orario_variazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
	giorno INT NULL,
	dalle TIME NULL,
	alle TIME NULL,
CONSTRAINT pk_orari_variazioni PRIMARY KEY ( id_orario_variazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orari_variazioni_FKIndex1 ON abicampania.orario_variazioni ( id_biblioteca );

CREATE TABLE abicampania.partecipa_cataloghi_collettivi_materiale ( 
	id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_collettivi INT UNSIGNED NOT NULL,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
CONSTRAINT pk_catal_coll PRIMARY KEY ( id_cataloghi_collettivi_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_coll_FKIndex1 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_biblioteca );

CREATE INDEX catal_coll_FKIndex2 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_patrimonio_specializzazione );

CREATE INDEX catal_coll_FKIndex3 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_collettivi );

CREATE INDEX idx_cataloghi_collettivi ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abicampania.partecipa_cataloghi_generali ( 
	id_cataloghi_generali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
	id_catalogo_generale_tipo INT UNSIGNED NOT NULL,
CONSTRAINT pk_catal_gener PRIMARY KEY ( id_cataloghi_generali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX cataloghi_gener_FKIndex1 ON abicampania.partecipa_cataloghi_generali ( id_biblioteca );

CREATE INDEX idx_cataloghi_generali ON abicampania.partecipa_cataloghi_generali ( id_cataloghi_supporto_digitale_tipo );

CREATE INDEX idx_1_cataloghi_generali_tipo ON abicampania.partecipa_cataloghi_generali ( id_catalogo_generale_tipo );

CREATE TABLE abicampania.partecipa_cataloghi_speciali_materiale ( 
	id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec PRIMARY KEY ( id_cataloghi_speciali_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_spec_FKIndex1 ON abicampania.partecipa_cataloghi_speciali_materiale ( id_biblioteca );

CREATE INDEX catal_spec_FKIndex2 ON abicampania.partecipa_cataloghi_speciali_materiale ( id_patrimonio_specializzazione );

CREATE INDEX idx_cataloghi_speciali ON abicampania.partecipa_cataloghi_speciali_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abicampania.patrimonio ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	quantita INT UNSIGNED NOT NULL,
	quantita_ultimo_anno INT UNSIGNED NOT NULL,
CONSTRAINT idx_1 PRIMARY KEY ( id_biblioteca, id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.patrimonio_specializzazione ( 
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec PRIMARY KEY ( id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_FKIndex1 ON abicampania.patrimonio_specializzazione ( id_patrimonio_specializzazione_categoria );

CREATE TABLE abicampania.patrimonio_specializzazione_categoria ( 
	id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione_categoria_madre INT UNSIGNED NULL,
	descrizione TEXT NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec_cat PRIMARY KEY ( id_patrimonio_specializzazione_categoria )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_cat_FKIndex1 ON abicampania.patrimonio_specializzazione_categoria ( id_patrimonio_specializzazione_categoria_madre );

CREATE TABLE abicampania.prestito_interbibliotecario ( 
	id_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	nazionale BOOL NULL,
	internazionale BOOL NULL,
	id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL,
CONSTRAINT pk_pre_pos_dsc PRIMARY KEY ( id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_prestito_interbibliotecario ON abicampania.prestito_interbibliotecario ( id_prestito_interbibliotecario_modo );

CREATE TABLE abicampania.prestito_interbibliotecario_modo ( 
	id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_prestito_interbibliotecario_modo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.prestito_locale ( 
	id_prestito_locale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	automatizzato BOOL NULL,
	durata_giorni INT UNSIGNED NULL,
CONSTRAINT pk_prestito_locale PRIMARY KEY ( id_prestito_locale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_FKIndex1 ON abicampania.prestito_locale ( id_biblioteca );

CREATE TABLE abicampania.prestito_locale_has_materiale_escluso ( 
	id_prestito_locale INT UNSIGNED NOT NULL,
	id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_escluso PRIMARY KEY ( id_prestito_locale, id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex1 ON abicampania.prestito_locale_has_materiale_escluso ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex2 ON abicampania.prestito_locale_has_materiale_escluso ( id_prestito_locale_materiale_escluso );

CREATE TABLE abicampania.prestito_locale_has_utenti_ammessi ( 
	id_prestito_locale INT UNSIGNED NOT NULL,
	id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_zona PRIMARY KEY ( id_prestito_locale, id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_zona_FKIndex1 ON abicampania.prestito_locale_has_utenti_ammessi ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_zona_FKIndex2 ON abicampania.prestito_locale_has_utenti_ammessi ( id_prestito_locale_utenti_ammessi );

CREATE TABLE abicampania.prestito_locale_materiale_escluso ( 
	id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_escluso PRIMARY KEY ( id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.prestito_locale_utenti_ammessi ( 
	id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_zona PRIMARY KEY ( id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.profili ( 
	id_profili INT UNSIGNED NOT NULL AUTO_INCREMENT,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_profili PRIMARY KEY ( id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.provincia ( 
	id_provincia INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_regione INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	codice_istat VARCHAR( 10 ) NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_provincia PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX provincia_FKIndex1 ON abicampania.provincia ( id_regione );

CREATE TABLE abicampania.pubblicazioni ( 
	id_pubblicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_biblioteca_has_pubblicazioni PRIMARY KEY ( id_pubblicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pubblicazioni_FKIndex1 ON abicampania.pubblicazioni ( id_biblioteca );

CREATE TABLE abicampania.regione ( 
	id_regione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_stato INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_regione PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regione_FKIndex1 ON abicampania.regione ( id_stato );

CREATE TABLE abicampania.regolamento ( 
	id_regolamento INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	riferimento_normativa VARCHAR( 255 ) NULL,
	url VARCHAR( 255 ) NULL,
CONSTRAINT pk_regolamento PRIMARY KEY ( id_regolamento )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regolamento_FKIndex1 ON abicampania.regolamento ( id_biblioteca );

CREATE TABLE abicampania.riproduzioni ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_riproduzioni_tipo INT UNSIGNED NOT NULL,
	locale BOOL NULL,
	nazionale BOOL NULL,
	internazionale BOOL NULL,
CONSTRAINT idx PRIMARY KEY ( id_biblioteca, id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.riproduzioni_tipo ( 
	id_riproduzioni_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_tipo_riproduzioni PRIMARY KEY ( id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.servizi_bibliotecari_carta ( 
	id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id__servizi_bibliotecari_carta )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.servizi_informazioni_bibliografiche_modalita ( 
	id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sezioni_speciali ( 
	id_sezioni_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_sezioni_speciali PRIMARY KEY ( id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sistemi_biblioteche ( 
	id_sistemi_biblioteche INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_partec_sist_biblio PRIMARY KEY ( id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sistemi_prestito_interbibliotecario ( 
	id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
	url VARCHAR( 255 ) NULL,
CONSTRAINT pk_sist_pr_interbiblio PRIMARY KEY ( id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.spogli_bibliografici ( 
	id_spogli_bibliografici INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione_bibliografica TEXT NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_spogli_bibliografici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_spogli_bibliografici ON abicampania.spogli_bibliografici ( id_biblioteca );

CREATE TABLE abicampania.stato ( 
	id_stato INT UNSIGNED NOT NULL AUTO_INCREMENT,
	denominazione VARCHAR( 100 ) NOT NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_stato PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.stato_biblioteca_workflow ( 
	id_stato INT NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
	label VARCHAR( 64 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.stato_catalogazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_stato_catalogazione INT UNSIGNED NOT NULL,
	id_biblioteca_target INT UNSIGNED NULL,
CONSTRAINT pk_biblioteca_has_stato_catalogazione PRIMARY KEY ( id_biblioteca, id_stato_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_stato_catalogazione ON abicampania.stato_catalogazione ( id_biblioteca_target );

CREATE TABLE abicampania.stato_catalogazione_tipo ( 
	id_stato_catalogazione_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 100 ) NULL,
CONSTRAINT pk_stato_catalogazione PRIMARY KEY ( id_stato_catalogazione_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.tipologia_funzionale ( 
	id_tipologia_funzionale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_tipologia_funzionale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.utenti ( 
	id_utenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	login VARCHAR( 20 ) NOT NULL,
	password VARCHAR( 50 ) NOT NULL,
	nome VARCHAR( 255 ) NULL,
	cognome VARCHAR( 255 ) NULL,
	tel VARCHAR( 50 ) NULL,
	fax VARCHAR( 50 ) NULL,
	email VARCHAR( 50 ) NULL,
	incarico VARCHAR( 50 ) NULL,
	note VARCHAR( 255 ) NULL,
	data_modifica_password DATETIME NULL,
	enabled BOOL NOT NULL DEFAULT 1,
	codice_validazione VARCHAR( 50 ) NULL,
CONSTRAINT PK_utenti PRIMARY KEY ( id_utenti ),
CONSTRAINT login UNIQUE ( login )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

ALTER TABLE abicampania.utenti MODIFY data_modifica_password DATETIME COMMENT 'data di ultima generazione della password';

CREATE TABLE abicampania.utenti_has_profili ( 
	id_utenti INT UNSIGNED NOT NULL,
	id_profili INT UNSIGNED NOT NULL,
CONSTRAINT pk_utenti_has_profili PRIMARY KEY ( id_utenti, id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX utenti_has_profili_FKIndex1 ON abicampania.utenti_has_profili ( id_utenti );

CREATE INDEX utenti_has_profili_FKIndex2 ON abicampania.utenti_has_profili ( id_profili );

ALTER TABLE abicampania.bibliografia ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_0 ( id_comune ) REFERENCES abicampania.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_2 ( id_tipologia_funzionale ) REFERENCES abicampania.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_3 ( id_ente ) REFERENCES abicampania.ente( id_ente ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_4 ( id_biblioteca_padre ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_1 ( id_fondi_antichi_consistenza ) REFERENCES abicampania.fondi_antichi_consistenza( id_fondi_antichi_consistenza ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_5 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_6 ( id_stato_biblioteca_workflow ) REFERENCES abicampania.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_1 ( id_accesso_modalita ) REFERENCES abicampania.accesso_modalita( id_accesso_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_dewey ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_dewey ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_document_delivery ADD FOREIGN KEY fk_ripro_tipo ( id_riproduzioni_tipo ) REFERENCES abicampania.riproduzioni_tipo( id_riproduzioni_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_document_delivery ADD FOREIGN KEY fk_biblioteca ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali ) REFERENCES abicampania.fondi_speciali( id_fondi_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_1 ( id_indicizzazione_classificata ) REFERENCES abicampania.indicizzazione_classificata( id_indicizzazione_classificata ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_1 ( id_indicizzazione_soggetto ) REFERENCES abicampania.indicizzazione_soggetto( id_indicizzazione_soggetto ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_1 ( id_norme_catalogazione ) REFERENCES abicampania.norme_catalogazione( id_norme_catalogazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_prestito_interbibliotecario ) REFERENCES abicampania.prestito_interbibliotecario( id_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_1 ( id__servizi_bibliotecari_carta ) REFERENCES abicampania.servizi_bibliotecari_carta( id__servizi_bibliotecari_carta ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_1 ( id_servizi_informazioni_bibliografiche_modalita ) REFERENCES abicampania.servizi_informazioni_bibliografiche_modalita( id_servizi_informazioni_bibliografiche_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_1 ( id_sezioni_speciali ) REFERENCES abicampania.sezioni_speciali( id_sezioni_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_1 ( id_sistemi_biblioteche ) REFERENCES abicampania.sistemi_biblioteche( id_sistemi_biblioteche ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_sistemi_prestito_interbibliotecario ) REFERENCES abicampania.sistemi_prestito_interbibliotecario( id_sistemi_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_utenti ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_utenti ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_collettivi ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_zona_tipo ) REFERENCES abicampania.cataloghi_collettivi_zona_tipo( id_cataloghi_collettivi_zona_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_collettivi_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_materiale ) REFERENCES abicampania.partecipa_cataloghi_collettivi_materiale( id_cataloghi_collettivi_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_generali_url ADD FOREIGN KEY fk_cataloghi_generali_url ( id_cataloghi_generali ) REFERENCES abicampania.partecipa_cataloghi_generali( id_cataloghi_generali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_speciali_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_speciali_materiale ) REFERENCES abicampania.partecipa_cataloghi_speciali_materiale( id_cataloghi_speciali_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.codici ADD FOREIGN KEY fk_0 ( id_codici ) REFERENCES abicampania.codici_tipo( id_codici ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.codici ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.comune ADD FOREIGN KEY fk_comune_provincia1 ( id_provincia ) REFERENCES abicampania.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.comunicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.contatti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.contatti ADD FOREIGN KEY fk_1 ( id_contatti_tipi ) REFERENCES abicampania.contatti_tipo( id_contatti_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dati_province_istat ADD FOREIGN KEY fk_0 ( id_provincia ) REFERENCES abicampania.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dati_regioni_istat ADD FOREIGN KEY fk_0 ( id_regione ) REFERENCES abicampania.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.denominazioni_alternative ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.denominazioni_precedenti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.depositi_legali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.depositi_legali ADD FOREIGN KEY fk_1 ( id_depositi_legali_tipo ) REFERENCES abicampania.depositi_legali_tipo( id_depositi_legali_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.destinazioni_sociali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.destinazioni_sociali ADD FOREIGN KEY fk_1 ( id_destinazioni_sociali_tipo ) REFERENCES abicampania.destinazioni_sociali_tipo( id_destinazioni_sociali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dewey_libero ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dewey_libero ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_0 ( id_ente_tipologia_amministrativa ) REFERENCES abicampania.ente_tipologia_amministrativa( id_ente_tipologia_amministrativa ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_2 ( id_stato ) REFERENCES abicampania.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_speciali ADD FOREIGN KEY fk_0 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali_catalogazione_inventario ) REFERENCES abicampania.fondi_speciali_catalogazione_inventario( id_fondi_speciali_catalogazione_inventario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.geolocalizzazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_comune ( id_comune ) REFERENCES abicampania.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_tipologia_funzionale ( id_tipologia_funzionale ) REFERENCES abicampania.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_login_creatore ( login_creatore ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_login_gestore ( login_gestore ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_id_stato_biblioteca_workflow ( id_stato_biblioteca_workflow ) REFERENCES abicampania.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_chiusure ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_ufficiali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_variazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_1 ( id_cataloghi_collettivi ) REFERENCES abicampania.cataloghi_collettivi( id_cataloghi_collettivi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_4 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_2 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_3 ( id_catalogo_generale_tipo ) REFERENCES abicampania.catalogo_generale_tipo( id_catalogo_generale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_3 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio ADD FOREIGN KEY fk_1 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio_specializzazione ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria ) REFERENCES abicampania.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio_specializzazione_categoria ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria_madre ) REFERENCES abicampania.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_prestito_interbibliotecario_modo ) REFERENCES abicampania.prestito_interbibliotecario_modo( id_prestito_interbibliotecario_modo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_0 ( id_prestito_locale ) REFERENCES abicampania.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_1 ( id_prestito_locale_materiale_escluso ) REFERENCES abicampania.prestito_locale_materiale_escluso( id_prestito_locale_materiale_escluso ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_1 ( id_prestito_locale ) REFERENCES abicampania.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_0 ( id_prestito_locale_utenti_ammessi ) REFERENCES abicampania.prestito_locale_utenti_ammessi( id_prestito_locale_utenti_ammessi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.provincia ADD FOREIGN KEY fk_provincia_regione1 ( id_regione ) REFERENCES abicampania.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.pubblicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.regione ADD FOREIGN KEY fk_regione_stato1 ( id_stato ) REFERENCES abicampania.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.regolamento ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.riproduzioni ADD FOREIGN KEY fk_0 ( id_riproduzioni_tipo ) REFERENCES abicampania.riproduzioni_tipo( id_riproduzioni_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.riproduzioni ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.spogli_bibliografici ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_1 ( id_stato_catalogazione ) REFERENCES abicampania.stato_catalogazione_tipo( id_stato_catalogazione_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_2 ( id_biblioteca_target ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.utenti_has_profili ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.utenti_has_profili ADD FOREIGN KEY fk_1 ( id_profili ) REFERENCES abicampania.profili( id_profili ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]> </string>
		</query>
	</layout>
	<layout name="tabelle_dinamiche" tab_index="-1" >
		<entity schema="abipuglia" name="accesso_modalita" x="663" y="520" />
		<entity schema="abipuglia" name="cataloghi_collettivi" x="377" y="403" />
		<entity schema="abipuglia" name="cataloghi_collettivi_zona_tipo" x="39" y="429" />
		<entity schema="abipuglia" name="cataloghi_supporto_digitale_tipo" x="52" y="1131" />
		<entity schema="abipuglia" name="catalogo_generale_tipo" x="689" y="429" />
		<entity schema="abipuglia" name="codici_tipo" x="208" y="871" />
		<entity schema="abipuglia" name="comune" x="39" y="156" />
		<entity schema="abipuglia" name="contatti_tipo" x="52" y="871" />
		<entity schema="abipuglia" name="dati_province_istat" x="208" y="39" />
		<entity schema="abipuglia" name="dati_regioni_istat" x="390" y="39" />
		<entity schema="abipuglia" name="depositi_legali_tipo" x="52" y="1378" />
		<entity schema="abipuglia" name="destinazioni_sociali_tipo" x="468" y="520" />
		<entity schema="abipuglia" name="dewey" x="182" y="793" />
		<entity schema="abipuglia" name="ente_tipologia_amministrativa" x="286" y="611" />
		<entity schema="abipuglia" name="fondi_antichi_consistenza" x="52" y="1690" />
		<entity schema="abipuglia" name="fondi_speciali_catalogazione_inventario" x="52" y="1053" />
		<entity schema="abipuglia" name="indicizzazione_classificata" x="52" y="1612" />
		<entity schema="abipuglia" name="indicizzazione_soggetto" x="273" y="1612" />
		<entity schema="abipuglia" name="norme_catalogazione" x="52" y="1456" />
		<entity schema="abipuglia" name="patrimonio_specializzazione" x="39" y="286" />
		<entity schema="abipuglia" name="patrimonio_specializzazione_categoria" x="338" y="286" />
		<entity schema="abipuglia" name="prestito_interbibliotecario_modo" x="780" y="1209" />
		<entity schema="abipuglia" name="prestito_locale_materiale_escluso" x="286" y="1209" />
		<entity schema="abipuglia" name="prestito_locale_utenti_ammessi" x="52" y="1209" />
		<entity schema="abipuglia" name="provincia" x="208" y="156" />
		<entity schema="abipuglia" name="regione" x="390" y="156" />
		<entity schema="abipuglia" name="riproduzioni_tipo" x="637" y="962" />
		<entity schema="abipuglia" name="servizi_bibliotecari_carta" x="52" y="962" />
		<entity schema="abipuglia" name="servizi_informazioni_bibliografiche_modalita" x="286" y="962" />
		<entity schema="abipuglia" name="sezioni_speciali" x="52" y="1300" />
		<entity schema="abipuglia" name="sistemi_biblioteche" x="52" y="1534" />
		<entity schema="abipuglia" name="sistemi_prestito_interbibliotecario" x="533" y="1209" />
		<entity schema="abipuglia" name="stato" x="559" y="156" />
		<entity schema="abipuglia" name="stato_catalogazione_tipo" x="52" y="702" />
		<entity schema="abipuglia" name="tipologia_funzionale" x="65" y="611" />
		<query name="Sql_000" tab_index="-1" >
			<string> <![CDATA[CREATE SCHEMA abicampania;

CREATE TABLE abicampania.accesso_modalita ( 
	id_accesso_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table PRIMARY KEY ( id_accesso_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.bibliografia ( 
	id_bibliografia INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
CONSTRAINT pk_bibliografia PRIMARY KEY ( id_bibliografia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX bibliografia_FKIndex1 ON abicampania.bibliografia ( id_biblioteca );

CREATE TABLE abicampania.biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NOT NULL,
	denominazione_ufficiale VARCHAR( 255 ) NOT NULL,
	indirizzo VARCHAR( 255 ) NULL,
	frazione VARCHAR( 255 ) NULL,
	cap VARCHAR( 5 ) NULL,
	id_comune INT UNSIGNED NOT NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	data_istituzione VARCHAR( 255 ) NULL,
	edificio_denominazione VARCHAR( 255 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	struttura_gerarchica_sovraordinata VARCHAR( 255 ) NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	accesso_limite_eta_min INT UNSIGNED NULL,
	accesso_limite_eta_max INT UNSIGNED NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_fondi_antichi_consistenza INT UNSIGNED NOT NULL,
	id_ente INT UNSIGNED NOT NULL,
	id_tipologia_funzionale INT UNSIGNED NOT NULL,
	procedure_ill_automatizzate BOOL NULL,
	id_biblioteca_padre INT UNSIGNED NULL,
	mq_totali INT UNSIGNED NULL,
	mq_pubblici INT UNSIGNED NULL,
	ml_magazzini INT UNSIGNED NULL,
	ml_aperti INT UNSIGNED NULL,
	posti_lettura INT UNSIGNED NULL,
	posti_video INT UNSIGNED NULL,
	posti_audio INT UNSIGNED NULL,
	posti_internet INT UNSIGNED NULL,
	utenti INT UNSIGNED NULL,
	utenti_under14 INT UNSIGNED NULL DEFAULT 0,
	utenti_iscritti INT UNSIGNED NULL,
	utenti_iscritti_prestito_anno INT UNSIGNED NULL,
	personale_temporaneo INT UNSIGNED NULL,
	personale_esterno INT UNSIGNED NULL,
	personale_part_time INT UNSIGNED NULL,
	personale_totale INT UNSIGNED NULL,
	bilancio_entrate INT UNSIGNED NULL,
	bilancio_uscite INT UNSIGNED NULL,
	bilancio_uscite_personale INT UNSIGNED NULL,
	bilancio_uscite_funzionamento INT UNSIGNED NULL,
	bilancio_uscite_incremento_patrimonio INT UNSIGNED NULL,
	bilancio_uscite_automazione INT UNSIGNED NULL,
	bilancio_uscite_acquisti_anno INT UNSIGNED NULL DEFAULT 0,
	bilancio_uscite_acquisti_ultimi15 INT UNSIGNED NULL DEFAULT 0,
	bilancio_uscite_varie INT UNSIGNED NULL,
	bilancio_patrimoniale_posseduto INT NULL,
	bilancio_patrimoniale_posseduto_under14 INT NULL,
	n_ore_settimanali INT UNSIGNED NULL DEFAULT 0,
	n_ore_settimanali_pom INT UNSIGNED NULL DEFAULT 0,
	n_settim_apertura INT UNSIGNED NULL DEFAULT 0,
	prestito_interbiblio_nazionale BOOL NULL,
	prestito_interbiblio_internazionale BOOL NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	n_prestiti_interbibliotecari_annuo INT UNSIGNED NULL,
	n_prestiti_locali_annuo INT UNSIGNED NULL,
	catalogazione_data_modifica DATETIME NULL,
	id_utenti INT UNSIGNED NULL,
	id_stato_biblioteca_workflow INT NOT NULL,
	catalogazione_data_import DATETIME NULL,
	catalogazione_data_modifica_remota DATETIME NULL,
	catalogazione_note TEXT NULL,
	catalogazione_data_censimento DATETIME NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex1 ON abicampania.biblioteca ( id_ente );

CREATE INDEX biblioteca_FKIndex2 ON abicampania.biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex3 ON abicampania.biblioteca ( id_biblioteca_padre );

CREATE INDEX biblioteca_FKIndex4 ON abicampania.biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_1_fondi_antichi ON abicampania.biblioteca ( id_fondi_antichi_consistenza );

CREATE INDEX idx_1_utentemod ON abicampania.biblioteca ( id_utenti );

CREATE TABLE abicampania.biblioteca_has_accesso_modalita ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_accesso_modalita INT UNSIGNED NOT NULL,
CONSTRAINT chiave_accessomod PRIMARY KEY ( id_accesso_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_accesso_utenti_ammessi ON abicampania.biblioteca_has_accesso_modalita ( id_accesso_modalita );

CREATE TABLE abicampania.biblioteca_has_dewey ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_dewey VARCHAR( 6 ) NOT NULL,
CONSTRAINT pk_special PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_dewey_FKIndex1 ON abicampania.biblioteca_has_dewey ( id_biblioteca );

CREATE INDEX biblioteca_has_dewey_FKIndex2 ON abicampania.biblioteca_has_dewey ( id_dewey );

CREATE TABLE abicampania.biblioteca_has_fondi_speciali ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_fondi_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_fondi_speciali PRIMARY KEY ( id_biblioteca, id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex1 ON abicampania.biblioteca_has_fondi_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_fondi_speciali_FKIndex2 ON abicampania.biblioteca_has_fondi_speciali ( id_fondi_speciali );

CREATE TABLE abicampania.biblioteca_has_indicizzazione_classificata ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_indicizzazione_classificata INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_classificata PRIMARY KEY ( id_biblioteca, id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_classificata_FKIndex1 ON abicampania.biblioteca_has_indicizzazione_classificata ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_classificata_FKIndex2 ON abicampania.biblioteca_has_indicizzazione_classificata ( id_indicizzazione_classificata );

CREATE TABLE abicampania.biblioteca_has_indicizzazione_soggetto ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_indicizzazione_soggetto INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_indic_soggetto PRIMARY KEY ( id_biblioteca, id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex1 ON abicampania.biblioteca_has_indicizzazione_soggetto ( id_biblioteca );

CREATE INDEX biblioteca_has_indic_soggetto_FKIndex2 ON abicampania.biblioteca_has_indicizzazione_soggetto ( id_indicizzazione_soggetto );

CREATE TABLE abicampania.biblioteca_has_norme_catalogazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_norme_catalogazione INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_norme_catalogazione PRIMARY KEY ( id_biblioteca, id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex1 ON abicampania.biblioteca_has_norme_catalogazione ( id_biblioteca );

CREATE INDEX biblioteca_has_norme_catalogazione_FKIndex2 ON abicampania.biblioteca_has_norme_catalogazione ( id_norme_catalogazione );

CREATE TABLE abicampania.biblioteca_has_prestito_interbibliotecario ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_pre_pos_dsc PRIMARY KEY ( id_biblioteca, id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex1 ON abicampania.biblioteca_has_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_pre_pos_dsc_FKIndex2 ON abicampania.biblioteca_has_prestito_interbibliotecario ( id_prestito_interbibliotecario );

CREATE TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ( 
	id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id__servizi_bibliotecari_carta, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abicampania.biblioteca_has_servizi_bibliotecari_carta ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abicampania.biblioteca_has_servizi_bibliotecari_carta ( id__servizi_bibliotecari_carta );

CREATE TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( 
	id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT pk_servizi_biblio PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX servizi_biblio_FKIndex1 ON abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( id_biblioteca );

CREATE INDEX idx_biblioteca_has_servizi_bibliotecari ON abicampania.biblioteca_has_servizi_informazioni_bibliografiche ( id_servizi_informazioni_bibliografiche_modalita );

CREATE TABLE abicampania.biblioteca_has_sezioni_speciali ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sezioni_speciali INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sezioni_speciali PRIMARY KEY ( id_biblioteca, id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex1 ON abicampania.biblioteca_has_sezioni_speciali ( id_biblioteca );

CREATE INDEX biblioteca_has_sezioni_speciali_FKIndex2 ON abicampania.biblioteca_has_sezioni_speciali ( id_sezioni_speciali );

CREATE TABLE abicampania.biblioteca_has_sistemi_biblioteche ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sistemi_biblioteche INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_partec_sist_biblio PRIMARY KEY ( id_biblioteca, id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex1 ON abicampania.biblioteca_has_sistemi_biblioteche ( id_biblioteca );

CREATE INDEX biblioteca_has_partec_sist_biblio_FKIndex2 ON abicampania.biblioteca_has_sistemi_biblioteche ( id_sistemi_biblioteche );

CREATE TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL,
CONSTRAINT pk_biblioteca_has_sist_pr_interbiblio PRIMARY KEY ( id_biblioteca, id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex1 ON abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( id_biblioteca );

CREATE INDEX biblioteca_has_sist_pr_interbiblio_FKIndex2 ON abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ( id_sistemi_prestito_interbibliotecario );

CREATE TABLE abicampania.biblioteca_has_thesaurus ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_thesaurus INT UNSIGNED NOT NULL,
CONSTRAINT pk_amministrata PRIMARY KEY ( id_biblioteca, id_thesaurus )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_thesaurus_FKIndex1 ON abicampania.biblioteca_has_thesaurus ( id_biblioteca );

CREATE INDEX biblioteca_has_thesaurus_FKIndex2 ON abicampania.biblioteca_has_thesaurus ( id_thesaurus );

CREATE TABLE abicampania.biblioteca_has_utenti ( 
	id_utenti INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
CONSTRAINT idx_bibliotecahasutenti PRIMARY KEY ( id_utenti, id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.cataloghi_collettivi ( 
	id_cataloghi_collettivi INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
	id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL,
	dettaglio_zona VARCHAR( 50 ) NULL,
CONSTRAINT pk_catal_coll_estens PRIMARY KEY ( id_cataloghi_collettivi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_estensione ON abicampania.cataloghi_collettivi ( id_cataloghi_collettivi_zona_tipo );

CREATE TABLE abicampania.cataloghi_collettivi_materiale_url ( 
	id_cataloghi_collettivi_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_coll_url PRIMARY KEY ( id_cataloghi_collettivi_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_collettivi_url ON abicampania.cataloghi_collettivi_materiale_url ( id_cataloghi_collettivi_materiale );

CREATE TABLE abicampania.cataloghi_collettivi_zona_tipo ( 
	id_cataloghi_collettivi_zona_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_collettivi_zona_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.cataloghi_generali_url ( 
	id_cataloghi_generali_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_generali INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_gener_url PRIMARY KEY ( id_cataloghi_generali_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_id_cataloghi_generali ON abicampania.cataloghi_generali_url ( id_cataloghi_generali );

CREATE TABLE abicampania.cataloghi_speciali_materiale_url ( 
	id_cataloghi_speciali_materiale_url INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL,
	url VARCHAR( 255 ) NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec_url PRIMARY KEY ( id_cataloghi_speciali_materiale_url )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_cataloghi_speciali_url ON abicampania.cataloghi_speciali_materiale_url ( id_cataloghi_speciali_materiale );

CREATE TABLE abicampania.cataloghi_supporto_digitale_tipo ( 
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_cataloghi_supporto_digitale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.catalogo_generale_tipo ( 
	id_catalogo_generale_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_catalogo_generale_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.codici ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_codici INT UNSIGNED NOT NULL,
	valore VARCHAR( 100 ) NOT NULL,
CONSTRAINT idx_pk_bibliotecacodici PRIMARY KEY ( id_biblioteca, id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_biblioteca_has_codice ON abicampania.codici ( id_codici );

CREATE INDEX idx_codici ON abicampania.codici ( id_biblioteca );

CREATE TABLE abicampania.codici_tipo ( 
	id_codici INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_codici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.comune ( 
	id_comune INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_provincia INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	codice_istat VARCHAR( 6 ) NULL,
	codice_finanze VARCHAR( 6 ) NULL,
CONSTRAINT pk_comune PRIMARY KEY ( id_comune )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comune_FKIndex1 ON abicampania.comune ( id_provincia );

CREATE TABLE abicampania.comunicazioni ( 
	id_comunicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
CONSTRAINT pk_comunicazioni PRIMARY KEY ( id_comunicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX comunicazioni_FKIndex1 ON abicampania.comunicazioni ( id_biblioteca );

CREATE TABLE abicampania.contatti ( 
	id_contatti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	id_contatti_tipi INT UNSIGNED NOT NULL,
	valore VARCHAR( 255 ) NOT NULL,
	note VARCHAR( 100 ) NULL,
CONSTRAINT PK_contatti PRIMARY KEY ( id_contatti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.contatti_tipo ( 
	id_contatti_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_1 PRIMARY KEY ( id_contatti_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dati_province_istat ( 
	id_provincia INT UNSIGNED NOT NULL,
	totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
CONSTRAINT pk_dati_province_istat PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dati_regioni_istat ( 
	id_regione INT UNSIGNED NOT NULL,
	totale_abitanti INT UNSIGNED NOT NULL DEFAULT 0,
	descrizione_zona VARCHAR( 20 ) NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_dati_regioni_istat PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.denominazioni_alternative ( 
	id_denominazioni_alternative INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_anche PRIMARY KEY ( id_denominazioni_alternative )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_anche_FKIndex1 ON abicampania.denominazioni_alternative ( id_biblioteca );

CREATE TABLE abicampania.denominazioni_precedenti ( 
	id_denominazioni_precedenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_denominata_gia PRIMARY KEY ( id_denominazioni_precedenti )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX denominata_gia_FKIndex1 ON abicampania.denominazioni_precedenti ( id_biblioteca );

CREATE TABLE abicampania.depositi_legali ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_depositi_legali_tipo INT UNSIGNED NOT NULL,
	da_anno VARCHAR( 10 ) NULL,
CONSTRAINT pk_biblioteca_has_deposito_legale PRIMARY KEY ( id_biblioteca, id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.depositi_legali_tipo ( 
	id_depositi_legali_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_deposito_legale PRIMARY KEY ( id_depositi_legali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.destinazioni_sociali ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_destinazioni_sociali_tipo INT UNSIGNED NOT NULL,
	note VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_destinaz_sociale PRIMARY KEY ( id_biblioteca, id_destinazioni_sociali_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.destinazioni_sociali_tipo ( 
	id_destinazioni_sociali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_destinaz_sociale PRIMARY KEY ( id_destinazioni_sociali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dewey ( 
	id_dewey VARCHAR( 6 ) NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_dewey PRIMARY KEY ( id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.dewey_libero ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_dewey VARCHAR( 6 ) NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_biblioteca_has_dewey_lib PRIMARY KEY ( id_biblioteca, id_dewey )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.ente ( 
	id_ente INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_stato INT UNSIGNED NOT NULL,
	id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL,
	id_ente_obiettivo INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 255 ) NULL,
	partita_iva VARCHAR( 11 ) NULL,
	codice_fiscale VARCHAR( 16 ) NULL,
	asia_asip VARCHAR( 11 ) NULL,
CONSTRAINT pk_ente PRIMARY KEY ( id_ente )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX ente_FKIndex1 ON abicampania.ente ( id_ente_obiettivo );

CREATE INDEX ente_FKIndex2 ON abicampania.ente ( id_ente_tipologia_amministrativa );

CREATE INDEX ente_FKIndex3 ON abicampania.ente ( id_stato );

CREATE TABLE abicampania.ente_obiettivo ( 
	id_ente_obiettivo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 100 ) NOT NULL,
CONSTRAINT pk_obiettivo PRIMARY KEY ( id_ente_obiettivo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.ente_tipologia_amministrativa ( 
	id_ente_tipologia_amministrativa INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_ente PRIMARY KEY ( id_ente_tipologia_amministrativa )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.fondi_antichi_consistenza ( 
	id_fondi_antichi_consistenza INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_fondi_antichi_consistenza )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.fondi_digitali ( 
	id_fondi_digitali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_fondi_digitali PRIMARY KEY ( id_fondi_digitali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX fondi_digitali_FKIndex1 ON abicampania.fondi_digitali ( id_biblioteca );

CREATE TABLE abicampania.fondi_speciali ( 
	id_fondi_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_dewey VARCHAR( 6 ) NULL,
	denominazione VARCHAR( 255 ) NOT NULL,
	fondo_depositato BOOL NULL,
	descrizione VARCHAR( 255 ) NULL,
	id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL,
	catalogazione_inventario_url VARCHAR( 255 ) NULL,
	citazione_bibliografica TEXT NULL,
CONSTRAINT pk_fondi_speciali PRIMARY KEY ( id_fondi_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX fondi_speciali_FKIndex1 ON abicampania.fondi_speciali ( id_dewey );

CREATE INDEX idx_fondi_speciali ON abicampania.fondi_speciali ( id_fondi_speciali_catalogazione_inventario );

CREATE TABLE abicampania.fondi_speciali_catalogazione_inventario ( 
	id_fondi_speciali_catalogazione_inventario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_fondi_speciali_catalogazione_inventario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.geolocalizzazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	latitudine DOUBLE NULL,
	longitudine DOUBLE NULL,
	precisione VARCHAR( 50 ) NULL,
	warning TEXT NULL,
	error TEXT NULL,
CONSTRAINT pk_id_bib PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.indicizzazione_classificata ( 
	id_indicizzazione_classificata INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_classificata PRIMARY KEY ( id_indicizzazione_classificata )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.indicizzazione_soggetto ( 
	id_indicizzazione_soggetto INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_indic_soggetto PRIMARY KEY ( id_indicizzazione_soggetto )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.norme_catalogazione ( 
	id_norme_catalogazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_norme_catalogazione PRIMARY KEY ( id_norme_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.nuova_biblioteca ( 
	id_biblioteca INT UNSIGNED NOT NULL AUTO_INCREMENT,
	isil_stato VARCHAR( 2 ) NOT NULL DEFAULT 'IT',
	isil_provincia VARCHAR( 2 ) NOT NULL,
	isil_numero INT UNSIGNED NULL,
	denominazione_ufficiale VARCHAR( 255 ) NULL,
	id_comune INT UNSIGNED NULL,
	data_fondazione VARCHAR( 20 ) NULL,
	edificio_monumentale BOOL NULL,
	edificio_data_costruzione VARCHAR( 255 ) NULL,
	edificio_appositamente_costruito BOOL NULL,
	autonomia_amministrativa BOOL NULL,
	accesso_riservato BOOL NULL,
	accesso_handicap BOOL NULL,
	accesso_internet_pagamento BOOL NULL,
	accesso_internet_tempo BOOL NULL,
	accesso_internet_proxy BOOL NULL,
	inventario_cartaceo BOOL NULL,
	inventario_informatizzato BOOL NULL,
	catalogo_topografico_cartaceo BOOL NULL,
	catalogo_topografico_informatizzato BOOL NULL,
	id_tipologia_funzionale INT UNSIGNED NULL,
	gestisce_servizio_bibliografico_interno BOOL NULL,
	gestisce_servizio_bibliografico_esterno BOOL NULL,
	login_creatore INT UNSIGNED NULL,
	login_gestore INT UNSIGNED NULL,
	id_stato_biblioteca_workflow INT NOT NULL,
	ente_denominazione VARCHAR( 255 ) NULL,
	ente_tipologia_amministrativa VARCHAR( 255 ) NULL,
	ente_stato VARCHAR( 255 ) NULL,
CONSTRAINT PK_biblioteca PRIMARY KEY ( id_biblioteca )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_FKIndex2 ON abicampania.nuova_biblioteca ( id_comune );

CREATE INDEX biblioteca_FKIndex4 ON abicampania.nuova_biblioteca ( id_tipologia_funzionale );

CREATE INDEX idx_login_creatore ON abicampania.nuova_biblioteca ( login_creatore );

CREATE INDEX idx_login_gestore ON abicampania.nuova_biblioteca ( login_gestore );

CREATE INDEX idx_nuova_biblioteca ON abicampania.nuova_biblioteca ( id_stato_biblioteca_workflow );

CREATE TABLE abicampania.orario_chiusure ( 
	id_orario_chiusure INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_periodo_chiusura PRIMARY KEY ( id_orario_chiusure )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX periodo_chiusura_FKIndex1 ON abicampania.orario_chiusure ( id_biblioteca );

CREATE TABLE abicampania.orario_ufficiali ( 
	id_orario_ufficiali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	giorno INT NOT NULL,
	dalle TIME NOT NULL,
	alle TIME NOT NULL,
CONSTRAINT pk_orario_ufficiale PRIMARY KEY ( id_orario_ufficiali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orario_ufficiale_FKIndex1 ON abicampania.orario_ufficiali ( id_biblioteca );

CREATE TABLE abicampania.orario_variazioni ( 
	id_orario_variazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
	giorno INT NULL,
	dalle TIME NULL,
	alle TIME NULL,
CONSTRAINT pk_orari_variazioni PRIMARY KEY ( id_orario_variazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX orari_variazioni_FKIndex1 ON abicampania.orario_variazioni ( id_biblioteca );

CREATE TABLE abicampania.partecipa_cataloghi_collettivi_materiale ( 
	id_cataloghi_collettivi_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_cataloghi_collettivi INT UNSIGNED NOT NULL,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
CONSTRAINT pk_catal_coll PRIMARY KEY ( id_cataloghi_collettivi_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_coll_FKIndex1 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_biblioteca );

CREATE INDEX catal_coll_FKIndex2 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_patrimonio_specializzazione );

CREATE INDEX catal_coll_FKIndex3 ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_collettivi );

CREATE INDEX idx_cataloghi_collettivi ON abicampania.partecipa_cataloghi_collettivi_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abicampania.partecipa_cataloghi_generali ( 
	id_cataloghi_generali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
	id_catalogo_generale_tipo INT UNSIGNED NOT NULL,
CONSTRAINT pk_catal_gener PRIMARY KEY ( id_cataloghi_generali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX cataloghi_gener_FKIndex1 ON abicampania.partecipa_cataloghi_generali ( id_biblioteca );

CREATE INDEX idx_cataloghi_generali ON abicampania.partecipa_cataloghi_generali ( id_cataloghi_supporto_digitale_tipo );

CREATE INDEX idx_1_cataloghi_generali_tipo ON abicampania.partecipa_cataloghi_generali ( id_catalogo_generale_tipo );

CREATE TABLE abicampania.partecipa_cataloghi_speciali_materiale ( 
	id_cataloghi_speciali_materiale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	id_biblioteca INT UNSIGNED NOT NULL,
	schede BOOL NULL,
	volume BOOL NULL,
	microforme BOOL NULL,
	id_cataloghi_supporto_digitale_tipo INT UNSIGNED NOT NULL,
	descrizione_volume VARCHAR( 255 ) NULL,
	percentuale_schede INT UNSIGNED NULL,
	percentuale_volume INT UNSIGNED NULL,
	percentuale_microforme INT UNSIGNED NULL,
	percentuale_informatizzata INT UNSIGNED NULL,
	da_anno INT UNSIGNED NULL,
	a_anno INT UNSIGNED NULL,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_catal_spec PRIMARY KEY ( id_cataloghi_speciali_materiale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX catal_spec_FKIndex1 ON abicampania.partecipa_cataloghi_speciali_materiale ( id_biblioteca );

CREATE INDEX catal_spec_FKIndex2 ON abicampania.partecipa_cataloghi_speciali_materiale ( id_patrimonio_specializzazione );

CREATE INDEX idx_cataloghi_speciali ON abicampania.partecipa_cataloghi_speciali_materiale ( id_cataloghi_supporto_digitale_tipo );

CREATE TABLE abicampania.patrimonio ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL,
	quantita INT UNSIGNED NOT NULL,
	quantita_ultimo_anno INT UNSIGNED NOT NULL,
CONSTRAINT idx_1 PRIMARY KEY ( id_biblioteca, id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.patrimonio_specializzazione ( 
	id_patrimonio_specializzazione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL,
	descrizione TEXT NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec PRIMARY KEY ( id_patrimonio_specializzazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_FKIndex1 ON abicampania.patrimonio_specializzazione ( id_patrimonio_specializzazione_categoria );

CREATE TABLE abicampania.patrimonio_specializzazione_categoria ( 
	id_patrimonio_specializzazione_categoria INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_patrimonio_specializzazione_categoria_madre INT UNSIGNED NULL,
	descrizione TEXT NULL,
	id_sort INT UNSIGNED NULL,
CONSTRAINT pk_patr_spec_cat PRIMARY KEY ( id_patrimonio_specializzazione_categoria )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX patr_spec_cat_FKIndex1 ON abicampania.patrimonio_specializzazione_categoria ( id_patrimonio_specializzazione_categoria_madre );

CREATE TABLE abicampania.prestito_interbibliotecario ( 
	id_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	nazionale BOOL NULL,
	internazionale BOOL NULL,
	id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL,
CONSTRAINT pk_pre_pos_dsc PRIMARY KEY ( id_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_prestito_interbibliotecario ON abicampania.prestito_interbibliotecario ( id_prestito_interbibliotecario_modo );

CREATE TABLE abicampania.prestito_interbibliotecario_modo ( 
	id_prestito_interbibliotecario_modo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_prestito_interbibliotecario_modo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.prestito_locale ( 
	id_prestito_locale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	automatizzato BOOL NULL,
	durata_giorni INT UNSIGNED NULL,
CONSTRAINT pk_prestito_locale PRIMARY KEY ( id_prestito_locale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_FKIndex1 ON abicampania.prestito_locale ( id_biblioteca );

CREATE TABLE abicampania.prestito_locale_has_materiale_escluso ( 
	id_prestito_locale INT UNSIGNED NOT NULL,
	id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_escluso PRIMARY KEY ( id_prestito_locale, id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex1 ON abicampania.prestito_locale_has_materiale_escluso ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_escluso_FKIndex2 ON abicampania.prestito_locale_has_materiale_escluso ( id_prestito_locale_materiale_escluso );

CREATE TABLE abicampania.prestito_locale_has_utenti_ammessi ( 
	id_prestito_locale INT UNSIGNED NOT NULL,
	id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL,
CONSTRAINT pk_prestito_locale_has_prest_zona PRIMARY KEY ( id_prestito_locale, id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX prestito_locale_has_prest_zona_FKIndex1 ON abicampania.prestito_locale_has_utenti_ammessi ( id_prestito_locale );

CREATE INDEX prestito_locale_has_prest_zona_FKIndex2 ON abicampania.prestito_locale_has_utenti_ammessi ( id_prestito_locale_utenti_ammessi );

CREATE TABLE abicampania.prestito_locale_materiale_escluso ( 
	id_prestito_locale_materiale_escluso INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_escluso PRIMARY KEY ( id_prestito_locale_materiale_escluso )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.prestito_locale_utenti_ammessi ( 
	id_prestito_locale_utenti_ammessi INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_prest_zona PRIMARY KEY ( id_prestito_locale_utenti_ammessi )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.profili ( 
	id_profili INT UNSIGNED NOT NULL AUTO_INCREMENT,
	denominazione VARCHAR( 255 ) NULL,
CONSTRAINT pk_profili PRIMARY KEY ( id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.provincia ( 
	id_provincia INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_regione INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	codice_istat VARCHAR( 10 ) NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_provincia PRIMARY KEY ( id_provincia )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX provincia_FKIndex1 ON abicampania.provincia ( id_regione );

CREATE TABLE abicampania.pubblicazioni ( 
	id_pubblicazioni INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_biblioteca_has_pubblicazioni PRIMARY KEY ( id_pubblicazioni )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX biblioteca_has_pubblicazioni_FKIndex1 ON abicampania.pubblicazioni ( id_biblioteca );

CREATE TABLE abicampania.regione ( 
	id_regione INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_stato INT UNSIGNED NOT NULL,
	denominazione VARCHAR( 100 ) NOT NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_regione PRIMARY KEY ( id_regione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regione_FKIndex1 ON abicampania.regione ( id_stato );

CREATE TABLE abicampania.regolamento ( 
	id_regolamento INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	riferimento_normativa VARCHAR( 255 ) NULL,
	url VARCHAR( 255 ) NULL,
CONSTRAINT pk_regolamento PRIMARY KEY ( id_regolamento )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX regolamento_FKIndex1 ON abicampania.regolamento ( id_biblioteca );

CREATE TABLE abicampania.riproduzioni ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_riproduzioni_tipo INT UNSIGNED NOT NULL,
	locale BOOL NULL,
	nazionale BOOL NULL,
	internazionale BOOL NULL,
CONSTRAINT idx PRIMARY KEY ( id_biblioteca, id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.riproduzioni_tipo ( 
	id_riproduzioni_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_tipo_riproduzioni PRIMARY KEY ( id_riproduzioni_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.servizi_bibliotecari_carta ( 
	id__servizi_bibliotecari_carta INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id__servizi_bibliotecari_carta )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.servizi_informazioni_bibliografiche_modalita ( 
	id_servizi_informazioni_bibliografiche_modalita INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT PK_Table_2 PRIMARY KEY ( id_servizi_informazioni_bibliografiche_modalita )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sezioni_speciali ( 
	id_sezioni_speciali INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_sezioni_speciali PRIMARY KEY ( id_sezioni_speciali )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sistemi_biblioteche ( 
	id_sistemi_biblioteche INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
CONSTRAINT pk_partec_sist_biblio PRIMARY KEY ( id_sistemi_biblioteche )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.sistemi_prestito_interbibliotecario ( 
	id_sistemi_prestito_interbibliotecario INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_sist_pr_interbiblio PRIMARY KEY ( id_sistemi_prestito_interbibliotecario )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.spogli_bibliografici ( 
	id_spogli_bibliografici INT UNSIGNED NOT NULL AUTO_INCREMENT,
	id_biblioteca INT UNSIGNED NOT NULL,
	descrizione_bibliografica TEXT NOT NULL,
CONSTRAINT PK_Table_3 PRIMARY KEY ( id_spogli_bibliografici )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_spogli_bibliografici ON abicampania.spogli_bibliografici ( id_biblioteca );

CREATE TABLE abicampania.stato ( 
	id_stato INT UNSIGNED NOT NULL AUTO_INCREMENT,
	denominazione VARCHAR( 100 ) NOT NULL,
	sigla VARCHAR( 2 ) NULL,
CONSTRAINT pk_stato PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.stato_biblioteca_workflow ( 
	id_stato INT NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NULL,
	label VARCHAR( 64 ) NOT NULL,
CONSTRAINT PK_Table_4 PRIMARY KEY ( id_stato )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.stato_catalogazione ( 
	id_biblioteca INT UNSIGNED NOT NULL,
	id_stato_catalogazione INT UNSIGNED NOT NULL,
	id_biblioteca_target INT UNSIGNED NULL,
CONSTRAINT pk_biblioteca_has_stato_catalogazione PRIMARY KEY ( id_biblioteca, id_stato_catalogazione )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX idx_stato_catalogazione ON abicampania.stato_catalogazione ( id_biblioteca_target );

CREATE TABLE abicampania.stato_catalogazione_tipo ( 
	id_stato_catalogazione_tipo INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 100 ) NULL,
CONSTRAINT pk_stato_catalogazione PRIMARY KEY ( id_stato_catalogazione_tipo )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.thesaurus ( 
	id_thesaurus INT UNSIGNED NOT NULL AUTO_INCREMENT,
	nome VARCHAR( 255 ) NULL,
CONSTRAINT pk_thesaurus PRIMARY KEY ( id_thesaurus )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.tipologia_funzionale ( 
	id_tipologia_funzionale INT UNSIGNED NOT NULL AUTO_INCREMENT,
	descrizione VARCHAR( 255 ) NOT NULL,
CONSTRAINT pk_tipologia_funzionale PRIMARY KEY ( id_tipologia_funzionale )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE abicampania.utenti ( 
	id_utenti INT UNSIGNED NOT NULL AUTO_INCREMENT,
	login VARCHAR( 20 ) NOT NULL,
	password VARCHAR( 50 ) NOT NULL,
	nome VARCHAR( 255 ) NULL,
	cognome VARCHAR( 255 ) NULL,
	tel VARCHAR( 50 ) NULL,
	fax VARCHAR( 50 ) NULL,
	email VARCHAR( 50 ) NULL,
	incarico VARCHAR( 50 ) NULL,
	note VARCHAR( 255 ) NULL,
	data_modifica_password DATETIME NULL,
	enabled BOOL NOT NULL DEFAULT 1,
	codice_validazione VARCHAR( 50 ) NULL,
CONSTRAINT PK_utenti PRIMARY KEY ( id_utenti ),
CONSTRAINT login UNIQUE ( login )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

ALTER TABLE abicampania.utenti MODIFY data_modifica_password DATETIME COMMENT 'data di ultima generazione della password';

CREATE TABLE abicampania.utenti_has_profili ( 
	id_utenti INT UNSIGNED NOT NULL,
	id_profili INT UNSIGNED NOT NULL,
CONSTRAINT pk_utenti_has_profili PRIMARY KEY ( id_utenti, id_profili )
 ) engine=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE INDEX utenti_has_profili_FKIndex1 ON abicampania.utenti_has_profili ( id_utenti );

CREATE INDEX utenti_has_profili_FKIndex2 ON abicampania.utenti_has_profili ( id_profili );

ALTER TABLE abicampania.bibliografia ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_0 ( id_comune ) REFERENCES abicampania.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_2 ( id_tipologia_funzionale ) REFERENCES abicampania.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_3 ( id_ente ) REFERENCES abicampania.ente( id_ente ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_4 ( id_biblioteca_padre ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_1 ( id_fondi_antichi_consistenza ) REFERENCES abicampania.fondi_antichi_consistenza( id_fondi_antichi_consistenza ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_5 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca ADD FOREIGN KEY fk_6 ( id_stato_biblioteca_workflow ) REFERENCES abicampania.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_accesso_modalita ADD FOREIGN KEY fk_1 ( id_accesso_modalita ) REFERENCES abicampania.accesso_modalita( id_accesso_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_dewey ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_dewey ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali ) REFERENCES abicampania.fondi_speciali( id_fondi_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_classificata ADD FOREIGN KEY fk_1 ( id_indicizzazione_classificata ) REFERENCES abicampania.indicizzazione_classificata( id_indicizzazione_classificata ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_indicizzazione_soggetto ADD FOREIGN KEY fk_1 ( id_indicizzazione_soggetto ) REFERENCES abicampania.indicizzazione_soggetto( id_indicizzazione_soggetto ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_norme_catalogazione ADD FOREIGN KEY fk_1 ( id_norme_catalogazione ) REFERENCES abicampania.norme_catalogazione( id_norme_catalogazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_prestito_interbibliotecario ) REFERENCES abicampania.prestito_interbibliotecario( id_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_bibliotecari_carta ADD FOREIGN KEY fk_1 ( id__servizi_bibliotecari_carta ) REFERENCES abicampania.servizi_bibliotecari_carta( id__servizi_bibliotecari_carta ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_servizi_informazioni_bibliografiche ADD FOREIGN KEY fk_1 ( id_servizi_informazioni_bibliografiche_modalita ) REFERENCES abicampania.servizi_informazioni_bibliografiche_modalita( id_servizi_informazioni_bibliografiche_modalita ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sezioni_speciali ADD FOREIGN KEY fk_1 ( id_sezioni_speciali ) REFERENCES abicampania.sezioni_speciali( id_sezioni_speciali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_biblioteche ADD FOREIGN KEY fk_1 ( id_sistemi_biblioteche ) REFERENCES abicampania.sistemi_biblioteche( id_sistemi_biblioteche ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_sistemi_prestito_interbibliotecario ADD FOREIGN KEY fk_1 ( id_sistemi_prestito_interbibliotecario ) REFERENCES abicampania.sistemi_prestito_interbibliotecario( id_sistemi_prestito_interbibliotecario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_thesaurus ADD FOREIGN KEY fk_amministrata_biblioteca1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_thesaurus ADD FOREIGN KEY fk_amministrata_thesaurus1 ( id_thesaurus ) REFERENCES abicampania.thesaurus( id_thesaurus ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_utenti ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.biblioteca_has_utenti ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_collettivi ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_zona_tipo ) REFERENCES abicampania.cataloghi_collettivi_zona_tipo( id_cataloghi_collettivi_zona_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_collettivi_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_collettivi_materiale ) REFERENCES abicampania.partecipa_cataloghi_collettivi_materiale( id_cataloghi_collettivi_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_generali_url ADD FOREIGN KEY fk_cataloghi_generali_url ( id_cataloghi_generali ) REFERENCES abicampania.partecipa_cataloghi_generali( id_cataloghi_generali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.cataloghi_speciali_materiale_url ADD FOREIGN KEY fk_0 ( id_cataloghi_speciali_materiale ) REFERENCES abicampania.partecipa_cataloghi_speciali_materiale( id_cataloghi_speciali_materiale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.codici ADD FOREIGN KEY fk_0 ( id_codici ) REFERENCES abicampania.codici_tipo( id_codici ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.codici ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.comune ADD FOREIGN KEY fk_comune_provincia1 ( id_provincia ) REFERENCES abicampania.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.comunicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.contatti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.contatti ADD FOREIGN KEY fk_1 ( id_contatti_tipi ) REFERENCES abicampania.contatti_tipo( id_contatti_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dati_province_istat ADD FOREIGN KEY fk_0 ( id_provincia ) REFERENCES abicampania.provincia( id_provincia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dati_regioni_istat ADD FOREIGN KEY fk_0 ( id_regione ) REFERENCES abicampania.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.denominazioni_alternative ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.denominazioni_precedenti ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.depositi_legali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.depositi_legali ADD FOREIGN KEY fk_1 ( id_depositi_legali_tipo ) REFERENCES abicampania.depositi_legali_tipo( id_depositi_legali_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.destinazioni_sociali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.destinazioni_sociali ADD FOREIGN KEY fk_1 ( id_destinazioni_sociali_tipo ) REFERENCES abicampania.destinazioni_sociali_tipo( id_destinazioni_sociali ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dewey_libero ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.dewey_libero ADD FOREIGN KEY fk_1 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_0 ( id_ente_tipologia_amministrativa ) REFERENCES abicampania.ente_tipologia_amministrativa( id_ente_tipologia_amministrativa ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_1 ( id_ente_obiettivo ) REFERENCES abicampania.ente_obiettivo( id_ente_obiettivo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.ente ADD FOREIGN KEY fk_2 ( id_stato ) REFERENCES abicampania.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_digitali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_speciali ADD FOREIGN KEY fk_0 ( id_dewey ) REFERENCES abicampania.dewey( id_dewey ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.fondi_speciali ADD FOREIGN KEY fk_1 ( id_fondi_speciali_catalogazione_inventario ) REFERENCES abicampania.fondi_speciali_catalogazione_inventario( id_fondi_speciali_catalogazione_inventario ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.geolocalizzazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_comune ( id_comune ) REFERENCES abicampania.comune( id_comune ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_tipologia_funzionale ( id_tipologia_funzionale ) REFERENCES abicampania.tipologia_funzionale( id_tipologia_funzionale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_login_creatore ( login_creatore ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_login_gestore ( login_gestore ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.nuova_biblioteca ADD FOREIGN KEY fk_id_stato_biblioteca_workflow ( id_stato_biblioteca_workflow ) REFERENCES abicampania.stato_biblioteca_workflow( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_chiusure ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_ufficiali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.orario_variazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_1 ( id_cataloghi_collettivi ) REFERENCES abicampania.cataloghi_collettivi( id_cataloghi_collettivi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_collettivi_materiale ADD FOREIGN KEY fk_4 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_2 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_generali ADD FOREIGN KEY fk_3 ( id_catalogo_generale_tipo ) REFERENCES abicampania.catalogo_generale_tipo( id_catalogo_generale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_2 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.partecipa_cataloghi_speciali_materiale ADD FOREIGN KEY fk_3 ( id_cataloghi_supporto_digitale_tipo ) REFERENCES abicampania.cataloghi_supporto_digitale_tipo( id_cataloghi_supporto_digitale_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio ADD FOREIGN KEY fk_1 ( id_patrimonio_specializzazione ) REFERENCES abicampania.patrimonio_specializzazione( id_patrimonio_specializzazione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio_specializzazione ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria ) REFERENCES abicampania.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.patrimonio_specializzazione_categoria ADD FOREIGN KEY fk_0 ( id_patrimonio_specializzazione_categoria_madre ) REFERENCES abicampania.patrimonio_specializzazione_categoria( id_patrimonio_specializzazione_categoria ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_interbibliotecario ADD FOREIGN KEY fk_0 ( id_prestito_interbibliotecario_modo ) REFERENCES abicampania.prestito_interbibliotecario_modo( id_prestito_interbibliotecario_modo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_0 ( id_prestito_locale ) REFERENCES abicampania.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_materiale_escluso ADD FOREIGN KEY fk_1 ( id_prestito_locale_materiale_escluso ) REFERENCES abicampania.prestito_locale_materiale_escluso( id_prestito_locale_materiale_escluso ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_1 ( id_prestito_locale ) REFERENCES abicampania.prestito_locale( id_prestito_locale ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.prestito_locale_has_utenti_ammessi ADD FOREIGN KEY fk_0 ( id_prestito_locale_utenti_ammessi ) REFERENCES abicampania.prestito_locale_utenti_ammessi( id_prestito_locale_utenti_ammessi ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.provincia ADD FOREIGN KEY fk_provincia_regione1 ( id_regione ) REFERENCES abicampania.regione( id_regione ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.pubblicazioni ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.regione ADD FOREIGN KEY fk_regione_stato1 ( id_stato ) REFERENCES abicampania.stato( id_stato ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.regolamento ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.riproduzioni ADD FOREIGN KEY fk_0 ( id_riproduzioni_tipo ) REFERENCES abicampania.riproduzioni_tipo( id_riproduzioni_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.riproduzioni ADD FOREIGN KEY fk_1 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.spogli_bibliografici ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_0 ( id_biblioteca ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_1 ( id_stato_catalogazione ) REFERENCES abicampania.stato_catalogazione_tipo( id_stato_catalogazione_tipo ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.stato_catalogazione ADD FOREIGN KEY fk_2 ( id_biblioteca_target ) REFERENCES abicampania.biblioteca( id_biblioteca ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.utenti_has_profili ADD FOREIGN KEY fk_0 ( id_utenti ) REFERENCES abicampania.utenti( id_utenti ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE abicampania.utenti_has_profili ADD FOREIGN KEY fk_1 ( id_profili ) REFERENCES abicampania.profili( id_profili ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]> </string>
		</query>
	</layout>
</project>